(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[71],{806:function(e,a,t){"use strict";t.r(a);var n=t(47),r=t(18),c=t(15),l=t(1),s=t.n(l),i=t(607),o=t(46),m=t(598),u=t(197),d=t(301),g=t(88),p=t(8),b=t(10),E=t(9),v=t.n(E),f=(t(223),t(17)),h=t(28),y=t(61),j=t(77),w=function(e){var a=Object(l.useState)(!1),E=Object(c.a)(a,2),h=E[0],y=E[1],w=Object(l.useState)(!1),N=Object(c.a)(w,2),x=N[0],O=N[1],k=Object(l.useState)({name:"",rut:"",email:"",password:"",password_repeat:"",id_rol:2,name_enterprise:"",address_enterprise:""}),R=Object(c.a)(k,2),C=R[0],_=R[1],q=Object(l.useState)(null),S=Object(c.a)(q,2),I=S[0],P=S[1];Object(l.useEffect)((function(){T()}),[]);var T=function(){v.a.get(b.b+"config_aidy_login").then((function(e){e.data&&e.data.img_login&&P(e.data.img_login)})).catch((function(a){e.tokenExpired(a)}))},z=function(e){if("rut"===e.target.name){var a=Object(f.b)(e.target.value);_(Object(r.a)(Object(r.a)({},C),{},Object(n.a)({},e.target.name,a)))}else _(Object(r.a)(Object(r.a)({},C),{},Object(n.a)({},e.target.name,e.target.value)))};return s.a.createElement("div",{className:"authentication-wrapper authentication-3"},s.a.createElement("div",{className:"authentication-inner"},I?s.a.createElement("div",{className:"d-none d-lg-flex col-lg-8 align-items-center ui-bg-cover ui-bg-overlay-container p-5",style:{backgroundImage:"url('".concat(b.b,"images/aidy/").concat(I,"')")}},s.a.createElement("div",{className:"ui-bg-overlay bg-dark opacity-50"}),s.a.createElement("div",{className:"w-100 text-white px-5"},s.a.createElement("h1",{className:"display-2 font-weight-bolder mb-4"},"REGISTRO DE CUENTA"),s.a.createElement("div",{className:"text-large font-weight-light"},"Crea tu usuario nivel empresa para empezar el manejo de negocio en aidy"))):s.a.createElement("div",{className:"d-none d-lg-flex col-lg-8 align-items-center ui-bg-cover ui-bg-overlay-container p-5",style:{backgroundImage:"url('".concat("https://app.aidy.cl","/background_1920-16.jpg')")}},s.a.createElement("div",{className:"ui-bg-overlay bg-dark opacity-50"}),s.a.createElement("div",{className:"w-100 text-white px-5"},s.a.createElement("h1",{className:"display-2 font-weight-bolder mb-4"},"REGISTRO DE CUENTA"),s.a.createElement("div",{className:"text-large font-weight-light"},"Crea tu usuario nivel empresa para empezar el manejo de negocio en aidy"))),s.a.createElement("div",{className:"d-flex col-lg-4 align-items-center theme-bg-white p-5"},s.a.createElement("div",{className:"d-flex col-sm-7 col-md-5 col-lg-12 px-0 px-xl-4 mx-auto"},s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},s.a.createElement("div",{className:"position-relative text-center"},s.a.createElement(i.a,{src:t(159),width:"150px"}))),s.a.createElement("h4",{className:"text-center text-lighter font-weight-normal mt-5 mb-0"}),h?s.a.createElement(j.a,null):s.a.createElement(o.a,{onSubmit:function(a){var t=a.currentTarget;if(a.preventDefault(),!1===t.checkValidity())return a.stopPropagation(),void O(!0);var n=Object.assign({},C);if(n.password!==n.password_repeat)return p.b.error("Las contrase\xf1as no coinciden"),!1;y(!0),v.a.post(b.b+"user_free",n).then((function(a){p.b.success("Felicidades, usuario registrado con \xe9xito"),localStorage.setItem("user",JSON.stringify(a.data.user)),localStorage.setItem("token",a.data.token),Object(f.f)(a.data.token),e.login(a.data.user),y(!1),setTimeout((function(){e.history.replace("/dashboard")}),1500)})).catch((function(a){y(!1),e.tokenExpired(a)}))},noValidate:!0,validated:x},s.a.createElement(m.a,{className:"justify-content-center"},s.a.createElement(g.a,Object.assign({},e.inputName,{handleChange:z,value:C.name}))),s.a.createElement(m.a,{className:"justify-content-center"},s.a.createElement(g.a,Object.assign({},e.inputEmail,{handleChange:z,value:C.email}))),s.a.createElement(m.a,{className:"justify-content-center"},s.a.createElement(g.a,Object.assign({},e.inputRut,{handleChange:z,value:C.rut}))),s.a.createElement(m.a,{className:"justify-content-center"},s.a.createElement(g.a,Object.assign({},e.inputPassword,{handleChange:z,value:C.password}))),s.a.createElement(m.a,{className:"justify-content-center"},s.a.createElement(g.a,Object.assign({},e.inputPasswordRepeat,{handleChange:z,value:C.password_repeat}))),s.a.createElement(m.a,{className:"justify-content-center"},s.a.createElement(u.a,{sm:12,md:12,lg:12},s.a.createElement(d.a,{size:"sm",variant:"primary",block:!0,type:"submit"},"Enviar"))),s.a.createElement("br",null),s.a.createElement(m.a,{className:"justify-content-center"},s.a.createElement(u.a,{sm:12,md:12,lg:12},s.a.createElement(d.a,{size:"sm",variant:"secondary",block:!0,type:"button",onClick:function(){return e.history.replace("/")}},"Volver")))))))),s.a.createElement(p.a,null))};w.defaultProps={inputName:{type:"text",required:!0,name:"name",label:"Nombre Completo",messageErrors:["Requerido*"],cols:"col-sm-12 col-md-12 col-lg-12 col-xs-12"},inputEmail:{type:"email",required:!0,name:"email",label:"Correo",messageErrors:["Requerido*"," Formato tipo Email*"],cols:"col-sm-12 col-md-12 col-lg-12 col-xs-12"},inputRut:{type:"text",required:!0,name:"rut",label:"Rut",messageErrors:["Requerido*"],cols:"col-sm-12 col-md-12 col-lg-12 col-xs-12"},inputPassword:{type:"password",required:!0,name:"password",label:"Contrase\xf1a",messageErrors:["Requerido*"],cols:"col-sm-12 col-md-12 col-lg-12 col-xs-12"},inputPasswordRepeat:{type:"password",required:!0,name:"password_repeat",label:"Repita la Contrase\xf1a",messageErrors:["Requerido*"],cols:"col-sm-12 col-md-12 col-lg-12 col-xs-12"}},a.default=Object(h.b)((function(e){return{isLogin:e.auth.isAuthenticated}}),{login:y.a})(w)}}]);
//# sourceMappingURL=71.434861a4.chunk.js.map