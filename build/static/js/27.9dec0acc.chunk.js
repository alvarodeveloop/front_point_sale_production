(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[27],{661:function(e,t,a){"use strict";var n=a(47),r=a(665),l=a(1),c=a.n(l),s=a(666),o=a(667),i=a(668),u=a(320);function m(){var e=Object(r.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .tr_cabecera{\n    background-color: rgb(218, 236, 242);\n    color: black;\n  }\n"]);return m=function(){return e},e}var p=s.a.div(m());function g(e){var t=e.column,a=t.filterValue,n=t.preFilteredRows,r=t.setFilter,l=n.length;return c.a.createElement("input",{value:a||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(l," registros..."),className:"inputPageFilter"})}function d(e,t,a){return Object(i.a)(e,a,{keys:[function(e){return e.values[t]}]})}function b(e){var t=e.columns,a=e.data,r=c.a.useMemo((function(){return{fuzzyText:d,text:function(e,t,a){return e.filter((function(e){var n=e.values[t];return void 0===n||String(n).toLowerCase().startsWith(String(a).toLowerCase())}))}}}),[]),l=c.a.useMemo((function(){return{Filter:g}}),[]),s=Object(o.useTable)({columns:t,data:a,defaultColumn:l,filterTypes:r,initialState:{pageIndex:0}},o.useFilters,o.useSortBy,o.usePagination),i=s.getTableProps,m=s.getTableBodyProps,p=s.headerGroups,b=s.page,E=s.prepareRow,f=s.canPreviousPage,h=s.canNextPage,x=s.pageOptions,v=s.pageCount,y=s.gotoPage,N=s.nextPage,M=s.previousPage,j=s.setPageSize,k=s.state,O=k.pageIndex,P=k.pageSize;return c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",Object.assign({},i(),{className:"table table-bordered"}),c.a.createElement("thead",null,p.map((function(e){return c.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return c.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"tr_cabecera"}),e.render("Header"),c.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),c.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),c.a.createElement("tbody",Object.assign({},m(),{className:"text-center"}),b.map((function(e,t){return E(e)||c.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return c.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),c.a.createElement("div",{className:"pagination"},c.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return y(0)},disabled:!f},"<<")," ",c.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return M()},disabled:!f},"<")," ",c.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return N()},disabled:!h},">")," ",c.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return y(v-1)},disabled:!h},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,O+1," de ",x.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:O+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;y(t)},className:"inputPage"},"onChange",(function(e){e.target.value>x.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:P,onChange:function(e){j(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}d.autoRemove=function(e){return!e};t.a=function(e){var t=e.data,a=e.columns;return c.a.createElement(p,null,c.a.createElement(b,{data:t,columns:a}))}},705:function(e,t){},808:function(e,t){},809:function(e,t){},831:function(e,t,a){"use strict";a.r(t);var n=a(41),r=a(1),l=a.n(r),c=a(631),s=a(632),o=a(319),i=a(320),u=(a(661),a(25)),m=a(17),p=a.n(m),g=a(170),d=a(18),b=a(15),E=a(32),f=a(669),h=a(671),x=a(715),v=function(e){var t=Object(r.useState)([]),a=Object(n.a)(t,2),m=a[0],v=a[1],y=Object(r.useState)(""),N=Object(n.a)(y,2),M=N[0],j=N[1],k=Object(r.useState)(null),O=Object(n.a)(k,2),P=O[0],C=O[1];Object(r.useEffect)((function(){S()}),[]);var S=function(){p.a.get(d.a+"flow_cash_get_years").then((function(e){v(e.data),e.data.length>0&&(j(e.data[0].year),w(e.data[0].year))})).catch((function(e){e.response?b.b.error(e.response.data.message):(console.log(e),b.b.error("Error, contacte con soporte"))}))},w=function(e){p.a.get(d.a+"flow_cash_data_general/"+e).then((function(e){C(e.data)})).catch((function(e){e.response?b.b.error(e.response.data.message):(console.log(e),b.b.error("Error, contacte con soporte"))}))};return l.a.createElement(c.a,{className:"containerDiv"},l.a.createElement(s.a,null,l.a.createElement(o.a,{sm:12,md:12,lg:12},l.a.createElement("h4",{className:"title_principal"},"Reporte General de Caja"))),l.a.createElement("hr",null),l.a.createElement(s.a,{className:"justify-content-center"},l.a.createElement(g.a,Object.assign({},e.inputSelect,{handleChange:function(e){j(e.target.value),w(e.target.value)},value:M}),l.a.createElement("option",{value:""},"--Seleccione--"),m.map((function(e,t){return l.a.createElement("option",{key:t,value:e.year},e.year)}))),l.a.createElement(o.a,{sm:4,md:4,lg:4,xs:6},l.a.createElement("br",null),l.a.createElement(i.a,{size:"sm",variant:"success",block:!0,onClick:function(){if(P){var e=x.utils.book_new(),t=[["","Mes1","Mes2","Mes3","Mes4","Mes5","Mes6","Mes7","Mes8","Mes9","Mes10","Mes11","Mes12","Totales"]];e.Props={Title:"Reporte de General",Subject:"Exportaci\xf3n de Data",Author:"Aidy tecnology",CreatedDate:f().format("YYYY-MM-DD")},e.SheetNames.push("Reporte General");var a=P.ingresos.map((function(e){return Object(E.a)(e.total,2,",",".")}));a.unshift("Ingresos");var n=P.egresos.map((function(e){return Object(E.a)(e.total,2,",",".")}));n.unshift("Egresos");var r=P.ingresoMenosEgreso.map((function(e){return Object(E.a)(e,2,",",".")}));r.unshift("Ingresos - Egresos");var l=P.totales.map((function(e){return Object(E.a)(e,2,",",".")}));l.unshift("Saldo Final de Caja"),t.push(a),t.push(n),t.push(r),t.push(l);var c=x.utils.aoa_to_sheet(t);e.Sheets["Reporte General"]=c;var s=x.write(e,{bookType:"xlsx",type:"binary"}),o=Object(E.d)(s);Object(h.saveAs)(new Blob([o],{type:"application/octet-stream"}),"Reporte General"+f().format("DD-MM-YYYY")+".xlsx")}else b.b.error("Error, no hay datos para realizar el excel")}},"Exportar a Excel ",l.a.createElement(u.q,null)))),l.a.createElement("br",null),P?l.a.createElement(s.a,null,l.a.createElement(o.a,{sm:12,md:12,lg:12,className:"table-responsive"},l.a.createElement("table",{className:"table table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",{style:{backgroundColor:"rgb(28, 33, 93)",color:"white"}},l.a.createElement("th",{className:"text-center"}),l.a.createElement("th",{className:"text-center"},"Mes1"),l.a.createElement("th",{className:"text-center"},"Mes2"),l.a.createElement("th",{className:"text-center"},"Mes 3"),l.a.createElement("th",{className:"text-center"},"Mes 4"),l.a.createElement("th",{className:"text-center"},"Mes 5"),l.a.createElement("th",{className:"text-center"},"Mes 6"),l.a.createElement("th",{className:"text-center"},"Mes 7"),l.a.createElement("th",{className:"text-center"},"Mes 8"),l.a.createElement("th",{className:"text-center"},"Mes 9"),l.a.createElement("th",{className:"text-center"},"Mes 10"),l.a.createElement("th",{className:"text-center"},"Mes 11"),l.a.createElement("th",{className:"text-center"},"Mes 12"),l.a.createElement("th",{className:"text-center"},"Totales"))),l.a.createElement("tbody",{className:"text-center"},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Total Ingreso")),P.ingresos.map((function(e,t){return l.a.createElement("td",{key:t},Object(E.a)(e.total,2,",","."))}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Total Egreso")),P.egresos.map((function(e,t){return l.a.createElement("td",{key:t},Object(E.a)(e.total,2,",","."))}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Ingresos - Egresos")),P.ingresoMenosEgreso.map((function(e,t){return l.a.createElement("td",{key:t},Object(E.a)(e,2,",","."))}))),l.a.createElement("tr",{style:{backgroundColor:"rgb(244, 240, 194)",color:"rgb(19, 20, 20)"}},l.a.createElement("td",null,l.a.createElement("b",null,"Saldo Final de Caja")),P.totales.map((function(e,t){return l.a.createElement("td",{key:t},Object(E.a)(e,2,",","."))}))))))):l.a.createElement(s.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:12,md:12,lg:12},l.a.createElement("h4",{className:"text-center"},"Sin Ingresos o Egresos que Mostrar..."))))};v.defaultProps={inputSelect:{type:"select",required:!0,name:"year",label:"A\xf1o del reporte",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"}},t.default=v}}]);
//# sourceMappingURL=27.9dec0acc.chunk.js.map