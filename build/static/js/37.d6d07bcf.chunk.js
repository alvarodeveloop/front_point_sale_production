(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[37],{611:function(e,t,a){"use strict";var n=a(47),l=a(119),r=a(1),c=a.n(r),o=a(120),s=a(621),i=a(622),m=a(301);function u(){var e=Object(l.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .table_responsive_eddit{\n    overflow-x: auto;\n  }\n"]);return u=function(){return e},e}var d=o.a.div(u());function E(e){var t=e.column,a=t.filterValue,n=t.preFilteredRows,l=t.setFilter,r=n.length;return c.a.createElement("input",{value:a||"",onChange:function(e){l(e.target.value||void 0)},placeholder:"Buscar en ".concat(r," registros..."),className:"inputPageFilter"})}function b(e,t,a){return Object(i.a)(e,a,{keys:[function(e){return e.values[t]}]})}function g(e){var t=e.columns,a=e.data,l=e.menuTop,r=e.headerColor,o=e.headerFontColor,i=e.pageSizeHandler,u=c.a.useMemo((function(){return{fuzzyText:b,text:function(e,t,a){return e.filter((function(e){var n=e.values[t];return void 0===n||String(n).toLowerCase().startsWith(String(a).toLowerCase())}))}}}),[]),d=c.a.useMemo((function(){return{Filter:E}}),[]),g=Object(s.useTable)({columns:t,data:a,defaultColumn:d,filterTypes:u,initialState:{pageIndex:0,pageSize:i[0]}},s.useFilters,s.useSortBy,s.usePagination),p=g.getTableProps,f=g.getTableBodyProps,h=g.headerGroups,y=g.page,N=g.prepareRow,v=g.canPreviousPage,C=g.canNextPage,_=g.pageOptions,k=g.pageCount,z=g.gotoPage,x=g.nextPage,j=g.previousPage,D=g.setPageSize,O=g.state,w=O.pageIndex,G=O.pageSize;return c.a.createElement("div",{className:"table_responsive_eddit"},l?c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return z(0)},disabled:!v},"<<")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return j()},disabled:!v},"<")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x()},disabled:!C},">")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return z(k-1)},disabled:!C},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,w+1," de ",_.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:w+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;z(t)},className:"inputPage"},"onChange",(function(e){e.target.value>_.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:G,onChange:function(e){D(Number(e.target.value))},className:"inputPage"},i.map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",c.a.createElement("table",Object.assign({},p(),{className:"table table-bordered"}),c.a.createElement("thead",null,h.map((function(e){return c.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return c.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{style:{backgroundColor:r||"rgb(218, 236, 242)",color:o||"black"}}),e.render("Header"),c.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),c.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),c.a.createElement("tbody",Object.assign({},f(),{className:"text-center"}),y.map((function(e,t){return N(e)||c.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return c.a.createElement("td",Object.assign({style:{position:"relative"}},e.getCellProps()),e.render("Cell"))})))})))),c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return z(0)},disabled:!v},"<<")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return j()},disabled:!v},"<")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x()},disabled:!C},">")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return z(k-1)},disabled:!C},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,w+1," de ",_.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:w+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;z(t)},className:"inputPage"},"onChange",(function(e){e.target.value>_.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:G,onChange:function(e){D(Number(e.target.value))},className:"inputPage"},i.map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}b.autoRemove=function(e){return!e};t.a=function(e){var t=e.data,a=e.columns,n=e.menuTop,l=e.headerColor,r=e.headerFontColor,o=e.pageSizeHandler;return o=o||[10,20,30,40,50],c.a.createElement(d,null,c.a.createElement(g,{pageSizeHandler:o,data:t,columns:a,menuTop:n,headerFontColor:r,headerColor:l}))}},612:function(e,t,a){},650:function(e,t,a){"use strict";var n=a(1),l=a.n(n),r=(a(612),a(839)),c=a(598),o=a(197),s=a(301),i=a(31),m=a(77);t.a=function(e){return l.a.createElement(r.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(r.a.Header,{closeButton:!0,className:"header_dark"},l.a.createElement(r.a.Title,{id:"contained-modal-title-vcenter"},"Acciones Disponibles")),e.isLoading?l.a.createElement(r.a.Body,null,l.a.createElement(m.a,null)):l.a.createElement(r.a.Body,null,e.cotization.status>=1&&e.cotization.status<=3?l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"title_principal"},"Acciones generales"),l.a.createElement("hr",null),e.isInvoice?l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.seeDetailCotization(e.cotization)},block:!0},"Ver Detalle ",l.a.createElement(i.k,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.goToBond(e.cotization)},block:!0},"Pagos ",l.a.createElement(i.q,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization)},block:!0},"Ver factura pdf ",l.a.createElement(i.q,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.noteCredit(e.cotization)},block:!0},"Nota de cr\xe9dito o Debito ",l.a.createElement(i.q,null)))):e.isGuide?l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:4,md:4,lg:4},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.seeDetailCotization(e.cotization)},block:!0},"Ver Detalle ",l.a.createElement(i.k,null))),l.a.createElement(o.a,{sm:4,md:4,lg:4},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.goToInvoice(e.cotization.id)},block:!0},"Facturar ",l.a.createElement(i.p,null))),l.a.createElement(o.a,{sm:4,md:4,lg:4},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization)},block:!0},"Ver factura pdf ",l.a.createElement(i.q,null)))):l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.seeDetailCotization(e.cotization)},block:!0},"Ver Detalle ",l.a.createElement(i.k,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.goToBond(e.cotization)},block:!0},"Pagos ",l.a.createElement(i.q,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization)},block:!0},"Ver factura pdf ",l.a.createElement(i.q,null))),2==e.cotization.type?l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization,3)},block:!0},"Generar nueva factura pdf ",l.a.createElement(i.q,null))):""),l.a.createElement("br",null),l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:12,md:12,lg:12},l.a.createElement("h5",{className:"title_principal"},"Anular Documento"),l.a.createElement("hr",null)),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.anulateInvoice(e.cotization)},block:!0},"Anular Documento ",l.a.createElement(i.a,null))))):l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"title_principal"},"Acciones generales"),l.a.createElement("hr",null),l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.seeDetailCotization(e.cotization)},block:!0},"Ver Detalle ",l.a.createElement(i.k,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization)},block:!0},"Ver factura pdf ",l.a.createElement(i.q,null)))))),l.a.createElement(r.a.Footer,null,l.a.createElement(s.a,{variant:"danger",size:"md",onClick:e.onHide},"Cerrar")))}},651:function(e,t,a){"use strict";var n=a(47),l=a(18),r=a(1),c=a.n(r),o=a(598),s=a(197),i=a(661),m=a(659),u=a(301),d=a(607),E=a(88),b=(a(9),a(17)),g=a(31),p=(a(157),a(653)),f=a(10),h={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0},y={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},maintainAspectRatio:!1},N={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},v={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},C={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},_={labels:[],datasets:[{label:"Monto acumulado de pagos hechos por mes",backgroundColor:"rgb(15, 13, 74)",borderColor:"rgb(27, 13, 74)",borderWidth:1,hoverBackgroundColor:"rgb(15, 13, 74)",hoverBorderColor:"rgb(27, 13, 74)",data:[]}]},k={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"rgb(125, 81, 52)",borderColor:"rgb(99, 56, 21)"}]};t.a=function(e){Object(r.useEffect)((function(){e.redraw&&(N={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},C={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},_={labels:[],datasets:[{label:"Monto acumulado de pagos hechos por mes",backgroundColor:"rgb(15, 13, 74)",borderColor:"rgb(27, 13, 74)",borderWidth:1,hoverBackgroundColor:"rgb(15, 13, 74)",hoverBorderColor:"rgb(27, 13, 74)",data:[]}]},k={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"rgb(125, 81, 52)",borderColor:"rgb(99, 56, 21)"}]},v={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},z())}),[e.redraw]);var t=function(t){e.setDataForm(Object(l.a)(Object(l.a)({},e.dataForm),{},Object(n.a)({},t.target.name,t.target.value)))},z=function(){e.statusCotization.statuses.forEach((function(e,t){N.labels.push(e.status),N.datasets[0].data.push(parseFloat(e.total)),N.datasets[0].backgroundColor.push(f.c[t]),N.datasets[0].hoverBackgroundColor.push(f.c[t])})),e.statusCotization.statusesBonds.forEach((function(e,t){C.labels.push(e.status),C.datasets[0].data.push(parseFloat(e.total)),C.datasets[0].backgroundColor.push(f.c[t]),C.datasets[0].hoverBackgroundColor.push(f.c[t])})),e.statusCotization.bondsByMonth.forEach((function(e,t){_.labels.push(e.mes),_.datasets[0].data.push(e.total)})),e.statusCotization.invoiceByYear.forEach((function(e,t){k.labels.push(e.year),k.datasets[0].data.push(e.total)})),e.statusCotization.totalByStatus.forEach((function(e,t){v.labels.push(e.name),v.datasets[0].data.push(parseFloat(e.total)),v.datasets[0].backgroundColor.push(f.c[t]),v.datasets[0].hoverBackgroundColor.push(f.c[t])}))},x=function(t){e.handleDisplayFilter(t)};return c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:12,md:12,lg:12,xs:12},c.a.createElement(i.a,null,c.a.createElement(m.a,null,c.a.createElement(i.a.Toggle,{as:m.a.Header,eventKey:"0",className:"header_card"},c.a.createElement("b",null,"Estad\xedsticas")," ",c.a.createElement(g.e,null)),c.a.createElement(i.a.Collapse,{eventKey:"0"},c.a.createElement(m.a.Body,null,c.a.createElement(o.a,{className:"justify-content-center"},1==e.displayFilter?c.a.createElement(s.a,{sm:2,md:2,lg:2},c.a.createElement(u.a,{variant:"secondary",type:"button",size:"sm",block:!0,onClick:function(){return x(2)}},"Activar Filtros")):2==e.displayFilter?c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{type:"date",label:"Fecha desde",name:"date_desde",required:!0,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.dataForm.date_desde,handleChange:t}),c.a.createElement(E.a,{type:"date",label:"Fecha Hasta",name:"date_hasta",required:!0,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.dataForm.date_hasta,handleChange:t}),c.a.createElement(s.a,{sm:3,md:3,lg:3},c.a.createElement("br",null),c.a.createElement(u.a,{variant:"danger",type:"button",size:"sm",block:!0,onClick:function(){e.handleStadistics()}},"Buscar")),c.a.createElement(s.a,{sm:3,md:3,lg:3},c.a.createElement("br",null),c.a.createElement(u.a,{variant:"secondary",type:"button",size:"sm",block:!0,onClick:function(){return x(1)}},"Ocultar Filtros"))):c.a.createElement(s.a,{sm:12,md:12,lg:12,className:"text-center"},c.a.createElement("br",null),c.a.createElement(d.a,{src:a(308),width:"30"}),c.a.createElement("br",null),"Cargando datos...")),c.a.createElement("br",null),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:6,md:6,lg:6,style:{height:"150px"}},c.a.createElement(p.b,{data:N,redraw:e.redraw,options:h})),c.a.createElement(s.a,{sm:6,md:6,lg:6},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",colSpan:"2",style:{backgroundColor:"rgb(147, 52, 12)",color:"white"}},"Monto acumulado por estados")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Estado"),c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Total"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(e.statusCotization).length>0?c.a.createElement(c.a.Fragment,null,e.statusCotization.statuses.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,t.status),c.a.createElement("td",null,e.configGeneral.simbolo_moneda,Object(b.g)(e.configGeneral,t.total)))}))):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"3",className:"text-center"},"Sin registros...")))))),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:6,md:6,lg:6},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",colSpan:"2",style:{backgroundColor:"rgb(21, 26, 88)",color:"white"}},"Monto pagado por estados")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Estado"),c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Total"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(e.statusCotization).length>0?c.a.createElement(c.a.Fragment,null,e.statusCotization.statusesBonds.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,t.status),c.a.createElement("td",null,e.configGeneral.simbolo_moneda,Object(b.g)(e.configGeneral,t.total)))}))):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"3",className:"text-center"},"Sin registros..."))))),c.a.createElement(s.a,{sm:6,md:6,lg:6,style:{height:"150px"}},c.a.createElement(p.b,{data:C,redraw:e.redraw,options:h}))),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:12,md:12,lg:12,style:{height:"200px"}},c.a.createElement(p.a,{data:_,options:h,redraw:e.redraw}))),c.a.createElement("br",null),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:6,md:6,lg:6,style:{height:"200px"}},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",colSpan:"2",style:{backgroundColor:"rgb(147, 52, 12)",color:"white"}},"Total ",1==e.dataForm.type?"facturas":2==e.dataForm.type?"notas de ventas":"boletas"," realizadas")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Estado"),c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Total"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(e.statusCotization).length>0?c.a.createElement(c.a.Fragment,null,e.statusCotization.totalByStatus.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.total))}))):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"3",className:"text-center"},"Sin registros..."))))),c.a.createElement(s.a,{sm:6,md:6,lg:6,style:{height:"150px"},className:"text-center"},c.a.createElement(p.b,{data:v,redraw:e.redraw,options:h}))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:12,md:12,lg:12,style:{height:"200px"}},c.a.createElement(p.d,{data:k,options:y})))))))))}},665:function(e,t,a){"use strict";var n=a(1),l=a.n(n),r=a(839),c=a(598),o=a(197),s=a(609),i=a(301),m=a(17),u=a(157);t.a=function(e){return l.a.createElement(r.a,{show:e.isOpenModalDetail,onHide:e.handleModalDetail,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(r.a.Header,{closeButton:!0,className:"header_dark"},l.a.createElement(r.a.Title,{id:"contained-modal-title-vcenter"},"Detalles de la Factura N\xb0 ",Object.keys(e.cotizationDetail).length>0?e.cotizationDetail.ref:"")),l.a.createElement(r.a.Body,null,l.a.createElement(c.a,null,l.a.createElement(o.a,{sm:12,md:12,lg:12},l.a.createElement("h4",{className:"title_principal text-center"},"Datos del Registrador"),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"Nombre"),l.a.createElement("th",{className:"text-center"},"Rut"),l.a.createElement("th",{className:"text-center"},"Direcci\xf3n"),l.a.createElement("th",{className:"text-center"},"Email"),l.a.createElement("th",{className:"text-center"},"Fono"))),l.a.createElement("tbody",{className:"text-center"},Object.keys(e.cotizationDetail).length>0?l.a.createElement("tr",null,l.a.createElement("td",null,e.cotizationDetail.business_name_transmitter),l.a.createElement("td",null,e.cotizationDetail.rut_transmitter),l.a.createElement("td",null,e.cotizationDetail.address_transmitter),l.a.createElement("td",null,e.cotizationDetail.email_transmitter),l.a.createElement("td",null,e.cotizationDetail.phone_transmitter)):"")))),l.a.createElement("br",null),l.a.createElement(c.a,null,l.a.createElement(o.a,{sm:12,md:12,lg:12},l.a.createElement("h4",{className:"title_principal text-center"},"Datos del Cliente"),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"Razon Social / Nombre"),l.a.createElement("th",{className:"text-center"},"Rut"),l.a.createElement("th",{className:"text-center"},"Direcci\xf3n"),l.a.createElement("th",{className:"text-center"},"Ciudad"),l.a.createElement("th",{className:"text-center"},"Comuna"),l.a.createElement("th",{className:"text-center"},"Giro"))),l.a.createElement("tbody",{className:"text-center"},Object.keys(e.cotizationDetail).length>0?l.a.createElement("tr",null,l.a.createElement("td",null,e.cotizationDetail.business_name_client),l.a.createElement("td",null,e.cotizationDetail.rut_client),l.a.createElement("td",null,e.cotizationDetail.address_client),l.a.createElement("td",null,e.cotizationDetail.city_client),l.a.createElement("td",null,e.cotizationDetail.comuna_client),l.a.createElement("td",null,e.cotizationDetail.spin_client)):"")))),l.a.createElement("br",null),!e.isBill&&l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,null,l.a.createElement(o.a,{sm:12,md:12,lg:12},l.a.createElement("h4",{className:"title_principal text-center"},"Datos del Contacto"),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"Nombre"),l.a.createElement("th",{className:"text-center"},"Fono"),l.a.createElement("th",{className:"text-center"},"Email"))),l.a.createElement("tbody",{className:"text-center"},Object.keys(e.cotizationDetail).length>0?l.a.createElement("tr",null,l.a.createElement("td",null,e.cotizationDetail.name_contact),l.a.createElement("td",null,e.cotizationDetail.phone_contact),l.a.createElement("td",null,e.cotizationDetail.email_contact)):"")))),l.a.createElement("br",null),l.a.createElement(c.a,null,l.a.createElement(o.a,{sm:12,md:12,lg:12},l.a.createElement("h4",{className:"title_principal text-center"},"Datos del Vendedor"),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"Nombre"),l.a.createElement("th",{className:"text-center"},"Fono"),l.a.createElement("th",{className:"text-center"},"Email"))),l.a.createElement("tbody",{className:"text-center"},Object.keys(e.cotizationDetail).length>0?l.a.createElement("tr",null,l.a.createElement("td",null,e.cotizationDetail.name_seller),l.a.createElement("td",null,e.cotizationDetail.phone_seller),l.a.createElement("td",null,e.cotizationDetail.email_seller)):""))))),l.a.createElement("br",null),l.a.createElement(c.a,null,l.a.createElement(o.a,{sm:12,md:12,lg:12,className:"table-responsive"},l.a.createElement("h4",{className:"title_principal text-center"},"Productos de la Factura"),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"Categoria"),l.a.createElement("th",{className:"text-center"},"Nombre"),l.a.createElement("th",{className:"text-center"},"Descripci\xf3n"),l.a.createElement("th",{className:"text-center"},"Cantidad"),l.a.createElement("th",{className:"text-center"},"Precio"),l.a.createElement("th",{className:"text-center"},"Descuento"),l.a.createElement("th",{className:"text-center"},"M\xe9todo de Venta"),l.a.createElement("th",{className:"text-center"},"Neto"),l.a.createElement("th",{className:"text-center"},"Total"))),l.a.createElement("tbody",{className:"text-center"},Object.keys(e.cotizationDetail).length>0?l.a.createElement(l.a.Fragment,null,e.cotizationDetail.products.map((function(t,a){return l.a.createElement("tr",null,l.a.createElement("td",null,t.category),l.a.createElement("td",null,t.name_product),l.a.createElement("td",null,t.description),l.a.createElement("td",null,t.quantity),l.a.createElement("td",null,e.configGeneral.simbolo_moneda,Object(m.g)(e.configGeneral,e.cotizationDetail.total_with_iva?t.price:t.total)),l.a.createElement("td",null,t.discount),l.a.createElement("td",null,(n=t.method_sale,1===(n=parseInt(n))?"Unidad":2===n?"Mayorista":"(Litros, Kg, Etc..)")),l.a.createElement("td",null,t.is_neto?"Neto":"Iva"),l.a.createElement("td",null,l.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(m.g)(e.configGeneral,t.total))));var n}))):"")))),l.a.createElement("br",null),l.a.createElement(c.a,null,l.a.createElement(o.a,{sm:12,md:12,lg:12,className:""},l.a.createElement("h4",{className:"title_principal text-center"},"Gastos de la Factura"),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"Descripci\xf3n"),l.a.createElement("th",{className:"text-center"},"Monto"))),l.a.createElement("tbody",{className:"text-center"},Object.keys(e.cotizationDetail).length>0?l.a.createElement(l.a.Fragment,null,e.cotizationDetail.gastos.map((function(t,a){return l.a.createElement("tr",null,l.a.createElement("td",null,t.description),l.a.createElement("td",null,l.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(m.g)(e.configGeneral,t.amount))))}))):"")))),l.a.createElement("br",null),Object.keys(e.cotizationDetail).length>0&&e.cotizationDetail.refs.length>0?l.a.createElement(c.a,null,l.a.createElement(o.a,{sm:12,md:12,lg:12,className:""},l.a.createElement("h4",{className:"title_principal text-center"},"Referencias de la Factura"),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"Tipo de Documento"),l.a.createElement("th",{className:"text-center"},"Referencia Cotiz."),l.a.createElement("th",{className:"text-center"},"Ind"),l.a.createElement("th",{className:"text-center"},"Fecha Ref."),l.a.createElement("th",{className:"text-center"},"Raz\xf3n de Referencia"),l.a.createElement("th",{className:"text-center"},"Tipo de C\xf3digo"))),l.a.createElement("tbody",{className:"text-center"},Object.keys(e.cotizationDetail).length>0?l.a.createElement(l.a.Fragment,null,e.cotizationDetail.refs.map((function(e,t){return l.a.createElement("tr",null,l.a.createElement("td",null,e.type_document),l.a.createElement("td",null,e.ref_invoice),l.a.createElement("td",null,e.ind),l.a.createElement("td",null,e.date_ref?u(e.date_ref).tz("America/Santiago").format("DD-MM-YYYY"):""),l.a.createElement("td",null,e.reason_ref),l.a.createElement("td",null,e.type_code))}))):"")))):"",l.a.createElement(c.a,null,l.a.createElement(o.a,{sm:12,md:12,lg:12,className:""},l.a.createElement("h4",{className:"title_principal text-center"},"Totales"),l.a.createElement("br",null),l.a.createElement("table",{className:"table table-striped table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center"},"Total Neto"),l.a.createElement("th",{className:"text-center"},"Total Iva"),l.a.createElement("th",{className:"text-center"},"Total Gastos"),!e.isBill&&l.a.createElement("th",{className:"text-center"},"Total Descuento Global"),l.a.createElement("th",{className:"text-center"},"Total Balance"))),l.a.createElement("tbody",{className:"text-center"},Object.keys(e.cotizationDetail).length>0?l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(m.g)(e.configGeneral,e.cotizationDetail.total_product))),l.a.createElement("td",null,l.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(m.g)(e.configGeneral,e.cotizationDetail.total_iva))),l.a.createElement("td",null,l.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(m.g)(e.configGeneral,e.cotizationDetail.total_gastos))),!e.isBill&&l.a.createElement("td",null,l.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(m.g)(e.configGeneral,e.cotizationDetail.discount_global_amount))),l.a.createElement("td",null,l.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(m.g)(e.configGeneral,e.cotizationDetail.total_balance)))):"")))),l.a.createElement("br",null),l.a.createElement(c.a,null,l.a.createElement(o.a,{sm:6,md:6,lg:6},Object.keys(e.cotizationDetail).length>0?l.a.createElement("h5",null,"Mostrar solo los Totales: ",l.a.createElement(s.a,{variant:"primary",className:"font-badge"},e.cotizationDetail.total_with_iva?"No":"Si")):""),l.a.createElement(o.a,{sm:6,md:6,lg:6,className:"text-center"},e.isGuide?l.a.createElement("h5",null,"Tipo de Traslado: ",l.a.createElement(s.a,{variant:"primary",className:"font-badge"},e.cotizationDetail.type_transfer_trasmitter)):l.a.createElement(l.a.Fragment,null,Object.keys(e.cotizationDetail).length>0?l.a.createElement("h5",null,"M\xe9todo de Pago: ",l.a.createElement(s.a,{variant:"primary",className:"font-badge"},e.cotizationDetail.way_of_payment)):"")))),l.a.createElement(r.a.Footer,null,l.a.createElement(i.a,{size:"md",variant:"secondary",onClick:e.handleModalDetail},"cerrar")))}},828:function(e,t,a){"use strict";a.r(t);var n=a(18),l=a(15),r=a(1),c=a.n(r),o=a(301),s=a(609),i=a(608),m=a(598),u=a(197),d=a(611),E=a(9),b=a.n(E),g=a(10),p=a(8),f=a(17),h=a(31),y=a(614),N=a(613),v=a(50),C=a(157),_=(a(612),a(28)),k=a(650),z=a(615),x=a(651),j=a(77),D=a(665),O=null;t.default=Object(_.b)((function(e){return{id_branch_office:e.enterpriseSucursal.id_branch_office,id_enterprise:e.enterpriseSucursal.id_enterprise,configGeneral:e.configs.config,configStore:e.configs.configStore}}),{})((function(e){var t=Object(r.useState)(!0),a=Object(l.a)(t,2),E=a[0],_=a[1],w=Object(r.useState)([]),G=Object(l.a)(w,2),F=G[0],S=G[1],B=Object(r.useState)({}),T=Object(l.a)(B,2),P=T[0],H=T[1],M=Object(r.useState)(!1),R=Object(l.a)(M,2),A=R[0],I=R[1],q=Object(r.useState)(!1),V=Object(l.a)(q,2),Y=V[0],L=V[1],K=Object(r.useState)({}),W=Object(l.a)(K,2),J=W[0],U=W[1],Z=Object(r.useState)(1),Q=Object(l.a)(Z,2),X=Q[0],$=Q[1],ee=Object(r.useState)({date_desde:"",date_hasta:"",type:1}),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],le=Object(r.useState)({}),re=Object(l.a)(le,2),ce=re[0],oe=re[1],se=Object(r.useState)(!1),ie=Object(l.a)(se,2),me=ie[0],ue=ie[1];Object(r.useMemo)((function(){O=[{Header:"Referencia",accessor:"ref",Cell:function(e){var t=e.cell.row.original;return c.a.createElement(y.a,{placement:"bottom",overlay:c.a.createElement(N.a,{id:"tooltip-disabled2"},"Hacer click para acceder a las acciones de la gu\xeda")},c.a.createElement(o.a,{variant:"link",block:!0,type:"button",size:"sm",onClick:function(){return de(t)}},t.ref))}},{Header:"Ref Cotizaci\xf3n",accessor:"ref_cotizacion"},{Header:"Rut Cliente",accessor:"rut_client"},{Header:"Raz\xf3n Social",accessor:"business_name_client",Cell:function(e){var t=e.cell.row.original;return c.a.createElement(y.a,{placement:"right",overlay:c.a.createElement(N.a,{id:"tooltip-disabled2"},c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Contacto")," ",t.name_contact?t.name_contact:"No posee"),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Ciudad")," ",t.city_client?t.city_client:"No posee"),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Comuna")," ",t.comuna_client?t.comuna_client:"No posee"),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Comuna")," ",t.address_client?t.address_client:"No posee"),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Comentario: ")," ",t.comment)))},c.a.createElement(o.a,{variant:"link",size:"sm",block:!0,type:"button"},t.business_name_client))}},{Header:"Fecha-Emisi\xf3n",accessor:function(e){return[C(e.date_issue_invoice).tz("America/Santiago").format("DD-MM-YYYY")]}},{Header:"Status",accessor:function(e){return 1==e.status?c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Pendiente"):2==e.status?c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Vencida"):3==e.status?c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Pagada"):c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Anulada")}},{Header:"Total Productos",accessor:"total_product",Cell:function(t){var a=t.cell.row.original;return c.a.createElement(y.a,{placement:"left",overlay:c.a.createElement(N.a,{id:"tooltip-total_pagar"+a.id},c.a.createElement("ul",{className:"list-group"},a.products.map((function(t,n){return c.a.createElement("li",{className:"list-group-item",key:n},c.a.createElement("b",null,"Producto"),": ",t.name_product,c.a.createElement("br",null),c.a.createElement("b",null,"Precio")," : ",e.configGeneral?e.configGeneral.simbolo_moneda:""," ",Object(f.g)(e.configGeneral,a.total_with_iva?t.price:t.total),c.a.createElement("br",null),c.a.createElement("b",null,"Cantidad"),": ",t.quantity)}))))},c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral.simbolo_moneda+Object(f.g)(e.configGeneral,a.total_product)))}},{Header:"Total gastos",accessor:"total_gastos",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral.simbolo_moneda,Object(f.g)(e.configGeneral,t.cell.row.original.total_gastos))}},{Header:"Total Iva",accessor:"total_iva",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral.simbolo_moneda,Object(f.g)(e.configGeneral,t.cell.row.original.total_iva))}},{Header:"Total Balance",accessor:"total_balance",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral.simbolo_moneda,Object(f.g)(e.configGeneral,t.cell.row.original.total_balance))}},{Header:"Abonado",accessor:"total_bond",Cell:function(t){return c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(f.g)(e.configGeneral,t.cell.row.original.total_bond))}},{Header:"Saldo Deudor",accessor:"debit_balance",Cell:function(t){return c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(f.g)(e.configGeneral,t.cell.row.original.debit_balance))}},{Header:"Productos Pagados",Cell:function(e){var t=e.cell.row.original;return t.is_products_paid?c.a.createElement(s.a,{variant:"success",className:"font-badge"},t.total_quantity_products_paid,"/",t.total_quantity_products):c.a.createElement(s.a,{variant:"danger",className:"font-badge"},t.total_quantity_products_paid,"/",t.total_quantity_products)}},{Header:"Acciones",Cell:function(e){var t=e.cell.row.original;return c.a.createElement(o.a,{variant:"primary",block:!0,type:"button",size:"sm",onClick:function(){return de(t)}},"Acciones")}}]}),[]),Object(r.useEffect)((function(){return v.a.toggleCollapsed(),function(){O=null,v.a.toggleCollapsed()}}),[]),Object(r.useEffect)((function(){be()}),[e.id_branch_office]),Object(r.useEffect)((function(){Y&&Ee()}),[Y]);var de=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!me&&e&&oe(e),ue(!me)},Ee=function(){setTimeout((function(){L(!1)}),2e3)},be=function(){var t=Object.assign({},ae),a=[b.a.get(g.b+"guide"),b.a.post(g.b+"invoice_stadistics",t)];Promise.all(a).then((function(e){S(e[0].data),U(Object(n.a)(Object(n.a)({},J),{},{statusesBonds:e[1].data.statusesBonds,statuses:e[1].data.statuses,bondsByMonth:e[1].data.bondsByMonth,invoiceByYear:e[1].data.invoiceByYear,totalByStatus:e[1].data.totalByStatus})),setTimeout((function(){L(!0)}),1e3),_(!1)})).catch((function(t){_(!1),e.tokenExpired(t)}))},ge=function(){I(!A)},pe=function(t){p.b.info("Anulando factura, esto podr\xeda tardar unos segundos... espere por favor"),_(!0),b.a.put(g.b+"guide_status/"+t).then((function(e){p.b.success("Gu\xeda anulada con \xe9xito"),oe(Object(n.a)(Object(n.a)({},ce),{},{status:4})),be()})).catch((function(t){_(!1),e.tokenExpired(t)}))};return c.a.createElement(i.a,{fluid:!0},c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:6,md:6,lg:6,className:"text-center"},c.a.createElement("h4",{className:"title_principal"},"Tabla de Gu\xedas"),c.a.createElement(o.a,{block:!0,variant:"success",onClick:function(){e.history.replace("/guide/guide_create")},size:"sm"},"Nueva Gu\xeda ",c.a.createElement(h.A,null))),c.a.createElement(u.a,{sm:6,md:6,lg:6,className:"text-center title_principal"},c.a.createElement("h4",null,"Total Gu\xedas Realizadas"),c.a.createElement(s.a,{variant:"danger"},F.length))),c.a.createElement("hr",null),E?c.a.createElement(j.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(x.a,{setDataForm:ne,dataForm:ae,redraw:Y,statusCotization:J,handleDisplayFilter:function(e){3==e&&ne({date_desde:"",date_hasta:""}),$(e)},handleStadistics:function(){var t=Object.assign({},ae);$(3),b.a.post(g.b+"guide_stadistics",t).then((function(e){U(Object(n.a)(Object(n.a)({},J),{},{statusesBonds:e.data.statusesBonds,statuses:e.data.statuses,bondsByMonth:e.data.bondsByMonth,invoiceByYear:e.data.invoiceByYear,totalByStatus:e.data.totalByStatus})),setTimeout((function(){L(!0),$(1)}),1e3)})).catch((function(t){$(1),e.tokenExpired(t)}))},displayFilter:X,configGeneral:e.configGeneral}),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,xs:12},c.a.createElement(d.a,{columns:O,data:F})))),c.a.createElement(D.a,{isOpenModalDetail:A,handleModalDetail:ge,cotizationDetail:P,configGeneral:e.configGeneral,isGuide:!0}),c.a.createElement(k.a,{isShow:me,onHide:de,cotization:ce,printInvoice:function(e){p.b.info("Cargando documento, espere por favor"),window.open(e.name_pdf,"_blank")},goToInvoice:function(t){e.history.replace("/guide/guide_invoice/"+t)},anulateInvoice:function(e){Object(z.confirmAlert)({customUI:function(t){var a=t.onClose;return c.a.createElement("div",{className:"custom-ui-edit"},c.a.createElement("h1",null,"\xbfEsta seguro?"),c.a.createElement("p",{className:"font-alert"},"\xbfDesea realmente anular este registro?"),c.a.createElement("button",{className:"button-alert",onClick:function(){pe(e.id),a()}},"Si, Aceptar"),c.a.createElement("button",{className:"button-alert",onClick:a},"No"))}})},seeDetailCotization:function(e){H(e),ge()},isGuide:!0}))}))}}]);