(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[40],{613:function(e,t,a){"use strict";var n=a(2),r=a(4),o=a(6),c=a.n(o),l=a(1),i=a.n(l),s=(a(307),a(7)),u=i.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.placement,l=e.className,u=e.style,d=e.children,p=e.arrowProps,f=(e.popper,e.show,Object(r.a)(e,["bsPrefix","placement","className","style","children","arrowProps","popper","show"]));a=Object(s.a)(a,"tooltip");var m=((null==o?void 0:o.split("-"))||[])[0];return i.a.createElement("div",Object(n.a)({ref:t,style:u,role:"tooltip","x-placement":m,className:c()(l,a,"bs-tooltip-"+m)},f),i.a.createElement("div",Object(n.a)({className:"arrow"},p)),i.a.createElement("div",{className:a+"-inner"},d))}));u.defaultProps={placement:"right"},u.displayName="Tooltip",t.a=u},614:function(e,t,a){"use strict";var n=a(2),r=a(4),o=a(19),c=a(202),l=a(1),i=a.n(l),s=a(623),u=a(200),d=(a(97),a(63)),p=a(6),f=a.n(p),m=a(3),b=a.n(m),g=a(42),h=a.n(g),O=a(121),v=a(56),E=a(207),j=a(208),y=a(209),_=a(624),x=a(203),w=i.a.forwardRef((function(e,t){var a=e.flip,o=e.offset,c=e.placement,s=e.containerPadding,u=void 0===s?5:s,d=e.popperConfig,p=void 0===d?{}:d,f=e.transition,m=Object(O.a)(),b=m[0],g=m[1],E=Object(O.a)(),w=E[0],C=E[1],k=Object(v.a)(g,t),S=Object(_.a)(e.container),N=Object(_.a)(e.target),T=Object(l.useState)(!e.show),q=T[0],P=T[1],R=Object(j.a)(N,b,Object(x.a)({placement:c,enableEvents:!!e.show,containerPadding:u||5,flip:a,offset:o,arrowElement:w,popperConfig:p})),D=R.styles,A=R.attributes,H=Object(r.a)(R,["styles","attributes"]);e.show?q&&P(!1):e.transition||q||P(!0);var F=e.show||f&&!q;if(Object(y.a)(b,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!F)return null;var M=e.children(Object(n.a)({},H,{show:!!e.show,props:Object(n.a)({},A.popper,{style:D.popper,ref:k}),arrowProps:Object(n.a)({},A.arrow,{style:D.arrow,ref:C})}));if(f){var J=e.onExit,I=e.onExiting,z=e.onEnter,B=e.onEntering,U=e.onEntered;M=i.a.createElement(f,{in:e.show,appear:!0,onExit:J,onExiting:I,onExited:function(){P(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:z,onEntering:B,onEntered:U},M)}return S?h.a.createPortal(M,S):null}));w.displayName="Overlay",w.propTypes={show:b.a.bool,placement:b.a.oneOf(E.b),target:b.a.any,container:b.a.any,flip:b.a.bool,children:b.a.func.isRequired,containerPadding:b.a.number,popperConfig:b.a.object,rootClose:b.a.bool,rootCloseEvent:b.a.oneOf(["click","mousedown"]),rootCloseDisabled:b.a.bool,onHide:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r;return e.rootClose?(r=b.a.func).isRequired.apply(r,[e].concat(a)):b.a.func.apply(b.a,[e].concat(a))},transition:b.a.elementType,onEnter:b.a.func,onEntering:b.a.func,onEntered:b.a.func,onExit:b.a.func,onExiting:b.a.func,onExited:b.a.func};var C=w,k=a(205),S=a(619),N={transition:S.a,rootClose:!1,show:!1,placement:"top"};function T(e){var t=e.children,a=e.transition,o=e.popperConfig,c=void 0===o?{}:o,s=Object(r.a)(e,["children","transition","popperConfig"]),d=Object(l.useRef)({}),p=Object(k.a)(),m=p[0],b=p[1],g=!0===a?S.a:a||null;return i.a.createElement(C,Object(n.a)({},s,{ref:m,popperConfig:Object(n.a)({},c,{modifiers:b.concat(c.modifiers||[])}),transition:g}),(function(e){var o,c=e.props,l=e.arrowProps,s=e.show,p=e.update,m=(e.forceUpdate,e.placement),b=e.state,g=Object(r.a)(e,["props","arrowProps","show","update","forceUpdate","placement","state"]);!function(e,t){var a=e.ref,n=t.ref;e.ref=a.__wrapped||(a.__wrapped=function(e){return a(Object(u.a)(e))}),t.ref=n.__wrapped||(n.__wrapped=function(e){return n(Object(u.a)(e))})}(c,l);var h=Object.assign(d.current,{state:b,scheduleUpdate:p,placement:m,outOfBoundaries:(null==b||null==(o=b.modifiersData.hide)?void 0:o.isReferenceHidden)||!1});return"function"===typeof t?t(Object(n.a)({},g,{},c,{placement:m,show:s,popper:h,arrowProps:l})):i.a.cloneElement(t,Object(n.a)({},g,{},c,{placement:m,arrowProps:l,popper:h,className:f()(t.props.className,!a&&s&&"show"),style:Object(n.a)({},t.props.style,{},c.style)}))}))}T.defaultProps=N;var q=T,P=function(e){function t(){return e.apply(this,arguments)||this}return Object(o.a)(t,e),t.prototype.render=function(){return this.props.children},t}(i.a.Component);function R(e,t,a){var n=t[0],r=n.currentTarget,o=n.relatedTarget||n.nativeEvent[a];o&&o===r||Object(c.a)(r,o)||e.apply(void 0,t)}function D(e){var t=e.trigger,a=e.overlay,o=e.children,c=e.popperConfig,p=void 0===c?{}:c,f=e.show,m=e.defaultShow,b=void 0!==m&&m,g=e.onToggle,h=e.delay,O=e.placement,v=e.flip,E=void 0===v?O&&-1!==O.indexOf("auto"):v,j=Object(r.a)(e,["trigger","overlay","children","popperConfig","show","defaultShow","onToggle","delay","placement","flip"]),y=Object(l.useRef)(null),_=Object(s.a)(),x=Object(l.useRef)(""),w=Object(d.b)(f,b,g),C=w[0],k=w[1],S=function(e){return e&&"object"===typeof e?e:{show:e,hide:e}}(h),N="function"!==typeof o?i.a.Children.only(o).props:{},T=N.onFocus,D=N.onBlur,A=N.onClick,H=Object(l.useCallback)((function(){return Object(u.a)(y.current)}),[]),F=Object(l.useCallback)((function(){_.clear(),x.current="show",S.show?_.set((function(){"show"===x.current&&k(!0)}),S.show):k(!0)}),[S.show,k,_]),M=Object(l.useCallback)((function(){_.clear(),x.current="hide",S.hide?_.set((function(){"hide"===x.current&&k(!1)}),S.hide):k(!1)}),[S.hide,k,_]),J=Object(l.useCallback)((function(){F();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];null==T||T.apply(void 0,t)}),[F,T]),I=Object(l.useCallback)((function(){M();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];null==D||D.apply(void 0,t)}),[M,D]),z=Object(l.useCallback)((function(){k(!C),A&&A.apply(void 0,arguments)}),[A,k,C]),B=Object(l.useCallback)((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];R(F,t,"fromElement")}),[F]),U=Object(l.useCallback)((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];R(M,t,"toElement")}),[M]),V=null==t?[]:[].concat(t),W={};return-1!==V.indexOf("click")&&(W.onClick=z),-1!==V.indexOf("focus")&&(W.onFocus=J,W.onBlur=I),-1!==V.indexOf("hover")&&(W.onMouseOver=B,W.onMouseOut=U),i.a.createElement(i.a.Fragment,null,"function"===typeof o?o(Object(n.a)({},W,{ref:y})):i.a.createElement(P,{ref:y},Object(l.cloneElement)(o,W)),i.a.createElement(q,Object(n.a)({},j,{show:C,onHide:M,flip:E,placement:O,popperConfig:p,target:H}),a))}D.defaultProps={defaultShow:!1,trigger:["hover","focus"]};t.a=D},619:function(e,t,a){"use strict";var n,r=a(2),o=a(4),c=a(6),l=a.n(c),i=a(215),s=a(1),u=a.n(s),d=a(92),p=a(216),f=((n={})[d.b]="show",n[d.a]="show",n),m=u.a.forwardRef((function(e,t){var a=e.className,n=e.children,c=Object(o.a)(e,["className","children"]),m=Object(s.useCallback)((function(e){Object(p.a)(e),c.onEnter&&c.onEnter(e)}),[c]);return u.a.createElement(d.e,Object(r.a)({ref:t,addEndListener:i.a},c,{onEnter:m}),(function(e,t){return u.a.cloneElement(n,Object(r.a)({},t,{className:l()("fade",a,n.props.className,f[e])}))}))}));m.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},m.displayName="Fade",t.a=m},623:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1),r=a(212),o=a(649),c=Math.pow(2,31)-1;function l(){var e=Object(r.a)(),t=Object(n.useRef)();return Object(o.a)((function(){return clearTimeout(t.current)})),Object(n.useMemo)((function(){var a=function(){return clearTimeout(t.current)};return{set:function(n,r){void 0===r&&(r=0),e()&&(a(),r<=c?t.current=setTimeout(n,r):function e(t,a,n){var r=n-Date.now();t.current=r<=c?setTimeout(a,r):setTimeout((function(){return e(t,a,n)}),c)}(t,n,Date.now()+r))},clear:a}}),[])}},624:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(122),r=a(1),o=function(e){var t;return"undefined"===typeof document?null:null==e?Object(n.a)().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),(null==(t=e)?void 0:t.nodeType)&&e||null)};function c(e,t){var a=Object(r.useState)((function(){return o(e)})),n=a[0],c=a[1];if(!n){var l=o(e);l&&c(l)}return Object(r.useEffect)((function(){t&&n&&t(n)}),[t,n]),Object(r.useEffect)((function(){var t=o(e);t!==n&&c(t)}),[e,n]),n}},649:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1);function r(e){var t=function(e){var t=Object(n.useRef)(e);return t.current=e,t}(e);Object(n.useEffect)((function(){return function(){return t.current()}}),[])}},796:function(e,t,a){"use strict";a.r(t);var n=a(47),r=a(18),o=a(15),c=a(1),l=a.n(c),i=a(9),s=a.n(i),u=a(28),d=a(31),p=a(88),f=a(8),m=a(10),b=a(85),g=a(614),h=a(613),O=a(17),v=a(608),E=a(46),j=a(598),y=a(197),_=a(301),x=a(77),w=function(e){var t=Object(c.useState)({logo:"",name_store:"",country:"",city:"",phone:"",whatssap:"",address:"",email:"",tax:"",handle_stock:!1,header_text:"",foot_page_text:"",client_data_foot_page:"",ref:1,rut:"",comuna:""}),a=Object(o.a)(t,2),i=a[0],u=a[1],b=Object(c.useState)([]),w=Object(o.a)(b,2),C=(w[0],w[1],Object(c.useState)([])),k=Object(o.a)(C,2),S=k[0],N=k[1],T=Object(c.useState)(!1),q=Object(o.a)(T,2),P=q[0],R=q[1],D=Object(c.useState)(!1),A=Object(o.a)(D,2),H=A[0],F=A[1],M=Object(c.useState)(!0),J=Object(o.a)(M,2),I=J[0],z=J[1];Object(c.useEffect)((function(){e.id_branch_office?U():(f.b.error("Debe crear una sucursal o escoger una"),setTimeout((function(){e.history.replace("/config/config_store")}),1e3))}),[e.id_branch_office]);var B=function(e){if("client_data_foot_page"===e.target.name)u(Object(r.a)(Object(r.a)({},i),{},Object(n.a)({},e.target.name,"true"===e.target.value)));else if("rut"===e.target.name){var t=Object(O.b)(e.target.value);u(Object(r.a)(Object(r.a)({},i),{},Object(n.a)({},e.target.name,t)))}else u(Object(r.a)(Object(r.a)({},i),{},Object(n.a)({},e.target.name,e.target.value)))},U=function(){var t=[s.a.get(m.b+"country")];(e.match.params.id||2==JSON.parse(localStorage.getItem("user")).id_rol&&e.id_branch_office)&&t.push(s.a.get(m.b+"config_store")),Promise.all(t).then((function(t){N(t[0].data),t.length>1&&t[1].data?(u({logo:t[1].data.logo,name_store:t[1].data.name_store,country:t[1].data.country,city:t[1].data.city,phone:t[1].data.phone,whatssap:t[1].data.whatssap,address:t[1].data.address,email:t[1].data.email,header_text:t[1].data.header_text,tax:t[1].data.tax,handle_stock:t[1].data.handle_stock,foot_page_text:t[1].data.foot_page_text,client_data_foot_page:t[1].data.client_data_foot_page,ref:t[1].data.ref,rut:t[1].data.rut,comuna:t[1].data.comuna}),F(!0)):2!=e.useConnect.id_rol||e.id_branch_office||u({logo:"",name_store:"",country:"",city:"",phone:"",whatssap:"",address:"",email:"",tax:"",handle_stock:!1,header_text:"",foot_page_text:"",client_data_foot_page:"",ref:1,rut:"",comuna:""}),z(!1)})).catch((function(t){z(!1),e.tokenExpired(t)}))};return l.a.createElement(v.a,null,I?l.a.createElement(x.a,null):l.a.createElement(E.a,{onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),!1===a.checkValidity())return t.stopPropagation(),void R(!0);var n=Object.assign({},i);z(!0),H?s.a.put(m.b+"config_store/"+e.match.params.id,n).then((function(t){f.b.success("Configuraci\xf3n Modificada"),e.setConfigStore(t.data),localStorage.setItem("configStore",JSON.stringify(t.data)),setTimeout((function(){e.history.push("/config/config_store")}),1500)})).catch((function(t){z(!1),e.tokenExpired(t)})):s.a.post(m.b+"config_store",n).then((function(t){f.b.success("Configuraci\xf3n Creada"),localStorage.setItem("configStore",JSON.stringify(t.data)),e.setConfigStore(t.data),setTimeout((function(){e.history.push("/config/config_store")}),1500)})).catch((function(t){z(!1),e.tokenExpired(t)}))},noValidate:!0,validated:P},l.a.createElement(j.a,{className:"justify-content-center containerDiv"},l.a.createElement(y.a,{sm:12,md:12,lg:12},l.a.createElement("h4",{className:"text-center title_principal"},"Datos de la Tienda"),l.a.createElement("br",null)),l.a.createElement(y.a,{sm:12,md:12,lg:12,xs:12,className:""},l.a.createElement(j.a,null,l.a.createElement(p.a,Object.assign({},e.inputCountry,{handleChange:B,value:i.country}),l.a.createElement("option",{value:""},"--Seleccione--"),S.map((function(e,t){return l.a.createElement("option",{value:e.id,key:t},e.nombre)}))),l.a.createElement(p.a,{type:"text",label:"Ciudad",name:"city",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:i.city,handleChange:B}),l.a.createElement(p.a,{type:"text",label:"Comuna",name:"comuna",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:i.comuna,handleChange:B})),l.a.createElement(g.a,{placement:"top",overlay:l.a.createElement(h.a,{id:"tooltip-disabled1"},"Campos para especificar el tax que se le va a colocar a los productos y si se maneja inventario a la hora de facturar una venta")},l.a.createElement(j.a,null,l.a.createElement(p.a,Object.assign({},e.inputTax,{handleChange:B,value:i.tax})),l.a.createElement(p.a,Object.assign({},e.inputHandleStock,{handleChange:B,value:i.handle_stock}),l.a.createElement("option",{value:!1},"No"),l.a.createElement("option",{value:!0},"Si")))),l.a.createElement(g.a,{placement:"top",overlay:l.a.createElement(h.a,{id:"tooltip-disabled1"},"Campo para determinar desde que n\xfamero empieza la facturaci\xf3n en las ventas")},l.a.createElement(j.a,null,l.a.createElement(p.a,Object.assign({},e.inputRef,{handleChange:B,value:i.ref})))),l.a.createElement(j.a,{className:"justify-content-center"},l.a.createElement(y.a,{sm:4,md:4,lg:4,xs:4,className:""},l.a.createElement(_.a,{size:"sm",type:"submit",variant:"danger",block:!0},"Guardar ",l.a.createElement(d.A,null))),l.a.createElement(y.a,{sm:4,md:4,lg:4,xs:4,className:""},l.a.createElement(_.a,{size:"sm",type:"button",onClick:function(){e.history.replace("/config/config_store")},variant:"secondary",block:!0},"Volver a la Configuracipon ",l.a.createElement(d.i,null))))))))};w.defaultProps={inputNameStore:{type:"text",required:!0,name:"name_store",label:"Nombre de la Tienda",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputEmail:{type:"email",required:!1,name:"email",label:"Correo",messageErrors:["Requerido*"," Formato Email*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputCountry:{type:"select",required:!0,name:"country",label:"Pa\xeds",messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4"},inputPhone:{type:"number",required:!1,name:"phone",label:"Tel\xe9fono",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputWhatssap:{type:"number",required:!1,name:"whatssap",label:"Whatssap",messageErrors:[],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputAddress:{type:"textarea",required:!1,name:"address",label:"Direcci\xf3n",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputTax:{type:"number",required:!0,name:"tax",label:"Tax",messageErrors:[],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputHandleStock:{type:"select",required:!0,name:"handle_stock",label:"Maneja Inventario",messageErrors:[],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputHeaderText:{type:"textarea",required:!1,rows:3,name:"header_text",label:"Texto de Cabecera",messageErrors:[],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputFooterPageText:{type:"textarea",required:!1,rows:3,name:"foot_page_text",label:"Texto Pie de P\xe1gina",messageErrors:[],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputRut:{type:"text",required:!1,name:"rut",label:"Rut de la tienda",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputRef:{type:"number",required:!0,name:"ref",label:"N\xfamero de referencia",placeholder:"N\xfamero de referencia de venta",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"}},t.default=Object(u.b)((function(e){return{id_branch_office:e.enterpriseSucursal.id_branch_office,id_enterprise:e.enterpriseSucursal.id_enterprise}}),{setConfigStore:b.c})(w)}}]);