(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[26],{618:function(e,a,t){"use strict";var n=t(51),r=t(126),c=t(1),l=t.n(c),o=t(127),i=t(626),s=t(627),m=t(305);function d(){var e=Object(r.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .table_responsive_eddit{\n    overflow-x: auto;\n  }\n"]);return d=function(){return e},e}var u=o.a.div(d());function p(e){var a=e.column,t=a.filterValue,n=a.preFilteredRows,r=a.setFilter,c=n.length;return l.a.createElement("input",{value:t||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(c," registros..."),className:"inputPageFilter"})}function g(e,a,t){return Object(s.a)(e,t,{keys:[function(e){return e.values[a]}]})}function E(e){var a=e.columns,t=e.data,r=e.menuTop,c=e.headerColor,o=e.headerFontColor,s=e.pageSizeHandler,d=l.a.useMemo((function(){return{fuzzyText:g,text:function(e,a,t){return e.filter((function(e){var n=e.values[a];return void 0===n||String(n).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),u=l.a.useMemo((function(){return{Filter:p}}),[]),E=Object(i.useTable)({columns:a,data:t,defaultColumn:u,filterTypes:d,initialState:{pageIndex:0,pageSize:s[0]}},i.useFilters,i.useSortBy,i.usePagination),b=E.getTableProps,_=E.getTableBodyProps,y=E.headerGroups,f=E.page,h=E.prepareRow,v=E.canPreviousPage,C=E.canNextPage,j=E.pageOptions,O=E.pageCount,x=E.gotoPage,z=E.nextPage,k=E.previousPage,N=E.setPageSize,D=E.state,q=D.pageIndex,R=D.pageSize;return l.a.createElement("div",{className:"table_responsive_eddit"},r?l.a.createElement("div",{className:"pagination"},l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(0)},disabled:!v},"<<")," ",l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return k()},disabled:!v},"<")," ",l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return z()},disabled:!C},">")," ",l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(O-1)},disabled:!C},">>")," ",l.a.createElement("span",null,"P\xe1gina"," ",l.a.createElement("strong",null,q+1," de ",j.length)," "),l.a.createElement("span",{className:"ml-3"},"| ",l.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),l.a.createElement("input",Object(n.a)({type:"number",defaultValue:q+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;x(a)},className:"inputPage"},"onChange",(function(e){e.target.value>j.length&&(e.target.value=1)}))))," ",l.a.createElement("select",{value:R,onChange:function(e){N(Number(e.target.value))},className:"inputPage"},s.map((function(e){return l.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",l.a.createElement("table",Object.assign({},b(),{className:"table table-bordered"}),l.a.createElement("thead",null,y.map((function(e){return l.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return l.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{style:{backgroundColor:c||"rgb(218, 236, 242)",color:o||"black"}}),e.render("Header"),l.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),l.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),l.a.createElement("tbody",Object.assign({},_(),{className:"text-center"}),f.map((function(e,a){return h(e)||l.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return l.a.createElement("td",Object.assign({style:{position:"relative"}},e.getCellProps()),e.render("Cell"))})))})))),l.a.createElement("div",{className:"pagination"},l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(0)},disabled:!v},"<<")," ",l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return k()},disabled:!v},"<")," ",l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return z()},disabled:!C},">")," ",l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(O-1)},disabled:!C},">>")," ",l.a.createElement("span",null,"P\xe1gina"," ",l.a.createElement("strong",null,q+1," de ",j.length)," "),l.a.createElement("span",{className:"ml-3"},"| ",l.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),l.a.createElement("input",Object(n.a)({type:"number",defaultValue:q+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;x(a)},className:"inputPage"},"onChange",(function(e){e.target.value>j.length&&(e.target.value=1)}))))," ",l.a.createElement("select",{value:R,onChange:function(e){N(Number(e.target.value))},className:"inputPage"},s.map((function(e){return l.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}g.autoRemove=function(e){return!e};a.a=function(e){var a=e.data,t=e.columns,n=e.menuTop,r=e.headerColor,c=e.headerFontColor,o=e.pageSizeHandler;return o=o||[10,20,30,40,50],l.a.createElement(u,null,l.a.createElement(E,{pageSizeHandler:o,data:a,columns:t,menuTop:n,headerFontColor:c,headerColor:r}))}},622:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(70),l=t(208),o=t(30);a.a=function(e){var a=Object(c.a)(e,{activeKey:"onSelect"}),t=a.id,i=a.generateChildId,s=a.onSelect,m=a.activeKey,d=a.transition,u=a.mountOnEnter,p=a.unmountOnExit,g=a.children,E=Object(n.useMemo)((function(){return i||function(e,a){return t?t+"-"+a+"-"+e:null}}),[t,i]),b=Object(n.useMemo)((function(){return{onSelect:s,activeKey:m,transition:d,mountOnEnter:u||!1,unmountOnExit:p||!1,getControlledId:function(e){return E(e,"tabpane")},getControllerId:function(e){return E(e,"tab")}}}),[s,m,d,u,p,E]);return r.a.createElement(l.a.Provider,{value:b},r.a.createElement(o.a.Provider,{value:s||null},g))}},623:function(e,a,t){"use strict";var n=t(2),r=t(4),c=t(5),l=t.n(c),o=t(1),i=t.n(o),s=t(7),m=i.a.forwardRef((function(e,a){var t=e.bsPrefix,c=e.as,o=void 0===c?"div":c,m=e.className,d=Object(r.a)(e,["bsPrefix","as","className"]),u=Object(s.a)(t,"tab-content");return i.a.createElement(o,Object(n.a)({ref:a},d,{className:l()(m,u)}))}));a.a=m},624:function(e,a,t){"use strict";var n=t(2),r=t(4),c=t(5),l=t.n(c),o=t(1),i=t.n(o),s=t(7),m=t(208),d=t(30),u=t(166);var p=i.a.forwardRef((function(e,a){var t=function(e){var a=Object(o.useContext)(m.a);if(!a)return e;var t=a.activeKey,c=a.getControlledId,l=a.getControllerId,i=Object(r.a)(a,["activeKey","getControlledId","getControllerId"]),s=!1!==e.transition&&!1!==i.transition,p=Object(d.b)(e.eventKey);return Object(n.a)({},e,{active:null==e.active&&null!=p?Object(d.b)(t)===p:e.active,id:c(e.eventKey),"aria-labelledby":l(e.eventKey),transition:s&&(e.transition||i.transition||u.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:i.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:i.unmountOnExit})}(e),c=t.bsPrefix,p=t.className,g=t.active,E=t.onEnter,b=t.onEntering,_=t.onEntered,y=t.onExit,f=t.onExiting,h=t.onExited,v=t.mountOnEnter,C=t.unmountOnExit,j=t.transition,O=t.as,x=void 0===O?"div":O,z=(t.eventKey,Object(r.a)(t,["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"])),k=Object(s.a)(c,"tab-pane");if(!g&&!j&&C)return null;var N=i.a.createElement(x,Object(n.a)({},z,{ref:a,role:"tabpanel","aria-hidden":!g,className:l()(p,k,{active:g})}));return j&&(N=i.a.createElement(j,{in:g,onEnter:E,onEntering:b,onEntered:_,onExit:y,onExiting:f,onExited:h,mountOnEnter:v,unmountOnExit:C},N)),i.a.createElement(m.a.Provider,{value:null},i.a.createElement(d.a.Provider,{value:null},N))}));p.displayName="TabPane",a.a=p},625:function(e,a,t){e.exports=t.p+"static/media/empty_logo.258d3697.jpg"},628:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(50),l=(t(313),r.a.forwardRef((function(e,a){var t=e.cols?e.cols:"col-md-6 col-sm-6";return"select"!==e.type&&"textarea"!==e.type?r.a.createElement(c.a.Group,{className:t},r.a.createElement(c.a.Label,{className:"fontBold"},e.label),r.a.createElement(c.a.Control,{ref:a,id:e.id?e.id:e.name,type:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",required:e.required,readOnly:!!e.readonly&&e.readonly,step:e.step?e.step:"",onKeyUp:e.handleKeyUp?e.handleKeyUp:function(){},className:e.className?e.className+" form-control-sm mainBorder":"form-control-sm mainBorder",style:e.style?e.style:{},autoComplete:e.autoComplete?e.autoComplete:"xxx"}),r.a.createElement(c.a.Control.Feedback,{type:"invalid"},e.messageErrors.map((function(e,a){return r.a.createElement("span",{key:a,className:"error-input"},e.replace(/[*]$/g,""))})))):"select"===e.type?r.a.createElement(c.a.Group,{className:t},r.a.createElement(c.a.Label,{className:"fontBold"},e.label),r.a.createElement(c.a.Control,{id:e.id?e.id:e.name,as:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",readOnly:!!e.readonly&&e.readonly,required:e.required,multiple:!!e.multiple&&e.multiple,ref:a||null,className:e.className?e.className+" form-control-sm mainBorder":"form-control-sm mainBorder",style:e.style?e.style:{},autoComplete:e.autoComplete?e.autoComplete:"xxx"},e.children),r.a.createElement(c.a.Control.Feedback,{type:"invalid"},e.messageErrors.map((function(e,a){return r.a.createElement("span",{key:a,className:"error-input"},e.replace(/[*]$/g,""))})))):"textarea"===e.type?r.a.createElement(c.a.Group,{className:t},r.a.createElement(c.a.Label,{className:"fontBold"},e.label),r.a.createElement(c.a.Control,{id:e.id?e.id:e.name,as:e.type,name:e.name,onChange:e.handleChange,value:e.value,placeholder:e.placeholder?e.placeholder:"",required:e.required,rows:e.rows?e.rows:2,readOnly:!!e.readonly&&e.readonly,onKeyUp:e.handleKeyUp?e.handleKeyUp:function(){},ref:a||null,className:e.className?e.className+" form-control-sm mainBorder":"form-control-sm mainBorder",style:e.style?e.style:{},autoComplete:e.autoComplete?e.autoComplete:"xxx"}),r.a.createElement(c.a.Control.Feedback,{type:"invalid"},e.messageErrors.map((function(e,a){return r.a.createElement("span",{key:a,className:"error-input"},e.replace(/[*]$/g,""))})))):void 0})));a.a=l},629:function(e,a,t){},630:function(e,a,t){"use strict";var n=t(17),r=t.n(n),c=t(34),l=t(51),o=t(20),i=t(16),s=t(1),m=t.n(s),d=t(616),u=t(50),p=t(604),g=t(205),E=t(305),b=t(32),_=t(10),y=(t(311),t(9)),f=t.n(y),h=t(8),v=t(82),C=t(18),j=t(83),O=function(e){var a=Object(s.useState)(!1),t=Object(i.a)(a,2),n=t[0],y=t[1],O=Object(s.useState)(!1),x=Object(i.a)(O,2),z=x[0],k=x[1],N=Object(s.useState)({name_client:"",email:"",type_document:"Rut",data_document:"",phone:"",address:"",observation:"",picture:"",city:"",bussines_name:"",comunda:"",spin:"",actividad_economica:""}),D=Object(i.a)(N,2),q=D[0],R=D[1],S=Object(s.useRef)(null);Object(s.useEffect)((function(){if(e.dataModify){var a=Object.assign({},e.dataModify);R({name_client:a.name_client,email:a.email,type_document:a.type_document,data_document:a.data_document+"-"+a.dv,phone:a.phone,address:a.address,observation:a.observation,picture:a.picture,city:a.city,bussines_name:a.bussines_name,comuna:a.comuna,spin:a.spin,actividad_economica:a.actividad_economica,id:a.id})}}),[e.dataModify]);var T=function(e){if("type_document"===e.target.name){var a,t="Rut"===e.target.value?Object(C.g)(Object.assign({},q).data_document):Object.assign({},q).data_document.replace(/-/g,"");R(Object(o.a)(Object(o.a)({},q),{},(a={},Object(l.a)(a,e.target.name,e.target.value),Object(l.a)(a,"data_document",t),a)))}else"data_document"===e.target.name&&"Rut"===q.type_document?R(Object(o.a)(Object(o.a)({},q),{},Object(l.a)({},e.target.name,Object(C.g)(e.target.value)))):R(Object(o.a)(Object(o.a)({},q),{},Object(l.a)({},e.target.name,e.target.value)))},w=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];R({name_client:"",email:"",type_document:"Rut",data_document:"",phone:"",address:"",observation:"",picture:"",city:"",comuna:"",spin:"",bussines_name:"",actividad_economica:""}),e.onHide(a)},P=function(){var e=Object(c.a)(r.a.mark((function e(){var a,t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q.data_document){e.next=19;break}return k(!0),e.prev=2,a=Object.assign({},q).data_document,t=a.split("-")[1],a=a.split("-")[0],e.next=8,f.a.get(_.b+"search_user_simple/"+a+"/"+t);case 8:n=e.sent,R((function(e){return Object.assign({},e,{city:n.data.receptor.ciudad_seleccionada,comuna:n.data.receptor.comuna_seleccionada,address:n.data.receptor.direccion_seleccionada,bussines_name:n.data.receptor.razon_social,name_client:e.name_client?e.name_client:n.data.receptor.razon_social})})),k(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),k(!1),e.t0.response?h.b.error(e.t0.response.data.message):(console.log(e.t0),h.b.error("Error, contacte con soporte"));case 17:e.next=20;break;case 19:h.b.info("Introduzca un rut para buscar los datos del cliente");case 20:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(d.a,{show:e.isShow,onHide:w,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},m.a.createElement(d.a.Header,{closeButton:!0,className:"header_dark"},m.a.createElement(d.a.Title,{id:"contained-modal-title-vcenter"},"Formulario de Clientes ",m.a.createElement(b.R,null))),m.a.createElement(u.a,{onSubmit:function(){},noValidate:!0,validated:n,ref:S},z?m.a.createElement(d.a.Body,null,m.a.createElement(j.a,null)):m.a.createElement(d.a.Body,null,m.a.createElement(p.a,null,m.a.createElement(g.a,{sm:12,md:12,lg:12,xs:12},m.a.createElement(p.a,null,m.a.createElement(v.a,Object.assign({},e.inputTypeDocument,{handleChange:T,value:q.type_document}),m.a.createElement("option",{value:""},"--Seleccione--"),m.a.createElement("option",{value:"Rut"},"Rut"),m.a.createElement("option",{value:"Id"},"Id"),m.a.createElement("option",{value:"Nro pasaporte"},"N\xb0 pasaporte")),m.a.createElement(v.a,Object.assign({},e.inputDataDocument,{handleChange:T,value:q.data_document})),"Rut"===q.type_document?m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement("br",null),m.a.createElement(E.a,{block:!0,variant:"secondary",type:"button",size:"sm",onClick:P},"Buscar cliente ",m.a.createElement(b.I,null))):""),m.a.createElement(p.a,null,m.a.createElement(v.a,Object.assign({},e.inputName,{handleChange:T,value:q.name_client})),m.a.createElement(v.a,{type:"text",required:!1,cols:"col-md-4 col-sm-4 col-lg-4 col-xs-6",handleChange:T,value:q.bussines_name,name:"bussines_name",label:"Razon Social",placeholder:"opcional",messageErrors:[]})),m.a.createElement(p.a,null,m.a.createElement(v.a,Object.assign({},e.inputEmail,{handleChange:T,placeholder:"opcional",value:q.email})),m.a.createElement(v.a,Object.assign({},e.inputPhone,{handleChange:T,placeholder:"opcional",value:q.phone})),m.a.createElement(v.a,Object.assign({},e.inputAddress,{placeholder:"opcional",handleChange:T,value:q.address}))),m.a.createElement(p.a,null,m.a.createElement(v.a,{type:"text",label:"Ciudad",name:"city",required:!1,placeholder:"opcional",messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:q.city,handleChange:T}),m.a.createElement(v.a,{type:"text",label:"Comuna",name:"comuna",required:!1,placeholder:"opcional",messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:q.comuna,handleChange:T}),m.a.createElement(v.a,{type:"text",label:"Giro",name:"spin",required:!1,placeholder:"opcional",messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:q.spin,handleChange:T})),m.a.createElement(p.a,null,m.a.createElement(v.a,Object.assign({},e.inputObservation,{handleChange:T,placeholder:"opcional",value:q.observation})),m.a.createElement(v.a,{type:"text",label:"Actividad Econ\xf3mica",placeholder:"opcional",name:"actividad_economica",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:q.actividad_economica,handleChange:T}))))),m.a.createElement(d.a.Footer,null,m.a.createElement(E.a,{size:"md",variant:"danger",type:"button",onClick:function(){if(!1!==S.current.checkValidity()){var a=Object.assign({},q);k(!0),e.dataModify?f.a.put(_.b+"client/"+a.id,a).then((function(e){h.b.success("Cliente Modificado"),w(),k(!1)})).catch((function(e){k(!1),e.response?h.b.error(e.response.data.message):h.b.error("Error, contacte con soporte")})):f.a.post(_.b+"client",q).then((function(e){h.b.success("Cliente Registrado"),w(!0),k(!1)})).catch((function(e){k(!1),e.response?h.b.error(e.response.data.message):h.b.error("Error, contacte con soporte")}))}else y(!0)}},"Guardar"),m.a.createElement(E.a,{size:"md",variant:"secondary",onClick:w},"Cerrar"))))};O.defaultProps={inputName:{type:"text",required:!0,name:"name_client",label:"Nombre Cliente",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*"]},inputEmail:{type:"email",required:!1,name:"email",label:"Email",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*, ","Formato Tipo Email*"]},inputPhone:{type:"number",required:!1,name:"phone",label:"Tel\xe9fono",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:[]},inputAddress:{type:"text",required:!1,name:"address",label:"Direcci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:[]},inputTypeDocument:{type:"select",required:!1,name:"type_document",label:"Tipo de Documento",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*"]},inputDataDocument:{type:"text",required:!1,name:"data_document",label:"Informaci\xf3n Identidad",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",placeholder:"Introduzca su rut, id o su n\xb0 de pasaporte",messageErrors:["Requerido*"]},inputObservation:{type:"textarea",required:!1,name:"observation",label:"Observaci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",rows:2,messageErrors:[]}},a.a=O},631:function(e,a,t){},633:function(e,a,t){"use strict";var n=t(94),r=t(17),c=t.n(r),l=t(51),o=t(20),i=t(34),s=t(16),m=t(1),d=t.n(m),u=t(9),p=t.n(u),g=(t(629),t(32)),E=t(82),b=t(8),_=t(18),y=t(10),f=t(616),h=t(305),v=(t(311),t(631),t(643)),C=t.n(v),j=function(e){Object(m.useEffect)((function(){return a(),function(){C.a.stop()}}),[]);var a=function(){C.a.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("#camera"),numOfWorkers:navigator.hardwareConcurrency,constraints:{width:300,height:300}},decoder:{readers:["ean_reader"]}},(function(e){e?b.b.error("Error, revise que la c\xe1mara de su dispositivo este conectada"):(console.log("Initialization finished. Ready to start"),C.a.start())}));var a=[];C.a.onDetected((function(n){var r=n.codeResult.code;if(a.push(r),a.length>20){var c=t(a)[0];e.catchCode(c)}}))},t=function(e){var a={};return e.forEach((function(e){a[e]||(a[e]=0),a[e]++})),Object.keys(a).sort((function(e,t){return a[e]<a[t]}))};return d.a.createElement("div",{id:"camera"})},O=function(e){return d.a.createElement(f.a,{show:e.show,onHide:e.onHide,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},d.a.createElement(f.a.Header,{closeButton:!0,className:"header_dark"},d.a.createElement(f.a.Title,{id:"contained-modal-title-vcenter"})),d.a.createElement(f.a.Body,null,d.a.createElement("div",{style:{width:"100%",paddingLeft:"25%"}},d.a.createElement(j,{catchCode:e.catchCode}))),d.a.createElement(f.a.Footer,null,d.a.createElement(h.a,{size:"sm",onClick:e.onHide},"Cerrar")))},x=t(641),z=t(613),k=t(837),N=t(604),D=t(205),q=t(614),R=t(50),S=t(650),T=t(648),w=function(e){var a,r,u=Object(m.useState)({name_product:"",code_ean:"",description:"",is_neto:!1,id_category:[],is_auto_sale:!1,img_product:"",method_sale:1,price:"",qr_image:"",sticker_color:"#9c7901",detailCost:[],pack:"",categoryNames:"",minimun_stock:10,quantity:"",cost:"",cost_details:"",id_product_detail:"",id_provider:[]}),f=Object(s.a)(u,2),v=f[0],C=f[1],j=Object(m.useState)(!1),w=Object(s.a)(j,2),P=w[0],G=(w[1],Object(m.useState)(!1)),A=Object(s.a)(G,2),F=A[0],I=A[1],H=Object(m.useState)([]),M=Object(s.a)(H,2),B=(M[0],M[1]),V=Object(m.useState)([]),Y=Object(s.a)(V,2),K=Y[0],L=Y[1],U=Object(m.useState)(!1),J=Object(s.a)(U,2),W=J[0],$=J[1],Q=Object(m.useState)(!1),X=Object(s.a)(Q,2),Z=X[0],ee=X[1],ae=Object(m.useState)(""),te=Object(s.a)(ae,2),ne=te[0],re=te[1],ce=Object(m.useState)({}),le=Object(s.a)(ce,2),oe=le[0],ie=le[1],se=Object(m.useState)(0),me=Object(s.a)(se,2),de=me[0],ue=me[1],pe=Object(m.useState)({}),ge=Object(s.a)(pe,2),Ee=ge[0],be=ge[1],_e=Object(m.useState)(""),ye=Object(s.a)(_e,2),fe=ye[0],he=ye[1],ve=Object(m.useState)("Guardar"),Ce=Object(s.a)(ve,2),je=Ce[0],Oe=Ce[1],xe=Object(m.useState)(!1),ze=Object(s.a)(xe,2),ke=ze[0],Ne=ze[1],De=Object(m.useState)([]),qe=Object(s.a)(De,2),Re=qe[0],Se=qe[1],Te=Object(m.useState)([]),we=Object(s.a)(Te,2),Pe=(we[0],we[1],Object(m.useState)(!1)),Ge=Object(s.a)(Pe,2),Ae=Ge[0],Fe=Ge[1],Ie=Object(m.useState)(d.a.createElement(z.a,{src:t(625),id:"imagen_logo",style:{width:"100px"},roundedCircle:!0})),He=Object(s.a)(Ie,2),Me=He[0],Be=He[1],Ve=Object(m.useState)(!1),Ye=Object(s.a)(Ve,2),Ke=Ye[0],Le=Ye[1],Ue=Object(m.useState)([]),Je=Object(s.a)(Ue,2),We=Je[0],$e=Je[1],Qe=Object(m.useRef)(null);Object(m.useEffect)((function(){return Ze(),function(){aa()}}),[]),Object(m.useEffect)((function(){ta()}),[oe,Ee]);var Xe=function(){var e=Object(i.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"method_sale"===a.target.name?("",2==a.target.value?Fe(!0):Fe(!1),C(Object(o.a)(Object(o.a)({},v),{},Object(l.a)({},a.target.name,a.target.value)))):"is_neto"===a.target.name||"is_auto_sale"===a.target.name?(t="true"===a.target.value,C(Object(o.a)(Object(o.a)({},v),{},Object(l.a)({},a.target.name,t)))):C(Object(o.a)(Object(o.a)({},v),{},Object(l.a)({},a.target.name,a.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ze=function(){var a=[p.a.get(y.b+"category"),p.a.get(y.b+"config_general"),p.a.get(y.b+"provider"),p.a.get(y.b+"product")];e.match.params.id&&(e.isInventary?a.push(p.a.get(y.b+"product/"+atob(e.match.params.id))):a.push(p.a.get(y.b+"product/"+e.match.params.id))),Promise.all(a).then((function(a){a[0].data?L(a[0].data):b.b.warning("Debe realizar su configuraci\xf3n general"),B(a[1].data),$e(a[2].data),Se(a[3].data),a.length>4&&e.isInventary&&(C({name_product:a[4].data.name_product,code_ean:a[4].data.code_ean,description:a[4].data.description,is_neto:a[4].data.is_neto,id_category:a[4].data.categories.map((function(e){return{value:e.categories.id,label:e.categories.name_category}})),is_auto_sale:a[4].data.is_auto_sale,img_product:a[4].data.img_product,method_sale:a[4].data.method_sale,price:a[4].data.price,qr_image:a[4].data.qr_image,sticker_color:a[4].data.sticker_color,detailCost:a[4].data.cost_details,pack:a[4].data.pack,id_product_detail:a[4].data.id_product_detail,minimun_stock:a[4].data.inventary[0].minimun_stock}),2==a[4].data.method_sale&&Fe(!0),ee(!0),a[4].data.img_product&&Be(d.a.createElement(z.a,{src:y.b+"images/product/principal/"+a[4].data.img_product,id:"imagen_logo",style:{width:"80px"},thumbnail:!0})),a[4].data.gallery.length>0&&be(a[4].data.gallery))})).catch((function(e){e.response?b.b.error(e.response.data.message):(console.log(e),b.b.error("Error,contacte con soporte"))}))},ea=function(){var a=Object(i.a)(c.a.mark((function a(){var t,n,r,l,o,i,s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!1!==Qe.current.checkValidity()){a.next=5;break}return $(!0),a.abrupt("return");case 5:if(t=new FormData,n=Object.assign({},v,{detailCost:v.detailCost.concat(P)}),Object.keys(n).forEach((function(e,a){if("img_product"===e)ne&&t.append(e,ne);else if("id_category"===e){var n="";v[e]&&v[e].forEach((function(e,a){t.append("id_category",e.value),n+=e.label+","})),n=n.substring(0,n.length-1),t.append("name_categories",n)}else t.append(e,v[e])})),Oe("Guardando Datos, Espere por favor..."),Ne(!0),!Z){a.next=25;break}return r=e.isInventary?atob(e.match.params.id):e.match.params.id,a.next=14,p.a.put(y.b+"product/"+r,t);case 14:return l=a.sent,Oe("Trabajando en galeria de imag\xe9nes..."),o=new FormData,Object.keys(oe).forEach((function(e,a){o.append("gallery",oe[e])})),Object.keys(Ee).forEach((function(e,a){o.append("galleryUpdate",Ee[e].filename)})),a.next=21,p.a.put(y.b+"update_gallery/"+r,o);case 21:b.b.success("Producto Modificado"),setTimeout((function(){e.isInventary?ra():e.handleSubmitProduct(Object.assign({},l.data))}),1500),a.next=48;break;case 25:return a.next=27,p.a.post(y.b+"product",t);case 27:if(i=a.sent,!(Object.keys(oe).length>0)){a.next=42;break}return Oe("Guardando Galeria de Imagenes..."),s=new FormData,Object.keys(oe).forEach((function(e,a){s.append("gallery",oe[e])})),s.append("id_product",i.data.id),a.next=35,p.a.post(y.b+"product_gallery",s);case 35:b.b.success("Producto Creado"),Oe("Guardar"),Ne(!1),Fe(!1),aa(),a.next=47;break;case 42:b.b.success("Producto Creado"),Oe("Guardar"),Ne(!1),Fe(!1),aa();case 47:setTimeout((function(){e.isInventary?ra():e.handleSubmitProduct(Object.assign({},i.data))}),1500);case 48:a.next=55;break;case 50:a.prev=50,a.t0=a.catch(0),Oe("Guardar"),Ne(!1),a.t0.response?b.b.error(a.t0.response.data.message):(console.log(a.t0),b.b.error("Error, contacte con soporte"));case 55:case"end":return a.stop()}}),a,null,[[0,50]])})));return function(){return a.apply(this,arguments)}}(),aa=function(){C({name_product:"",cost:"",code_ean:"",description:"",is_neto:"",id_category:"",is_auto_sale:"",img_product:"",method_sale:"",price:"",qr_image:"",sticker_color:"#9c7901",detailCost:[],pack:"",categoryNames:"",minimun_stock:0}),re(null),Be(null),ie({}),he(""),Be(d.a.createElement(z.a,{src:t(625),id:"img_show",style:{width:"80px"},roundedCircle:!0}))},ta=function(){var e=Object(i.a)(c.a.mark((function e(){var a,t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",0,e.next=4,Promise.all(Object.keys(oe).map(function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oe[t],e.next=3,Object(_.h)(a);case 3:return r=e.sent,e.abrupt("return",d.a.createElement(k.a.Item,{key:n},d.a.createElement("img",{className:"d-block",src:r,alt:"First slide",style:{height:"300px",width:"100%"}}),d.a.createElement(k.a.Caption,null,d.a.createElement(N.a,{className:"justify-content-center"},d.a.createElement(D.a,{sm:5,md:5,lg:5},d.a.createElement(h.a,{size:"sm",variant:"dark",title:"Eliminar",onClick:function(){return na(t,!1)},className:"buttonTrashGallery"},"Eliminar ",d.a.createElement(g.N,null)))))));case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()));case 4:return t=e.sent,e.next=7,Promise.all(Object.keys(Ee).map(function(){var e=Object(i.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ee[t],e.abrupt("return",d.a.createElement(k.a.Item,{key:n+"-update"},d.a.createElement("img",{className:"d-block",src:y.b+"images/product/gallery/"+a.filename,alt:"First slide",style:{height:"300px",width:"100%"}}),d.a.createElement(k.a.Caption,null,d.a.createElement(N.a,{className:"justify-content-center"},d.a.createElement(D.a,{sm:5,md:5,lg:5},d.a.createElement(h.a,{size:"sm",variant:"dark",title:"Eliminar",onClick:function(){return na(t,!0)},className:"buttonTrashGallery"},"Eliminar ",d.a.createElement(g.N,null)))))));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()));case 7:r=e.sent,he([].concat(Object(n.a)(t),Object(n.a)(r)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),na=function(e,a){if(a){var t=Object.assign({},Ee);delete t[e],be(t),ue(0)}else{var n=Object.assign({},oe);delete n[e],ie(n),ue(0)}},ra=function(){e.history.replace("/inventary")},ca=function(){if(!Ke){if(!v.name_product||!v.price)return void $(!0);W&&$(!1)}Le(!Ke)};return d.a.createElement(q.a,{fluid:!0},d.a.createElement(N.a,null,d.a.createElement(D.a,{sm:12,md:12,lg:12},d.a.createElement("h4",{className:"title_principal"},Z?"Modifcar producto en el invetario":"Crear producto en el inventario"))),d.a.createElement(R.a,{onSubmit:function(){},noValidate:!0,validated:W,ref:Qe},Ke?d.a.createElement(d.a.Fragment,null,d.a.createElement(N.a,null,d.a.createElement(E.a,{type:"number",label:"Cantidad",name:"quantity",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:v.quantity,handleChange:Xe}),d.a.createElement(E.a,{type:"text",label:"Detalle Costo",name:"detail",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:v.detail,handleChange:Xe}),d.a.createElement(E.a,{type:"number",step:"any",label:"Costo",name:"cost",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:v.cost,handleChange:Xe})),d.a.createElement(N.a,null,d.a.createElement(R.a.Group,{className:"col-md-4 col-sm-4 col-lg-4"},d.a.createElement(R.a.Label,{className:"fontBold"},"Proveedores"),d.a.createElement(x.a,{value:v.id_provider,onChange:function(e){C(Object(o.a)(Object(o.a)({},v),{},{id_provider:e}))},isMulti:!0,options:We.map((function(e,a){return{value:e.id,label:e.social_razon}}))}))),d.a.createElement(N.a,{className:"justify-content-center"},d.a.createElement(D.a,{sm:4,md:4,lg:4},d.a.createElement(h.a,{size:"sm",type:"button",onClick:ea,disabled:ke,variant:"danger",block:!0},je," ",d.a.createElement(g.z,null)," ")),d.a.createElement(D.a,{sm:4,md:4,lg:4},d.a.createElement(h.a,{size:"sm",type:"button",onClick:ca,variant:"secondary",block:!0},"Atr\xe1s")))):d.a.createElement(N.a,{className:""},d.a.createElement(D.a,{sm:12,md:12,lg:12,xs:12,className:""},d.a.createElement(N.a,{className:"justify-content-center align-items-center"},d.a.createElement(D.a,{sm:4,md:4,lg:4,xs:12},d.a.createElement("br",null),d.a.createElement(h.a,Object(l.a)({size:"sm",onClick:function(){document.getElementById("file_product").click()},variant:"success",block:"true"},"size","sm"),"Escoger Imagen Producto ",d.a.createElement(g.s,null)),d.a.createElement("input",{type:"file",id:"file_product",style:{display:"none"},onChange:function(e){var a=e.target.files[0],t=new FileReader;t.onload=function(e){Be(d.a.createElement(z.a,{src:e.target.result,id:"img_show",style:{width:"80%"},roundedCircle:!0})),re(a)},t.readAsDataURL(a)}})),d.a.createElement(D.a,{sm:4,md:4,lg:4,xs:12,className:"text-center"},Me)),d.a.createElement("br",null),d.a.createElement(N.a,null,d.a.createElement(E.a,Object.assign({},e.inputNameProduct,{handleChange:Xe,value:v.name_product,placeholder:"Nombre del Producto"})),d.a.createElement(E.a,Object.assign({},e.inputPrice,{handleChange:Xe,value:v.price})),d.a.createElement(R.a.Group,{className:e.isInventary?"col-md-4 col-sm-4 col-lg-4":"col-md-3 col-sm-3 col-lg-3"},d.a.createElement(R.a.Label,{className:"fontBold"},"Categor\xedas"),d.a.createElement(x.a,{value:v.id_category,onChange:function(e){C(Object(o.a)(Object(o.a)({},v),{},{id_category:e}))},isMulti:!0,options:K.map((function(e,a){return{value:e.id,label:e.name_category}}))}))),d.a.createElement(N.a,null,d.a.createElement(E.a,Object.assign({},e.inputDescription,{handleChange:Xe,value:v.description}))),d.a.createElement(S.a,null,d.a.createElement(T.a,null,d.a.createElement(S.a.Toggle,{as:T.a.Header,eventKey:"0",className:"header_card"},d.a.createElement("b",null,"Datos de Personalizaci\xf3n")," (hacer click para desplegar campos)"),d.a.createElement(S.a.Collapse,{eventKey:"0"},d.a.createElement(T.a.Body,null,d.a.createElement(N.a,null,d.a.createElement(E.a,Object.assign({},e.inputCodeEan,{handleChange:Xe,value:v.code_ean})),d.a.createElement(D.a,{sm:4,md:4,lg:4},d.a.createElement("br",null),d.a.createElement(h.a,(a={size:"sm",variant:"dark"},Object(l.a)(a,"size","sm"),Object(l.a)(a,"onClick",(function(){document.getElementById("code_ean").removeAttribute("readonly")})),Object(l.a)(a,"block",!0),a),"Escribir EAN")),d.a.createElement(D.a,{sm:4,md:4,lg:4},d.a.createElement("br",null),d.a.createElement(h.a,(r={size:"sm",variant:"dark"},Object(l.a)(r,"size","sm"),Object(l.a)(r,"onClick",(function(){document.getElementById("code_ean").setAttribute("readonly",!0),I(!0)})),Object(l.a)(r,"block",!0),r),"Scannear EAN"))),d.a.createElement("br",null),d.a.createElement(N.a,null,d.a.createElement(E.a,Object.assign({},e.inputSticker,{handleChange:Xe,value:v.sticker_color})),d.a.createElement(E.a,Object.assign({},e.inputMethodSale,{handleChange:Xe,value:v.method_sale}),d.a.createElement("option",{value:""},"--Seleccione--"),d.a.createElement("option",{value:1},"Unidad"),d.a.createElement("option",{value:2},"Mayorista"),d.a.createElement("option",{value:3},"(Kilo, Litros, Metros, Entre Otros...)")),Ae?d.a.createElement(d.a.Fragment,null,d.a.createElement(E.a,Object.assign({},e.inputPack,{handleChange:Xe,value:v.pack})),d.a.createElement(E.a,{label:"producto",type:"select",name:"id_product_detail",required:!0,messageErrors:["requerido"],cols:"col-md-4 col-sm-4 col-xl-4 col-lg-4",value:v.id_product_detail,handleChange:Xe},d.a.createElement("option",{value:""},"--Seleccione--"),Re.map((function(e,a){return d.a.createElement("option",{value:e.id,key:a},e.name_product)})))):"",d.a.createElement(E.a,{type:"number",label:"Stock minimo",name:"minimun_stock",required:!1,messageErrors:[""],cols:"col-md-4 col-lg-4 col-sm-4",value:v.minimun_stock,handleChange:Xe})),d.a.createElement(N.a,{className:"justify-content-center"},d.a.createElement(D.a,{sm:6,md:6,lg:6,xs:12},d.a.createElement(h.a,{size:"sm",variant:"secondary",onClick:function(){document.getElementById("galleryImg").click()},block:"true"},"Imag\xe9nes de Galeria ",d.a.createElement(g.s,null)),d.a.createElement("input",{type:"file",id:"galleryImg",style:{display:"none"},multiple:!0,accept:".jpg, .png, .jpeg",onChange:function(e){ie(Object.assign({},oe,e.target.files))}}))),d.a.createElement("br",null),d.a.createElement(N.a,{className:"justify-content-center"},d.a.createElement(D.a,{sm:8,md:8,lg:8},d.a.createElement(k.a,{activeIndex:de,onSelect:function(e,a){ue(e)}},fe))))))),d.a.createElement("br",null),Z?d.a.createElement(N.a,{className:"justify-content-center"},d.a.createElement(D.a,{md:4,sm:4,lg:4},d.a.createElement(h.a,{size:"sm",type:"button",onClick:ea,disabled:ke,variant:"danger",block:!0},je," ",d.a.createElement(g.z,null)," ")),e.isInventary?d.a.createElement(D.a,{md:4,sm:4,lg:4},d.a.createElement(h.a,{size:"sm",type:"button",onClick:ra,variant:"secondary",block:!0},"Volver")):""):d.a.createElement(N.a,{className:"justify-content-center"},e.isInventary&&d.a.createElement(D.a,{sm:4,md:4,lg:4},d.a.createElement(h.a,{variant:"danger",size:"sm",onClick:ea,block:!0},"Guardar ",d.a.createElement(g.z,null))),d.a.createElement(D.a,{sm:4,md:4,lg:4},d.a.createElement(h.a,{variant:e.isInventary?"secondary":"danger",size:"sm",onClick:ca,block:!0},"Datos de Inventario")))))),d.a.createElement(O,{show:F,onHide:function(){return I(!1)},catchCode:function(e){I(!1)}}))};w.defaultProps={inputNameProduct:{type:"text",required:!0,name:"name_product",label:"Nombre",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputCodeEan:{type:"text",required:!1,readonly:!0,name:"code_ean",label:"Codigo EAN",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputIsNeto:{type:"select",required:!0,name:"is_neto",label:"Es Neto",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputDescription:{type:"textarea",required:!1,name:"description",label:"Descripci\xf3n (opcional)",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputAutoSale:{type:"select",required:!0,name:"is_auto_sale",label:"Auto Venta",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputMethodSale:{type:"select",required:!0,name:"method_sale",label:"M\xe9todo de Venta",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputPrice:{type:"number",required:!0,name:"price",label:"Precio",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",step:"any",messageErrors:["Requerido*"]},inputSticker:{type:"color",required:!0,name:"sticker_color",label:"color de la Etiqueta",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputCategory:{type:"select",multiple:!0,required:!1,name:"id_category",label:"Categoria",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputPack:{type:"number",required:!1,name:"pack",label:"Pack",placeholder:"Ingrese la cantidad de venta",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",step:"any",messageErrors:["Requerido*"]}};a.a=w},634:function(e,a,t){},635:function(e,a,t){"use strict";var n=t(16),r=t(1),c=t.n(r),l=t(644),o=t.n(l),i=t(32),s=(t(634),t(620)),m=t(619);a.a=function(e){var a=Object(r.useState)(""),t=Object(n.a)(a,2),l=t[0],d=t[1];return Object(r.useEffect)((function(){e.resetValue&&(d(""),e.handleResetValueClient())}),[e.resetValue]),c.a.createElement("div",{style:{width:"100%",position:"relative",zIndex:"1000"}},c.a.createElement(s.a,{placement:"top",overlay:c.a.createElement(m.a,{id:"tooltip-disabled3"},"Buscar Cliente")},c.a.createElement("div",{className:"input-search"},c.a.createElement(i.I,null),c.a.createElement(o.a,{getItemValue:function(e){return e.name_client+"/"+e.data_document+"-"+e.dv},items:e.items,shouldItemRender:function(e,a){return!e.name_client.toLowerCase().indexOf(a.toString().toLowerCase())||!e.data_document.toLowerCase().indexOf(a.toString().toLowerCase())||!e.dv.toString().toLowerCase().indexOf(a.toString().toLowerCase())},renderItem:function(e,a){return c.a.createElement("div",{style:{background:a?"lightgray":"white"},key:e.name_client+"-"+e.data_document},e.name_client+"/"+e.data_document+"-"+e.dv)},value:l,onChange:function(e){return d(e.target.value)},onClick:function(a){d(a),e.returnValue(a)},onSelect:function(a){d(a),e.returnValue(a)}}))))}},636:function(e,a,t){"use strict";var n=t(20),r=t(94),c=t(17),l=t.n(c),o=t(51),i=t(34),s=t(16),m=t(126),d=t(1),u=t.n(d),p=t(9),g=t.n(p),E=t(8),b=t(604),_=t(205),y=t(620),f=t(619),h=t(305),v=t(614),C=t(50),j=t(650),O=t(642),x=t(606),z=t(10),k=t(32),N=t(630),D=t(616),q=t(618),R=t(82),S=t(628),T=function(e){var a=Object(d.useState)({description:"",amount:""}),t=Object(s.a)(a,2),r=t[0],c=t[1],l=Object(d.useState)(!1),i=Object(s.a)(l,2),m=i[0],p=i[1],g=Object(d.useRef)();Object(d.useEffect)((function(){e.isShow&&setTimeout((function(){g.current.focus()}),300)}),[e.isShow]);var y=function(){var a=Object.assign({},r);if(""===a.description||""===a.amount)return E.b.error("Todos los campos son requeridos"),!1;e.handleGastoSubmit(a),c({description:"",amount:""}),g.current.focus(),p(!1),e.onHide()},f=function(e){c(Object(n.a)(Object(n.a)({},r),{},Object(o.a)({},e.target.name,e.target.value)))};return u.a.createElement(D.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},u.a.createElement(D.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},u.a.createElement(D.a.Title,{id:"contained-modal-title-vcenter"},"Gastos de la Cotizaci\xf3n")),u.a.createElement(D.a.Body,null,u.a.createElement(C.a,{onSubmit:y,noValidate:!0,validated:m},u.a.createElement(b.a,null,u.a.createElement(S.a,Object.assign({},e.inputDescription,{value:r.description,handleChange:f,cols:"col-6 col-xs-12",messageErrors:["Requerido"],ref:g,label:"Descripci\xf3n"})),u.a.createElement(R.a,Object.assign({},e.inputAmount,{value:r.amount,handleChange:f}))),u.a.createElement("br",null),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement(h.a,{size:"sm",type:"button",variant:"primary",block:!0,onClick:y},"Agregar"))))),u.a.createElement(D.a.Footer,null,u.a.createElement(h.a,{size:"md",variant:"secondary",onClick:function(){c({description:"",amount:""}),p(!1),e.onHide()}},"Cerrar")))};T.defaultProps={inputDescription:{type:"text",required:!0,name:"description"},inputAmount:{type:"number",required:!0,name:"amount",label:"Monto",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"}};var w=T,P=t(165),G=(t(311),null),A=function(e){var a=Object(d.useState)([]),t=Object(s.a)(a,2),n=t[0],c=t[1],l=Object(d.useState)(!1),o=Object(s.a)(l,2),i=(o[0],o[1]);Object(d.useEffect)((function(){return function(){G=null}}),[]),Object(d.useMemo)((function(){G=[{Header:"Nombre Cliente",accessor:"name_client"},{Header:"Email",accessor:"email"},{Header:"Documento",accessor:function(e){return[e.type_document+" "+e.data_document]},Cell:function(e){return e.cell.row.original.type_document+"\n"+e.cell.row.original.data_document}},{Header:"Seleccione",Cell:function(e){return u.a.createElement("input",{type:"checkbox",value:e.cell.row.original.email,onChange:m,className:"checkTable"})}}]}),[]);var m=function(e){e.persist(),e.target.checked?c((function(a){return[].concat(Object(r.a)(a),[e.target.value])})):c((function(a){return a.filter((function(a){return a!==e.target.value}))}))},p=function(){e.onHide()};return u.a.createElement(D.a,{show:e.isShow,onHide:p,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},u.a.createElement(D.a.Header,{closeButton:!0,className:"header_dark"},u.a.createElement(D.a.Title,{id:"contained-modal-title-vcenter"},"Clientes registrados")),u.a.createElement(D.a.Body,null,u.a.createElement(q.a,{data:e.clients,columns:G})),u.a.createElement(D.a.Footer,null,u.a.createElement(h.a,{type:"button",size:"md",variant:"primary",onClick:function(){e.handleClientSubmit(Object(r.a)(n)),n.length>0?(c([]),document.querySelectorAll(".checkTable").forEach((function(e,a){e.checked=!1})),i(!0),setTimeout((function(){i(!1)}),5e3)):E.b.error("Debe seleccionar al menos 1 cliente")}},"Enviar"),u.a.createElement(h.a,{type:"button",size:"md",variant:"secondary",onClick:p},"cerrar")))},F=t(18),I=[],H=function(e){var a=Object(d.useState)(!1),t=Object(s.a)(a,2),r=t[0],c=t[1],l=Object(d.useState)([]),i=Object(s.a)(l,2),m=i[0],p=i[1],y=Object(d.useState)({name:"",email:"",type_document:"",data_document:"",phone:"",address:"",observation:"",picture:"",id:""}),f=Object(s.a)(y,2),v=f[0],j=f[1],N=Object(d.useRef)(null);Object(d.useMemo)((function(){I=[{Header:"Nombre",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Tel\xe9fono",accessor:"phone"},{Header:"Direcci\xf3n",accessor:"address"},{Header:"Id",accessor:function(e){return[e.type_document+" "+e.data_document]}},{Header:"Observaci\xf3n",accessor:"observation"},{Header:"Acciones",Cell:function(a){var t=a.cell.row.original.id;return u.a.createElement(O.a,{size:"sm",id:"drop"+t,title:"Seleccione",block:"true"},e.handleSelectContact?u.a.createElement(x.a.Item,{onClick:function(){return e.handleSelectContact(a.cell.row.original)}},"Seleccionar"):"",u.a.createElement(x.a.Item,{onClick:function(){return P(a.cell.row.original)}},"Modificar"),u.a.createElement(x.a.Item,{onClick:function(){return G(t)}},"Eliminar"))}}]}),[]),Object(d.useEffect)((function(){S()}),[]);var S=function(){g.a.get(z.b+"contact").then((function(e){p(e.data)})).catch((function(e){e.response?E.b.error(e.response.data.message):(console.log(e),E.b.error("Error, contacte con soporte"))}))},T=function(e){e.persist(),"type_document"===e.target.name?"Rut"===e.target.value?j((function(a){return Object.assign({},a,{data_document:Object(F.g)(a.data_document),type_document:e.target.value})})):j((function(a){return Object.assign({},a,{data_document:a.data_document.replace(/-/g,""),type_document:e.target.value})})):"data_document"===e.target.name?j(Object(n.a)(Object(n.a)({},v),{},Object(o.a)({},e.target.name,"Rut"===v.type_document?Object(F.g)(e.target.value):e.target.value))):j(Object(n.a)(Object(n.a)({},v),{},Object(o.a)({},e.target.name,e.target.value)))},w=function(){j({name:"",email:"",type_document:"",data_document:"",phone:"",address:"",observation:"",picture:""})},P=function(e){j({name:e.name,email:e.email,type_document:e.type_document,data_document:e.data_document,phone:e.phone,address:e.address,observation:e.observation,picture:e.picture,id:e.id})},G=function(e){g.a.delete(z.b+"contact/"+e).then((function(e){E.b.success("Contacto Eliminado"),S()})).catch((function(e){e.response?E.b.error(e.response.data.message):(console.log(e),E.b.error("Error, contacte con soporte"))}))};return u.a.createElement(D.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},u.a.createElement(D.a.Header,{closeButton:!0,className:"header_dark"},u.a.createElement(D.a.Title,{id:"contained-modal-title-vcenter"},"Formulario de Contactos ",u.a.createElement(k.R,null))),u.a.createElement(C.a,{onSubmit:function(){},noValidate:!0,validated:r,ref:N},u.a.createElement(D.a.Body,null,u.a.createElement(b.a,null,u.a.createElement(R.a,Object.assign({},e.inputName,{handleChange:T,value:v.name})),u.a.createElement(R.a,Object.assign({},e.inputEmail,{handleChange:T,value:v.email})),u.a.createElement(R.a,Object.assign({},e.inputTypeDocument,{handleChange:T,value:v.type_document}),u.a.createElement("option",{value:""},"--Seleccione--"),u.a.createElement("option",{value:"Rut"},"Rut"),u.a.createElement("option",{value:"Id"},"Id"),u.a.createElement("option",{value:"Nro pasaporte"},"N\xb0 pasaporte"))),u.a.createElement(b.a,null,u.a.createElement(R.a,Object.assign({},e.inputDataDocument,{handleChange:T,value:v.data_document})),u.a.createElement(R.a,Object.assign({},e.inputPhone,{handleChange:T,value:v.phone})),u.a.createElement(R.a,Object.assign({},e.inputAddress,{handleChange:T,value:v.address}))),u.a.createElement(b.a,null,u.a.createElement(R.a,Object.assign({},e.inputObservation,{handleChange:T,value:v.observation}))),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(h.a,{size:"sm",variant:"success",type:"button",onClick:function(){if(!1!==N.current.checkValidity()){var e=Object.assign({},v);e.id?g.a.put(z.b+"contact/"+e.id,e).then((function(e){E.b.success("Contacto Modificado"),w(),S()})).catch((function(e){e.response?E.b.error(e.response.data.message):E.b.error("Error, contacte con soporte")})):g.a.post(z.b+"contact",e).then((function(e){E.b.success("Contacto Registrado"),w(),S()})).catch((function(e){e.response?E.b.error(e.response.data.message):E.b.error("Error, contacte con soporte")}))}else c(!0)},block:!0},"Guardar ",u.a.createElement(k.z,null)))),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement(q.a,{columns:I,data:m})))),u.a.createElement(D.a.Footer,null,u.a.createElement(h.a,{size:"md",onClick:e.onHide},"Cerrar"))))};H.defaultProps={inputName:{type:"text",required:!0,name:"name",label:"Nombre",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*"]},inputEmail:{type:"email",required:!1,name:"email",label:"Email",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*, ","Formato Tipo Email*"]},inputPhone:{type:"number",required:!1,name:"phone",label:"Tel\xe9fono",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:[]},inputAddress:{type:"textarea",required:!1,name:"address",label:"Direcci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",rows:2,messageErrors:[]},inputTypeDocument:{type:"select",required:!1,name:"type_document",label:"Tipo de Documento",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*"]},inputDataDocument:{type:"text",required:!1,name:"data_document",label:"Informaci\xf3n Identidad",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",placeholder:"Introduzca su rut, id o su n\xb0 de pasaporte",messageErrors:["Requerido*"]},inputObservation:{type:"textarea",required:!1,name:"observation",label:"Observaci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",rows:2,messageErrors:[]}};var M=H,B=[],V=function(e){var a=Object(d.useState)(!1),t=Object(s.a)(a,2),r=t[0],c=t[1],l=Object(d.useState)([]),i=Object(s.a)(l,2),m=i[0],p=i[1],y=Object(d.useState)({name:"",email:"",type_document:"",data_document:"",phone:"",address:"",observation:"",picture:"",id:""}),f=Object(s.a)(y,2),v=f[0],j=f[1],N=Object(d.useRef)(null);Object(d.useMemo)((function(){B=[{Header:"Nombre",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Tel\xe9fono",accessor:"phone"},{Header:"Direcci\xf3n",accessor:"address"},{Header:"Id",accessor:function(e){return[e.type_document+" "+e.data_document]}},{Header:"Observaci\xf3n",accessor:"observation"},{Header:"Acciones",Cell:function(a){var t=a.cell.row.original.id;return u.a.createElement(O.a,{size:"sm",id:"drop"+t,title:"Seleccione",block:"true"},e.handleSelectContact?u.a.createElement(x.a.Item,{onClick:function(){return e.handleSelectContact(a.cell.row.original)}},"Seleccionar"):"",u.a.createElement(x.a.Item,{onClick:function(){return P(a.cell.row.original)}},"Modificar"),u.a.createElement(x.a.Item,{onClick:function(){return G(t)}},"Eliminar"))}}]}),[]),Object(d.useEffect)((function(){S()}),[]);var S=function(){g.a.get(z.b+"seller").then((function(e){p(e.data)})).catch((function(e){e.response?E.b.error(e.response.data.message):(console.log(e),E.b.error("Error, contacte con soporte"))}))},T=function(e){e.persist(),"type_document"===e.target.name?"Rut"===e.target.value?j((function(a){return Object.assign({},a,{data_document:Object(F.g)(a.data_document),type_document:e.target.value})})):j((function(a){return Object.assign({},a,{data_document:a.data_document.replace(/-/g,""),type_document:e.target.value})})):"data_document"===e.target.name?j(Object(n.a)(Object(n.a)({},v),{},Object(o.a)({},e.target.name,"Rut"===v.type_document?Object(F.g)(e.target.value):e.target.value))):j(Object(n.a)(Object(n.a)({},v),{},Object(o.a)({},e.target.name,e.target.value)))},w=function(){j({name:"",email:"",type_document:"",data_document:"",phone:"",address:"",observation:"",picture:""})},P=function(e){j({name:e.name,email:e.email,type_document:e.type_document,data_document:e.data_document,phone:e.phone,address:e.address,observation:e.observation,picture:e.picture,id:e.id})},G=function(e){g.a.delete(z.b+"seller/"+e).then((function(e){E.b.success("Vendedor Eliminado"),S()})).catch((function(e){e.response?E.b.error(e.response.data.message):(console.log(e),E.b.error("Error, contacte con soporte"))}))};return u.a.createElement(D.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},u.a.createElement(D.a.Header,{closeButton:!0,className:"header_dark"},u.a.createElement(D.a.Title,{id:"contained-modal-title-vcenter"},"Formulario de Vendedores ",u.a.createElement(k.R,null))),u.a.createElement(C.a,{onSubmit:function(){},noValidate:!0,validated:r,ref:N},u.a.createElement(D.a.Body,null,u.a.createElement(b.a,null,u.a.createElement(R.a,Object.assign({},e.inputName,{handleChange:T,value:v.name})),u.a.createElement(R.a,Object.assign({},e.inputEmail,{handleChange:T,value:v.email})),u.a.createElement(R.a,Object.assign({},e.inputTypeDocument,{handleChange:T,value:v.type_document}),u.a.createElement("option",{value:""},"--Seleccione--"),u.a.createElement("option",{value:"Rut"},"Rut"),u.a.createElement("option",{value:"Id"},"Id"),u.a.createElement("option",{value:"Nro pasaporte"},"N\xb0 pasaporte"))),u.a.createElement(b.a,null,u.a.createElement(R.a,Object.assign({},e.inputDataDocument,{handleChange:T,value:v.data_document})),u.a.createElement(R.a,Object.assign({},e.inputPhone,{handleChange:T,value:v.phone})),u.a.createElement(R.a,Object.assign({},e.inputAddress,{handleChange:T,value:v.address}))),u.a.createElement(b.a,null,u.a.createElement(R.a,Object.assign({},e.inputObservation,{handleChange:T,value:v.observation}))),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(h.a,{size:"sm",variant:"success",type:"button",onClick:function(){if(!1!==N.current.checkValidity()){var e=Object.assign({},v);e.id?g.a.put(z.b+"seller/"+e.id,e).then((function(e){E.b.success("Vendedor Modificado"),w(),S()})).catch((function(e){e.response?E.b.error(e.response.data.message):E.b.error("Error, contacte con soporte")})):g.a.post(z.b+"seller",e).then((function(e){E.b.success("Vendedor Registrado"),w(),S()})).catch((function(e){e.response?E.b.error(e.response.data.message):E.b.error("Error, contacte con soporte")}))}else c(!0)},block:!0},"Guardar ",u.a.createElement(k.z,null)))),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement(q.a,{columns:B,data:m})))),u.a.createElement(D.a.Footer,null,u.a.createElement(h.a,{size:"md",onClick:e.onHide},"Cerrar"))))};V.defaultProps={inputName:{type:"text",required:!0,name:"name",label:"Nombre",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*"]},inputEmail:{type:"email",required:!1,name:"email",label:"Email",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*, ","Formato Tipo Email*"]},inputPhone:{type:"number",required:!1,name:"phone",label:"Tel\xe9fono",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:[]},inputAddress:{type:"textarea",required:!1,name:"address",label:"Direcci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",rows:2,messageErrors:[]},inputTypeDocument:{type:"select",required:!1,name:"type_document",label:"Tipo de Documento",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*"]},inputDataDocument:{type:"text",required:!1,name:"data_document",label:"Informaci\xf3n Identidad",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",placeholder:"Introduzca su rut, id o su n\xb0 de pasaporte",messageErrors:["Requerido*"]},inputObservation:{type:"textarea",required:!1,name:"observation",label:"Observaci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",rows:2,messageErrors:[]}};var Y=V,K=t(127),L=t(55),U=t(615),J=t(83),W=function(e){var a=function(){e.onHide()};return u.a.createElement(D.a,{show:e.isShow,onHide:a,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},u.a.createElement(D.a.Header,{closeButton:!0,className:"header_dark"},u.a.createElement(D.a.Title,{id:"contained-modal-title-vcenter"},"Productos a Facturar ",u.a.createElement(k.J,null))),u.a.createElement(D.a.Body,null,e.isLoading?u.a.createElement(J.a,{text:"Enviando petici\xf3n..."}):u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12,className:"table-responsive"},u.a.createElement("table",{className:"table table-striped table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",{style:{backgroundColor:"rgb(218,236,242)",fontWeight:"bold"}},u.a.createElement("th",{className:"text-center"},"Categoria"),u.a.createElement("th",{className:"text-center"},"Producto"),u.a.createElement("th",{className:"text-center"},"Precio"),u.a.createElement("th",{className:"text-center"},"M\xe9todo de Venta"),u.a.createElement("th",{className:"text-center"},"Inventariable"),u.a.createElement("th",{className:"text-center"},"Stock Inventario"),u.a.createElement("th",{className:"text-center"},"Cantidad"),u.a.createElement("th",{className:"text-center"},"Descontar"))),u.a.createElement("tbody",{className:"text-center"},e.products.map((function(a,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null,a.category),u.a.createElement("td",null,a.name_product),u.a.createElement("td",null,u.a.createElement(U.a,{variant:"danger",className:"font-badge"},Object(F.f)(a.price,2,",","."))),u.a.createElement("td",null,1==(n=a.method_sale)?"Unidad":2==n?"Mayorista":"Litros, Kg, Etc..."),u.a.createElement("td",null,a.id_product?u.a.createElement(U.a,{variant:"primary",className:"font-badge"},"Si"):u.a.createElement(U.a,{variant:"secondary",className:"font-badge"},"No")),u.a.createElement("td",null,a.id_product?a.products?Array.isArray(a.products.inventary)?a.products.inventary[0].stock:a.products.inventary.stock:a.inventary?a.inventary[0].stock:"Sin Stock":"Sin Stock"),u.a.createElement("td",null,a.quantity),u.a.createElement("td",null,a.id_product?u.a.createElement(C.a.Check,{name:"discount_stock",type:"checkbox",id:"radio-5",label:"",value:!0,checked:a.discount_stock,onChange:function(a){return function(a,t){a.persist(),e.setDetailProducts((function(e){var n=Object(r.a)(e);return n[t][a.target.name]=a.target.checked,n}))}(a,t)}}):""));var n}))))))),u.a.createElement(D.a.Footer,null,e.isLoading?"":u.a.createElement(u.a.Fragment,null,u.a.createElement(h.a,{size:"md",variant:"secondary",onClick:a},"cerrar"),u.a.createElement(h.a,{size:"md",variant:"danger",onClick:function(){e.handleSubmit()}},"Enviar"))))},$=t(29),Q=t(648),X=function(e){var a=[].concat(Object(r.a)(z.k),Object(r.a)(z.l));return Object(d.useEffect)((function(){setTimeout((function(){e.setCotizationData((function(a){return Object.assign({},a,{business_name_transmitter:e.configGeneral&&!a.bussines_name?e.configGeneral.enterprise.bussines_name:a.bussines_name,rut_transmitter:e.configGeneral&&!a.rut_transmitter?e.configGeneral.enterprise.rut:a.rut_transmitter,address_transmitter:e.configGeneral&&!a.address_transmitter?e.configGeneral.enterprise.address:a.address_transmitter,city_transmitter:e.configGeneral&&!a.city_transmitter?e.configGeneral.enterprise.city:a.city_transmitter,comuna_transmitter:e.configGeneral&&!a.comuna_transmitter?e.configGeneral.enterprise.comuna:a.comuna_transmitter,spin_transmitter:e.configGeneral&&!a.spin_transmitter?e.configGeneral.enterprise.spin:a.spin_transmitter,email_transmitter:e.configGeneral&&!a.email_transmitter?e.configGeneral.enterprise.email_enterprise:a.email_transmitter,actividad_economica_transmitter:e.configGeneral&&!a.actividad_economica_transmitter?e.configGeneral.enterprise.actividad_economica:a.actividad_economica_transmitter,phone_transmitter:e.configGeneral&&!a.phone_transmitter?e.configGeneral.enterprise.phone:a.phone_transmitter})}))}),1500)}),[]),u.a.createElement(Q.a,null,u.a.createElement(j.a.Toggle,{as:Q.a.Header,eventKey:"0",className:"header_card"},u.a.createElement("b",null,"Datos del Emisor")," ",u.a.createElement(k.Q,null)," (hacer click para desplegar campos)"),u.a.createElement(j.a.Collapse,{eventKey:"0"},z.g.includes(e.isType)||z.e.includes(e.isType)?u.a.createElement(Q.a.Body,null,z.e.includes(e.isType)&&e.cotizationData.fetchTransmitter?u.a.createElement(J.a,null):u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Raz\xf3n Social",name:"business_name_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.business_name_transmitter,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Rut",name:"rut_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.rut_transmitter,handleChange:e.onChange}),e.cotizationData.address_transmitter_array.length>0?u.a.createElement(R.a,{type:"select",label:"Direccion",name:"address_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_transmitter,handleChange:e.onChange},u.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.address_transmitter_array.map((function(e,a){return u.a.createElement("option",{value:e,key:a},e)}))):u.a.createElement(R.a,{type:"text",label:"Direccion",name:"address_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_transmitter,handleChange:e.onChange})),u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Ciudad",name:"city_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.city_transmitter,handleChange:e.onChange}),z.e.includes(e.isType)?u.a.createElement(R.a,{type:"text",label:"Comuna",name:"comuna_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.comuna_transmitter,handleChange:e.onChange}):u.a.createElement(R.a,{type:"text",label:"Giro",name:"spin_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_transmitter,handleChange:e.onChange}),u.a.createElement(R.a,{type:"email",label:"Email",name:"email_transmitter",required:!1,messageErrors:["Requerido*","Formato tipo email*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.email_transmitter,handleChange:e.onChange})),z.e.includes(e.isType)?u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Actividad Econ\xf3mica",name:"actividad_economica_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.actividad_economica_transmitter,handleChange:e.onChange})):u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Fono",name:"phone_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.phone_transmitter,handleChange:e.onChange})))):a.includes(e.isType)?u.a.createElement(Q.a.Body,null,u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Raz\xf3n Social",name:"business_name_transmitter",required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.business_name_transmitter,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Rut",name:"rut_transmitter",required:"facturacion"!==e.isType||!e.cotizationData.type_invoicing,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.rut_transmitter,handleChange:e.onChange}),e.cotizationData.address_transmitter_array.length>0?u.a.createElement(R.a,{type:"select",label:"Direccion",name:"address_transmitter",required:!e.cotizationData.type_invoicing&&!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_transmitter,handleChange:e.onChange},u.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.address_transmitter_array.map((function(e,a){return u.a.createElement("option",{value:e,key:a},e)}))):u.a.createElement(R.a,{type:"text",label:"Direccion",name:"address_transmitter",required:"facturacion"===e.isType&&!e.cotizationData.type_invoicing,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_transmitter,handleChange:e.onChange})),u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Ciudad",name:"city_transmitter",required:"facturacion"===e.isType&&!e.cotizationData.type_invoicing,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.city_transmitter,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Comuna",name:"comuna_transmitter",required:"facturacion"===e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.comuna_transmitter,handleChange:e.onChange}),e.cotizationData.actividad_economica_transmitter_array.length>0?u.a.createElement(R.a,{type:"select",label:"Actividad Econ\xf3mica",name:"actividad_economica_transmitter",required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.actividad_economica_transmitter,handleChange:e.onChange},u.a.createElement("option",null,"--Seleccione--"),e.cotizationData.actividad_economica_transmitter_array.map((function(e,a){return u.a.createElement("option",{value:e[0],key:a},e[1])}))):u.a.createElement(R.a,{type:"text",label:"Actividad Econ\xf3mica",name:"actividad_economica_transmitter",required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.actividad_economica_transmitter,handleChange:e.onChange})),u.a.createElement(b.a,null,e.cotizationData.type_sale_transmitter_array.length>0?u.a.createElement(R.a,{type:"select",label:"Tipo de Venta",name:"type_sale_transmitter",required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_sale_transmitter,handleChange:e.onChange},u.a.createElement("option",{vcalue:""},"--Seleccione--"),e.cotizationData.type_sale_transmitter_array.map((function(e,a){return u.a.createElement("option",{value:e[0],key:a},e[1])}))):u.a.createElement(R.a,{type:"text",label:"Tipo de Venta",name:"type_sale_transmitter",required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_sale_transmitter,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Giro",name:"spin_transmitter",required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_transmitter,handleChange:e.onChange}))):z.j.includes(e.isType)?u.a.createElement(Q.a.Body,null,u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Raz\xf3n Social",name:"business_name_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.business_name_transmitter,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Rut",name:"rut_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.rut_transmitter,handleChange:e.onChange}),e.cotizationData.address_transmitter_array.length>0?u.a.createElement(R.a,{type:"select",label:"Direccion",name:"address_transmitter",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_transmitter,handleChange:e.onChange},e.cotizationData.address_transmitter_array.map((function(e,a){return u.a.createElement("option",{value:e,key:a},e)}))):u.a.createElement(R.a,{type:"text",label:"Direccion",name:"address_transmitter",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_transmitter,handleChange:e.onChange})),u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Ciudad",name:"city_transmitter",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.city_transmitter,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Comuna",name:"comuna_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.comuna_transmitter,handleChange:e.onChange}),e.cotizationData.actividad_economica_transmitter_array.length>0?u.a.createElement(R.a,{type:"select",label:"Actividad Econ\xf3mica",name:"actividad_economica_transmitter",required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.actividad_economica_transmitter,handleChange:e.onChange},u.a.createElement("option",null,"--Seleccione--"),e.cotizationData.actividad_economica_transmitter_array.map((function(e,a){return u.a.createElement("option",{value:e[0],key:a},e[1])}))):u.a.createElement(R.a,{type:"text",label:"Actividad Econ\xf3mica",name:"actividad_economica_transmitter",required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.actividad_economica_transmitter,handleChange:e.onChange})),u.a.createElement(b.a,null,e.cotizationData.type_sale_transmitter_array.length>0?u.a.createElement(R.a,{type:"select",label:"Tipo de Venta",name:"type_sale_transmitter",required:!z.l.includes(e.isType)&&!z.j.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_sale_transmitter,handleChange:e.onChange},u.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.type_sale_transmitter_array.map((function(e,a){return u.a.createElement("option",{value:e[0],key:a},e[1])}))):u.a.createElement(R.a,{type:"text",label:"Tipo de Venta",name:"type_sale_transmitter",required:!z.l.includes(e.isType)&&!z.j.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_sale_transmitter,handleChange:e.onChange}),e.cotizationData.type_transfer_trasmitter_array.length>0?u.a.createElement(R.a,{type:"select",label:"Tipo de Traslado",name:"type_transfer_trasmitter",required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_transfer_trasmitter,handleChange:e.onChange},u.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.type_transfer_trasmitter_array.map((function(e,a){return u.a.createElement("option",{value:e.id,key:a},e.valor)}))):u.a.createElement(R.a,{type:"text",label:"Tipo de Traslado",name:"type_transfer_trasmitter",required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_transfer_trasmitter,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Giro",name:"spin_transmitter",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_transmitter,handleChange:e.onChange}))):""))},Z=t(635),ee=function(e){var a,t,c,m,p=Object(d.useState)(""),y=Object(s.a)(p,2),f=y[0],v=y[1],O=Object(d.useState)(!1),x=Object(s.a)(O,2),N=x[0],D=x[1],q=Object(d.useState)({}),S=Object(s.a)(q,2),T=S[0],w=S[1],P=Object(d.useState)(!1),G=Object(s.a)(P,2),A=G[0],I=G[1],H=Object(d.useState)(!1),M=Object(s.a)(H,2),B=M[0],V=M[1],Y=[].concat(Object(r.a)(z.l),Object(r.a)(z.k));Object(d.useEffect)((function(){e.cotizationData.searchReceptorDefault&&W(e.cotizationData.rut_client)}),[e.cotizationData.searchReceptorDefault]),Object(d.useEffect)((function(){}),[]);var K=function(a){if("type_api"===a.target.name||"total_with_iva"===a.target.name||"type_effect"===a.target.name||"type_invoicing"===a.target.name){var t="false"!==a.target.value;e.setCotizationData(Object(n.a)(Object(n.a)({},e.cotizationData),{},Object(o.a)({},a.target.name,t)))}else"rut_transmitter"===a.target.name||"rut_client"===a.target.name?e.setCotizationData(Object(n.a)(Object(n.a)({},e.cotizationData),{},Object(o.a)({},a.target.name,Object(F.g)(a.target.value)))):e.setCotizationData(Object(n.a)(Object(n.a)({},e.cotizationData),{},Object(o.a)({},a.target.name,a.target.value)))},L=function(e){v(Object(F.g)(e.target.value))},U=function(){var a=Object(i.a)(l.a.mark((function a(){var t,n,r,c,o=arguments;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],!(n=t||f)){a.next=34;break}if(E.b.info("Buscando Receptor, espere por favor"),V(!0),!z.j.includes(e.isType)){a.next=20;break}return a.prev=6,a.next=9,g.a.get(z.b+"search_receptor_guide/"+e.cotizationData.facturaId+"/"+n);case 9:(r=a.sent).data.error||(e.setCotizationData((function(e){return Object.assign({},e,{rut_client:r.data.receptor.rut+"-"+r.data.receptor.dv,business_name_client:r.data.receptor.razon_social,address_client_array:r.data.receptor.direcciones[0],address_client:r.data.receptor.direccion_seleccionada,comuna_client:r.data.receptor.comuna_seleccionada,city_client:r.data.receptor.ciudad_seleccionada,spin_client_array:Array.isArray(r.data.girosReceptor)?r.data.girosReceptor:[r.data.girosReceptor],spin_client:Array.isArray(r.data.girosReceptor)?r.data.girosReceptor[0].nombre:r.data.girosReceptor.nombre,type_buy_client_array:Array.isArray(r.data.TipoDeCompra)?r.data.TipoDeCompra:[r.data.TipoDeCompra],type_buy_client:r.data.receptor.tipoDeCompraId.toString()})})),I(!0)),V(!1),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(6),V(!1),a.t0.response?E.b.error(a.t0.response.data.message):(console.log(a.t0),E.b.error("Error, contacte con soporte"));case 18:a.next=32;break;case 20:return a.prev=20,a.next=23,g.a.get(z.b+"search_receptor/"+n.split("-")[0]+"/"+n.split("-")[1]);case 23:(c=a.sent).data&&(e.setCotizationData((function(e){return Object.assign({},e,{rut_client:c.data.rut+"-"+c.data.dv,business_name_client:c.data.razon_social,address_client:c.data.direccion_seleccionada,comuna_client:c.data.comuna_seleccionada,city_client:c.data.ciudad_seleccionada,address_client_array:c.data.direcciones[0]})})),I(!0)),V(!1),a.next=32;break;case 28:a.prev=28,a.t1=a.catch(20),V(!1),a.t1.response?E.b.error(a.t1.response.data.message):(console.log(a.t1),E.b.error("Error, contacte con soporte"));case 32:a.next=35;break;case 34:E.b.info("Debe ingresar un rut para realizar la busqueda");case 35:case"end":return a.stop()}}),a,null,[[6,14],[20,28]])})));return function(){return a.apply(this,arguments)}}(),W=function(){var a=Object(i.a)(l.a.mark((function a(){var t,n,r,c,o,i,s=arguments;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=s.length>0&&void 0!==s[0]&&s[0],n=t||f,a.prev=2,!n){a.next=27;break}if("facturacion"!==e.isType){a.next=26;break}if(V(!0),E.b.info("Buscando Receptor, espere por favor"),!0!==e.cotizationData.type_invoicing){a.next=18;break}return a.next=10,g.a.get(z.b+"get_client_invoice/"+e.cotizationData.facturaId+"/"+n.split("-")[0]+"/"+n.split("-")[1]);case 10:r=a.sent,c=z.a?r.data.girosReceptor:{id:1,nombre:"ACTIVIDADES DE CONSULTORIA DE INFORMATIC"},o=z.a?r.data.TipoDeCompra:{id:1,valor:"1",nombre:"Del Giro"},e.setCotizationData((function(e){return Object.assign({},e,{rut_client:r.data.receptor.rut+"-"+r.data.receptor.dv,business_name_client:r.data.receptor.razon_social,address_client:r.data.receptor.direccion_seleccionada,address_client_array:r.data.receptor.direcciones[0],comuna_client:r.data.receptor.comuna_seleccionada,city_client:r.data.receptor.ciudad_seleccionada,type_buy_client:r.data.receptor.tipoDeCompraId.toString(),type_buy_client_array:Array.isArray(o)?o:[o],spin_client_array:Array.isArray(c)?c:[c],spin_client:Array.isArray(r.data.girosReceptor)?r.data.girosReceptor[0].nombre:r.data.girosReceptor.nombre})})),I(!0),V(!1),a.next=24;break;case 18:return a.next=20,g.a.get(z.b+"get_receptor_invoice_excenta/"+e.cotizationData.facturaId+"/"+n);case 20:i=a.sent,e.setCotizationData((function(e){return Object.assign({},e,{rut_client:i.data.receptor.rut+"-"+i.data.receptor.dv,business_name_client:i.data.receptor.razon_social,address_client_array:i.data.receptor.direcciones[0],address_client:i.data.receptor.direccion_seleccionada,comuna_client:i.data.receptor.comuna_seleccionada,city_client:i.data.receptor.ciudad_seleccionada,spin_client:Array.isArray(i.data.girosReceptor)?i.data.girosReceptor[0].nombre:i.data.girosReceptor.nombre,spin_client_array:Array.isArray(i.data.girosReceptor)?i.data.girosReceptor:[i.data.girosReceptor],name_contact:i.data.receptor.contacto,type_buy_client:i.data.receptor.tipoDeCompraId.toString(),type_buy_client_array:Array.isArray(i.data.TipoDeCompra)?i.data.TipoDeCompra:[i.data.TipoDeCompra]})})),I(!0),V(!1);case 24:a.next=27;break;case 26:z.l.includes(e.isType)&&U(n);case 27:a.next=33;break;case 29:a.prev=29,a.t0=a.catch(2),V(!1),E.b.error("ha ocurrido un error buscando el receptor, intente de nuevo por favor");case 33:case"end":return a.stop()}}),a,null,[[2,29]])})));return function(){return a.apply(this,arguments)}}(),$=function(a){var t,n=a.split("/")[1];-1!==n.indexOf("-")?(n=n.split("-"),t=e.clients.find((function(e){return e.data_document===n[0]&&e.dv.toString()===n[1]}))):t=e.clients.find((function(e){return e.data_document===n})),t&&e.setCotizationData((function(e){return Object.assign({},e,{rut_client:Array.isArray(n)?n.join("-"):n,business_name_client:t.bussines_name?t.bussines_name:t.name_client,address_client:t.address,city_client:t.city,comuna_client:t.comuna})}))},X=function(){D(!N)},ee=function(){w({}),X(),e.setCotizationData(Object(n.a)(Object(n.a)({},e.cotizationData),{},{rut_client:"",business_name_client:"",address_client:"",city_client:"",comuna_client:"",spin_client:"",actividad_economica_client:""}))};return u.a.createElement(Q.a,null,u.a.createElement(j.a.Toggle,{as:Q.a.Header,eventKey:"1",className:"header_card"},u.a.createElement("b",null,"Datos para la Emisi\xf3n")," ",u.a.createElement(k.Q,null)," (hacer click para desplegar campos)"),u.a.createElement(j.a.Collapse,{eventKey:"1"},B?u.a.createElement(J.a,{size:75,text:"buscando receptor"}):u.a.createElement(u.a.Fragment,null,z.g.includes(e.isType)||z.e.includes(e.isType)||z.j.includes(e.isType)?u.a.createElement(Q.a.Body,null,u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement("h5",{className:"title_principal"},"Api a utilizar")),u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"type_api",type:"radio",id:"radio-2",label:"Sii",value:!0,checked:e.cotizationData.type_api,onChange:K}))),u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"type_api",type:"radio",id:"radio-1",label:"Aidy",value:!1,checked:!e.cotizationData.type_api,onChange:K}))))),e.cotizationData.type_api?u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(C.a.Label,{className:"fontBold"},"Rut"),u.a.createElement(C.a.Group,{className:"divContainerFlex"},u.a.createElement(C.a.Control,{style:{flexGrow:2},type:"text",label:"Rut",id:"rut_client_facturacion",name:"rut_client_facturacion_search",required:!1,placeholder:"rut del cliente",cols:"col-md-12 col-lg-12 col-sm-12",className:"form-control-sm",onChange:L,value:f}),u.a.createElement(h.a,{variant:"secondary",size:"sm",onClick:function(){return U()}},u.a.createElement(k.I,null)))):u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement("label",null,"Rut"),u.a.createElement(Z.a,{items:e.clients,returnValue:$,handleResetValueClient:X,resetValue:N}),u.a.createElement("br",null),Object.keys(T).length>0?u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12,className:"text-center"},u.a.createElement(h.a,(a={size:"sm"},Object(o.a)(a,"size","sm"),Object(o.a)(a,"variant","danger text-center"),Object(o.a)(a,"onClick",ee),a),u.a.createElement(k.O,null)))):""),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement("br",null),u.a.createElement(h.a,(t={size:"sm"},Object(o.a)(t,"size","sm"),Object(o.a)(t,"variant","danger"),Object(o.a)(t,"block",!0),Object(o.a)(t,"onClick",(function(){return e.setIsShowModalClient(!0)})),t),"Crear Cliente ",u.a.createElement(k.z,null)))),u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Rut",name:"rut_client",readonly:A,required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.rut_client,handleChange:K}),u.a.createElement(R.a,{type:"text",label:"Raz\xf3n Social",name:"business_name_client",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.business_name_client,handleChange:K}),e.cotizationData.address_client_array.length>0?u.a.createElement(R.a,{type:"select",label:"Direcci\xf3n",name:"address_client",required:!!z.j.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_client,handleChange:K},u.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.address_client_array.map((function(e,a){return u.a.createElement("option",{value:e,key:a},e)}))):u.a.createElement(R.a,{type:"text",label:"Direcci\xf3n",name:"address_client",required:!!z.j.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_client,handleChange:K})),u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Ciudad",name:"city_client",required:!!z.j.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.city_client,handleChange:K}),u.a.createElement(R.a,{type:"text",label:"Comuna",name:"comuna_client",required:!!z.j.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.comuna_client,handleChange:K}),z.j.includes(e.isType)?u.a.createElement(u.a.Fragment,null,u.a.createElement(R.a,{type:"text",label:"Contacto",name:"name_contact",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.name_contact,handleChange:K})):""),z.j.includes(e.isType)?u.a.createElement(b.a,null,e.cotizationData.spin_client_array.length>0?u.a.createElement(R.a,{type:"select",label:"Giro",name:"spin_client",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_client,handleChange:K},u.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.spin_client_array.map((function(e,a){return u.a.createElement("option",{value:e.nombre,key:a},e.nombre)}))):u.a.createElement(R.a,{type:"text",label:"Giro",name:"spin_client",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_client,handleChange:K}),e.cotizationData.type_buy_client_array.length>0?u.a.createElement(R.a,{type:"select",label:"Tipo de Compra",name:"type_buy_client",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_buy_client,handleChange:K},u.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.type_buy_client_array.map((function(e,a){return u.a.createElement("option",{value:e.valor,key:a},e.nombre)}))):u.a.createElement(R.a,{type:"text",label:"Tipo de Compra",name:"type_buy_client",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_buy_client,handleChange:K})):"",z.e.includes(e.isType)||z.j.includes(e.type)?"":u.a.createElement(u.a.Fragment,null,u.a.createElement("br",null),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:8,md:8,lg:8},u.a.createElement("h4",{className:"title_principal"},"Contactos Asignados al Receptor")),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",type:"button",onClick:e.handleModalContacts},"Contactos ",u.a.createElement(k.S,null)," ",u.a.createElement(k.z,null)))),u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Nombre Contacto",name:"name_contact",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.name_contact,handleChange:K}),u.a.createElement(R.a,{type:"text",label:"Fono",name:"phone_contact",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.phone_contact,handleChange:K}),u.a.createElement(R.a,{type:"email",label:"Email",name:"email_contact",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.email_contact,handleChange:K})),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:8,md:8,lg:8},u.a.createElement("h4",{className:"title_principal"},"Vendedor Asignado")),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",type:"button",onClick:e.handleModalSeller},"Vendedores ",u.a.createElement(k.S,null)," ",u.a.createElement(k.z,null)))),u.a.createElement("br",null),u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Nombre Vendedor",name:"name_seller",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.name_seller,handleChange:K}),u.a.createElement(R.a,{type:"text",label:"Fono Vendedor",name:"phone_seller",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.phone_seller,handleChange:K}),u.a.createElement(R.a,{type:"email",label:"Email Vendedor",name:"email_seller",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.email_seller,handleChange:K})))):Y.includes(e.isType)?u.a.createElement(Q.a.Body,null,u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement("h5",{className:"title_principal"},"Api a utilizar")),u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"type_api",type:"radio",id:"radio-2",label:"Sii",value:!0,checked:e.cotizationData.type_api,onChange:K}))),u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"type_api",type:"radio",id:"radio-1",label:"Aidy",value:!1,checked:!e.cotizationData.type_api,onChange:K}))))),e.cotizationData.type_api?u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(C.a.Label,{className:"fontBold"},"Rut"),u.a.createElement(C.a.Group,{className:"divContainerFlex"},u.a.createElement(C.a.Control,{style:{flexGrow:2},type:"text",label:"Rut",id:"rut_client_facturacion",name:"rut_client_facturacion_search",required:!1,placeholder:"rut del cliente",cols:"col-md-12 col-lg-12 col-sm-12",className:"form-control-sm",onChange:L,value:f}),u.a.createElement(h.a,{variant:"secondary",size:"sm",onClick:function(){return W()}},u.a.createElement(k.I,null)))):u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement("label",null,"Rut"),u.a.createElement(Z.a,{items:e.clients,returnValue:$,handleResetValueClient:X,resetValue:N}),u.a.createElement("br",null),Object.keys(T).length>0?u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12,className:"text-center"},u.a.createElement(h.a,(c={size:"sm"},Object(o.a)(c,"size","sm"),Object(o.a)(c,"variant","danger text-center"),Object(o.a)(c,"onClick",ee),c),u.a.createElement(k.O,null)))):""),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement("br",null),u.a.createElement(h.a,(m={size:"sm"},Object(o.a)(m,"size","sm"),Object(o.a)(m,"variant","danger"),Object(o.a)(m,"block",!0),Object(o.a)(m,"onClick",(function(){return e.setIsShowModalClient(!0)})),m),"Crear Cliente ",u.a.createElement(k.z,null)))),u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Rut",name:"rut_client",readonly:A,required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.rut_client,handleChange:K}),u.a.createElement(R.a,{type:"text",label:"Raz\xf3n Social",name:"business_name_client",required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.business_name_client,handleChange:K}),e.cotizationData.address_client_array.length>0?u.a.createElement(R.a,{type:"select",label:"Direccion",name:"address_client",required:!e.cotizationData.type_invoicing&&!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_client,handleChange:K},e.cotizationData.address_client_array.map((function(e,a){return u.a.createElement("option",{value:e,key:a},e)}))):u.a.createElement(R.a,{type:"text",label:"Direccion",name:"address_client",required:!e.cotizationData.type_invoicing&&!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_client,handleChange:K})),u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Ciudad",name:"city_client",required:!e.cotizationData.type_invoicing&&!z.l.includes(e.isType),messageErrors:[],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.city_client,handleChange:K}),u.a.createElement(R.a,{type:"text",label:"Comuna",name:"comuna_client",required:!e.cotizationData.type_invoicing&&!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.comuna_client,handleChange:K}),e.cotizationData.spin_client_array.length>0?u.a.createElement(R.a,{type:"select",label:"Giro",name:"spin_client",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_client,handleChange:K},u.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.spin_client_array.map((function(e,a){return u.a.createElement("option",{value:e.nombre,key:a},e.nombre)}))):u.a.createElement(R.a,{type:"text",label:"Giro",name:"spin_client",required:!e.cotizationData.type_invoicing&&!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_client,handleChange:K})),u.a.createElement(b.a,null,e.cotizationData.type_buy_client_array.length>0?u.a.createElement(R.a,{type:"select",label:"Tipo de Compra",name:"type_buy_client",placeholder:e.cotizationData.type_invoicing?"opcional":"",required:!e.cotizationData.type_invoicing||!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_buy_client,handleChange:K},u.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.type_buy_client_array.map((function(e,a){return u.a.createElement("option",{value:e.valor.toString(),key:a},e.nombre)}))):u.a.createElement(R.a,{type:"text",label:"Tipo de Compra",name:"type_buy_client",placeholder:e.cotizationData.type_invoicing?"opcional":"",required:!e.cotizationData.type_invoicing||!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_buy_client,handleChange:K})),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:8,md:8,lg:8},u.a.createElement("h4",{className:"title_principal"},"Contactos Asignados al Receptor")),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",type:"button",onClick:e.handleModalContacts},"Contactos ",u.a.createElement(k.S,null)," ",u.a.createElement(k.z,null)))),u.a.createElement("br",null),u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Nombre Contacto",name:"name_contact",required:!z.l.includes(e.isType),messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.name_contact,handleChange:K}),u.a.createElement(R.a,{type:"text",label:"Fono",name:"phone_contact",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.phone_contact,handleChange:K}),u.a.createElement(R.a,{type:"email",label:"Email",name:"email_contact",required:!1,messageErrors:["Requerido*, ","Formato Email*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.email_contact,handleChange:K})),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:8,md:8,lg:8},u.a.createElement("h4",{className:"title_principal"},"Vendedor Asignado")),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",type:"button",onClick:e.handleModalSeller},"Vendedores ",u.a.createElement(k.S,null)," ",u.a.createElement(k.z,null)))),u.a.createElement("br",null),u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Nombre Vendedor",name:"name_seller",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.name_seller,handleChange:K}),u.a.createElement(R.a,{type:"text",label:"Fono Vendedor",name:"phone_seller",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.phone_seller,handleChange:K}),u.a.createElement(R.a,{type:"email",label:"Email Vendedor",name:"email_seller",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.email_seller,handleChange:K}))):"")))},ae=function(e){var a=e.detailProducts,t=e.cotizationData.discount_global,n=e.cotizationData.total_with_iva,r=e.configStore.tax,c=e.gastosDetail;return u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement("h4",{className:"title_principal text-center"},"Datos del Registrador"),u.a.createElement("br",null),u.a.createElement("table",{className:"table table-striped table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"Nombre"),u.a.createElement("th",{className:"text-center"},"Rut"),u.a.createElement("th",{className:"text-center"},"Direcci\xf3n"),u.a.createElement("th",{className:"text-center"},"Email"),u.a.createElement("th",{className:"text-center"},"Fono"))),u.a.createElement("tbody",{className:"text-center"},Object.keys(e.cotizationData).length>0?u.a.createElement("tr",null,u.a.createElement("td",null,e.cotizationData.business_name_transmitter),u.a.createElement("td",null,e.cotizationData.rut_transmitter),u.a.createElement("td",null,e.cotizationData.address_transmitter),u.a.createElement("td",null,e.cotizationData.email_transmitter),u.a.createElement("td",null,e.cotizationData.phone_transmitter)):""))),u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement("br",null),u.a.createElement("h4",{className:"title_principal text-center"},"Datos del Cliente"),u.a.createElement("br",null),u.a.createElement("table",{className:"table table-striped table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"Razon Social / Nombre"),u.a.createElement("th",{className:"text-center"},"Rut"),u.a.createElement("th",{className:"text-center"},"Direcci\xf3n"),u.a.createElement("th",{className:"text-center"},"Ciudad"),u.a.createElement("th",{className:"text-center"},"Comuna"),u.a.createElement("th",{className:"text-center"},"Giro"))),u.a.createElement("tbody",{className:"text-center"},Object.keys(e.cotizationData).length>0?u.a.createElement("tr",null,u.a.createElement("td",null,e.cotizationData.business_name_client),u.a.createElement("td",null,e.cotizationData.rut_client),u.a.createElement("td",null,e.cotizationData.address_client),u.a.createElement("td",null,e.cotizationData.city_client),u.a.createElement("td",null,e.cotizationData.comuna_client),u.a.createElement("td",null,e.cotizationData.spin_client)):""))),u.a.createElement(_.a,{sm:12,md:12,lg:12,className:"table-responsive"},u.a.createElement("br",null),u.a.createElement("h4",{className:"title_principal text-center"},"Productos de la Factura"),u.a.createElement("br",null),u.a.createElement("table",{className:"table table-striped table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"Categoria"),u.a.createElement("th",{className:"text-center"},"Nombre"),u.a.createElement("th",{className:"text-center"},"Descripci\xf3n"),u.a.createElement("th",{className:"text-center"},"Cantidad"),u.a.createElement("th",{className:"text-center"},"Precio"),u.a.createElement("th",{className:"text-center"},"Descuento"),u.a.createElement("th",{className:"text-center"},"M\xe9todo de Venta"),u.a.createElement("th",{className:"text-center"},"Total"))),u.a.createElement("tbody",{className:"text-center"},Object.keys(e.cotizationData).length>0?u.a.createElement(u.a.Fragment,null,e.detailProducts.map((function(a,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null,a.category),u.a.createElement("td",null,a.name_product),u.a.createElement("td",null,a.description),u.a.createElement("td",null,a.quantity),u.a.createElement("td",null,e.configGeneral.simbolo_moneda,Object(F.l)(e.configGeneral,a.price)),u.a.createElement("td",null,a.discount),u.a.createElement("td",null,(n=a.method_sale,1===(n=parseInt(n))?"Unidad":2===n?"Mayorista":"(Litros, Kg, Etc..)")),u.a.createElement("td",null,u.a.createElement(U.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,function(a){var t=Object.assign({},a);return t.is_neto||e.isShowIva?t.price=t.discount?parseFloat(t.price)-parseFloat(t.price)*t.discount/100:t.price:(t.price=t.discount?parseFloat(t.price)-parseFloat(t.price)*t.discount/100:t.price,t.price=parseFloat(t.price*e.configStore.tax/100)+parseFloat(t.price)),Object(F.l)(e.configGeneral,parseFloat(t.price)*t.quantity)}(a))));var n}))):""))),u.a.createElement(_.a,{sm:12,md:12,lg:12,className:""},u.a.createElement("br",null),u.a.createElement("h4",{className:"title_principal text-center"},"Gastos de la Factura"),u.a.createElement("br",null),u.a.createElement("table",{className:"table table-striped table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"Descripci\xf3n"),u.a.createElement("th",{className:"text-center"},"Monto"))),u.a.createElement("tbody",{className:"text-center"},Object.keys(e.cotizationData).length>0?u.a.createElement(u.a.Fragment,null,e.gastosDetail.map((function(a,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null,a.description),u.a.createElement("td",null,u.a.createElement(U.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(F.l)(e.configGeneral,a.amount))))}))):""))),e.bondsPayments.length?u.a.createElement(_.a,{sm:12,md:12,lg:12,className:""},u.a.createElement("br",null),u.a.createElement("h4",{className:"title_principal text-center"},"Pagos de la boleta"),u.a.createElement("br",null),u.a.createElement("table",{className:"table table-striped table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"Detalle"),u.a.createElement("th",{className:"text-center"},"Monto"),u.a.createElement("th",{className:"text-center"},"Tipo de pago"))),u.a.createElement("tbody",{className:"text-center"},Object.keys(e.bondsPayments).length>0?u.a.createElement(u.a.Fragment,null,e.bondsPayments.map((function(a,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null,a.detail),u.a.createElement("td",null,e.configGeneral.simbolo_moneda,Object(F.l)(e.configGeneral,a.amount)),u.a.createElement("td",null,u.a.createElement(U.a,{variant:"danger",className:"font-badge"},a.id_type_bond)))}))):""))):"",u.a.createElement(_.a,{sm:6,md:6,lg:6},Object.keys(e.cotizationData).length>0?u.a.createElement("h5",null,"Mostrar solo los Totales: ",u.a.createElement(U.a,{variant:"primary",className:"font-badge"},e.cotizationData.total_with_iva?"No":"Si")):""),u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement("br",null),u.a.createElement("h4",{className:"text-center title_principal"},"Resumen y Totales"),u.a.createElement("br",null),u.a.createElement("table",{className:"table table-bordered"},u.a.createElement("thead",null,e.cotizationData.total_with_iva?u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"Total Neto"),u.a.createElement("th",{className:"text-center"},"Iva"),u.a.createElement("th",{className:"text-center"},"Gastos"),e.cotizationData.discount_global?u.a.createElement("th",{className:"text-center"},"Descuento Global"):"",u.a.createElement("th",{className:"text-center"},"Balance Total")):u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center"},"Total"),u.a.createElement("th",{className:"text-center"},"Gastos"),e.cotizationData.discount_global?u.a.createElement("th",{className:"text-center"},"Descuento Global"):"",u.a.createElement("th",{className:"text-center"},"Balance Total"))),u.a.createElement("tbody",{className:"text-center"},e.cotizationData.total_with_iva?u.a.createElement("tr",null,u.a.createElement("td",null,Object(F.l)(e.configGeneral,Object(F.d)(a,t,n,r))),u.a.createElement("td",null,Object(F.l)(e.configGeneral,Object(F.c)(a,t,n,r))),u.a.createElement("td",null,Object(F.l)(e.configGeneral,Object(F.b)(c))),e.cotizationData.discount_global?u.a.createElement("td",null,Object(F.l)(e.configGeneral,Object(F.a)(a,t,n))):"",u.a.createElement("td",null,Object(F.l)(e.configGeneral,Object(F.e)(a,t,n,r,!1,c)))):u.a.createElement("tr",null,u.a.createElement("td",null,Object(F.l)(e.configGeneral,Object(F.d)(a,t,n,r))),u.a.createElement("td",null,Object(F.l)(e.configGeneral,Object(F.b)(c))),e.cotizationData.discount_global?u.a.createElement("td",null,Object(F.l)(e.configGeneral,Object(F.a)(a,t,n))):"",u.a.createElement("td",null,Object(F.l)(e.configGeneral,Object(F.e)(a,t,n,r,!1,c)))))))))},te=function(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,{className:""},u.a.createElement(_.a,{sm:12,md:12,lg:12,xs:12},u.a.createElement("h4",{className:"title_principal text-center"},"Tabla de Gastos"))),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:1,md:1,lg:1},u.a.createElement(y.a,{placement:"top",overlay:u.a.createElement(f.a,{id:"tooltip-disabled2"},"Agregar Gastos a la ",e.word2)},u.a.createElement(h.a,{className:"button_product_base",size:"sm",variant:"danger",block:!0,onClick:function(){return e.setIsShowModalGastos(!0)}},u.a.createElement(k.z,null))))),u.a.createElement(b.a,{style:{overflowY:"auto",paddingLeft:"20px",paddingRight:"20px",maxHeight:"300px"}},u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement(q.a,{data:e.gastosDetail,columns:[{Header:"Descripci\xf3n",accessor:"description"},{Header:"Monto",accessor:"amount",Cell:function(a){return Object(F.l)(e.configGeneral,a.cell.row.original.amount)}},{Header:"Acciones",Cell:function(a){var t;a.cell.row.original.id;return u.a.createElement(h.a,(t={size:"sm"},Object(o.a)(t,"size","sm"),Object(o.a)(t,"variant","primary"),Object(o.a)(t,"block",!0),Object(o.a)(t,"onClick",(function(){return t=a.cell.row.original,void e.setGastosDetail((function(e){return e.filter((function(e){return e.description!==t.description}))}));var t})),t),"Remover")}}]}))),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",onClick:function(){return e.changeSection(1,!1)},type:"button"},"Atr\xe1s")),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",onClick:function(){return e.changeSection(3,!0)},type:"button"},"Siguiente"))))};function ne(){var e=Object(m.a)(["\n  .tr_cabecera{\n    background-color: rgb(218,236,242);\n    font-size: 14px;\n\n  }\n\n  .letras_grandes{\n    font-size: 14px;\n  }\n\n  .div_overflow{\n    max-height: 1700px;\n    overflow-y: auto;\n  }\n"]);return ne=function(){return e},e}var re=K.a.div(ne()),ce=function(e){var a=function(a,t){a.persist(),e.setDetailProducts((function(e){var n=Object(r.a)(e);return n[t][a.target.name]=a.target.value,n}))},t=function(a){var t=Object.assign({},a);return t.is_neto||e.isShowIva?t.price=t.discount?parseFloat(t.price)-parseFloat(t.price)*t.discount/100:t.price:(t.price=t.discount?parseFloat(t.price)-parseFloat(t.price)*t.discount/100:t.price,t.price=parseFloat(t.price*e.configStore.tax/100)+parseFloat(t.price)),Object(F.l)(e.configGeneral,parseFloat(t.price)*t.quantity)};return u.a.createElement(re,null,u.a.createElement(b.a,{className:""},u.a.createElement(_.a,{sm:12,md:12,lg:12,className:"table_responsive"},u.a.createElement("table",{className:"table table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center tr_cabecera"},"#"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Categor\xeda"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Nombre"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Descripci\xf3n"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Cantidad"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Precio"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Descuento %"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Metodo de Venta"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Total Neto"),u.a.createElement("th",{className:"text-center tr_cabecera"}))),u.a.createElement("tbody",null,e.detailProducts.map((function(n,c){var l;return u.a.createElement("tr",{key:c},u.a.createElement("td",{width:"5%"},u.a.createElement("br",null),c+1),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"category_product"+c,name:"category",required:!1,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailProducts[c].category,handleChange:function(e){a(e,c)}}))),u.a.createElement("td",{width:"15%"},u.a.createElement(b.a,null,u.a.createElement(R.a,(l={className:"letras_grandes",type:"text",label:"",id:"name_product"+c,name:"name_product",required:!0,messageErrors:["Requerido*"]},Object(o.a)(l,"className","text-center"),Object(o.a)(l,"cols","col-md-12 col-lg-12 col-sm-12"),Object(o.a)(l,"value",e.detailProducts[c].name_product.substring(0,26)),Object(o.a)(l,"rows",3),Object(o.a)(l,"handleChange",(function(e){a(e,c)})),l)))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"description_product"+c,name:"description",required:!1,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailProducts[c].description.substring(0,250),handleChange:function(e){a(e,c)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"number",label:"",id:"quantity_product"+c,name:"quantity",required:!0,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailProducts[c].quantity,handleChange:function(e){a(e,c)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"price_product"+c,name:"price",required:!0,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailProducts[c].price,handleChange:function(e){a(e,c)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"number",label:"",id:"discount_product"+c,name:"discount",required:!1,messageErrors:["*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailProducts[c].discount,handleChange:function(e){a(e,c)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"select",label:"",id:"method_product"+c,name:"method_sale",required:!0,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailProducts[c].method_sale,handleChange:function(e){a(e,c)}},u.a.createElement("option",{value:""},"--Seleccione--"),u.a.createElement("option",{value:1},"Unidad"),u.a.createElement("option",{value:2},"Mayorista"),u.a.createElement("option",{value:3},"(Kilos, Litros, Gramos, Etc...)")))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"total_product"+c,name:"total",required:!1,readonly:!0,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",value:t(n),handleChange:function(){}}))),u.a.createElement("td",null,u.a.createElement("br",null),u.a.createElement(h.a,{variant:"danger",size:"sm",type:"button",onClick:function(){!function(a){var t=Object(r.a)(e.detailProducts);e.setGastosDetail((function(e){return e.filter((function(e){return e.id_product!==t[a].id_product}))})),t.splice(a,1),e.setDetailProducts(t)}(c)}},u.a.createElement(k.N,null))))})))))))};ce.defaultProps={configStore:JSON.parse(localStorage.getItem("configStore"))};var le=ce,oe=t(639),ie=t(640),se=t(633),me=null,de=function(e){var a=Object(d.useState)(!1),t=Object(s.a)(a,2),n=t[0],r=t[1],c=Object(d.useState)(""),l=Object(s.a)(c,2),o=l[0],i=l[1],m=Object(d.useState)(null),p=Object(s.a)(m,2),g=p[0],y=p[1],f=Object(d.useState)(!1),v=Object(s.a)(f,2),C=(v[0],v[1],Object(d.useRef)(""));Object(d.useMemo)((function(){me=[{Header:"Producto",accessor:"name_product"},{Header:"Precio",accessor:"price"},{Header:"Acciones",Cell:function(e){e.cell.row.original.id;return u.a.createElement(h.a,{size:"sm",variant:"primary",block:!0,onClick:function(){return x(e.cell.row.original)}},"Agregar")}}]}),[e.products]);var j=function(){y(null),r(!1),i("")},O=function(){if(o){var a=Object.assign({},g);a.quantity=o;var t="";a.categories.forEach((function(e,a){t+=e.categories.name_category+","})),t=t.substring(0,t.length-1),a.name_categories=t,e.handleSelectProduct(a),j()}else E.b.error("La cantidad no puede estar vacia")},x=function(e){y(Object.assign({},e)),r(!0),setTimeout((function(){C.current&&C.current.focus()}),300)};return u.a.createElement(D.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},u.a.createElement(D.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},u.a.createElement(D.a.Title,{id:"contained-modal-title-vcenter"},"Productos")),u.a.createElement(D.a.Body,null,u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12,xs:12,className:""},u.a.createElement(oe.a,{defaultActiveKey:"inventary",id:"uncontrolled-tab-example"},u.a.createElement(ie.a,{eventKey:"inventary",title:"Inventario"},n?u.a.createElement(u.a.Fragment,null,u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement("label",{className:"form-control-label"},"Cantidad"),u.a.createElement("input",{ref:C,onChange:function(e){e.persist(),i(e.target.value)},className:"form-control",value:o,onKeyUp:function(e){13==e.keyCode&&O()}}))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(h.a,{size:"sm",variant:"primary",block:!0,onClick:O},"Aceptar")))):u.a.createElement(q.a,{data:e.products,columns:me})),u.a.createElement(ie.a,{eventKey:"new",title:"Nuevo Producto"},u.a.createElement("br",null),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement(se.a,Object.assign({},e,{handleSubmitProduct:function(a){e.handleSelectProduct(a)},isInventary:!1}))))))))),u.a.createElement(D.a.Footer,null,u.a.createElement(h.a,{size:"md",variant:"secondary",onClick:function(){j(),e.onHide()}},"Cerrar")))},ue=function(e){var a=Object(d.useState)(!1),t=Object(s.a)(a,2),n=t[0],c=t[1],l=Object(d.useState)(!1),o=Object(s.a)(l,2),i=o[0],m=o[1];Object(d.useEffect)((function(){}),[]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,{className:""},u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement(b.a,{className:""},u.a.createElement(_.a,{sm:12,md:12,lg:12,xs:12},u.a.createElement("h4",{className:"title_principal text-center"},"Tabla de Productos"))),u.a.createElement("br",null),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12,className:"text-center"},u.a.createElement(y.a,{placement:"top",overlay:u.a.createElement(f.a,{id:"tooltipConfigPrice"},"Opci\xf3n para configurar como se muestran los totales de los productos y los totales en el resumen")},u.a.createElement(C.a.Label,null,"Configuraci\xf3n de Totales")))),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:5,md:5,lg:5,className:"text-center"},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"total_with_iva",type:"radio",id:"radio-3",label:"Con Iva",value:!0,checked:e.cotizationData.total_with_iva,onChange:e.onChange}))),u.a.createElement(_.a,{sm:5,md:5,lg:5},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"total_with_iva",type:"radio",id:"radio-4",label:"Solo totales",value:!1,checked:!e.cotizationData.total_with_iva,onChange:e.onChange}))))),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"select",label:"Listado de Productos",name:"price_list",required:!1,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",handleChange:function(a){a.persist(),m(!0),g.a.get(z.b+"productByListProduct/"+a.target.value).then((function(a){e.setProducts(a.data),m(!1)})).catch((function(e){m(!1),e.response?E.b.error(e.response.data.message):(console.log(e),E.b.error("Error, contacte con soporte"))}))}},u.a.createElement("option",{value:""},"--Seleccione--"),e.listData.map((function(e,a){return u.a.createElement("option",{key:a,value:e.id},e.name)}))))),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(C.a.Label,null,"Agregar producto a la ",e.word2),u.a.createElement(O.a,{size:"sm",variant:"danger",id:"dropdown_product",title:u.a.createElement(k.z,null),className:""},u.a.createElement(x.a.Item,{onClick:function(){return c(!0)}},"Agregar Producto desde Inventario"),u.a.createElement(x.a.Item,{onClick:function(){return a=!1,void e.setDetailProducts([].concat(Object(r.a)(e.detailProducts),[{category:"",name_product:"",description:"",quantity:"",price:"",discount:"",method_sale:"1",total:"",is_neto:a,discount_stock:!1}]));var a}},"Agregar producto")))),i?u.a.createElement(J.a,null):u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:{width:"100%",overflowY:"auto",paddingLeft:"20px",paddingRight:"20px",maxHeight:"300px"}},u.a.createElement(le,{setDetailProducts:e.setDetailProducts,detailProducts:e.detailProducts,isShowIva:e.cotizationData.total_with_iva,setGastosDetail:e.setGastosDetail})),u.a.createElement("br",null),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:4,lg:4,md:4},u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",onClick:function(){return e.changeSection(2,!0)},type:"button"},"Siguiente")))))),u.a.createElement(de,Object.assign({isShow:n,onHide:function(){c(!1)},products:e.products,handleSelectProduct:function(a){a.quantity||(a.quantity=1),a.category||(a.category="",Array.isArray(a.categories)&&a.categories.forEach((function(e,t){a.category+=e.name_category}))),a.discount_stock=!0,a.id_product=a.id,a.inventary&&Array.isArray(a.inventary)&&a.inventary[0].inventary_cost.length?(e.setGastosDetail((function(e){return[].concat(Object(r.a)(e),[{description:a.name_product,amount:a.inventary[0].inventary_cost[0].cost,id_product:a.id}])})),e.setDetailProducts([].concat(Object(r.a)(e.detailProducts),[a]))):e.setDetailProducts([].concat(Object(r.a)(e.detailProducts),[a])),c(!1)},handleSelectProductNotRegistered:function(){}},e)))};var pe=function(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement("h4",{className:"text-center title_principal"},"Fecha y datos extra"),u.a.createElement("br",null),z.k.includes(e.type)?u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"date",label:"Fecha emisi\xf3n de la factura (MM-DD-YYYY)",name:"date_issue_invoice",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.date_issue_invoice,handleChange:e.onChange}),u.a.createElement(R.a,{type:"number",label:"Dias de Expiraci\xf3n",name:"days_expiration",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.days_expiration,handleChange:e.onChange}),u.a.createElement(R.a,{type:"select",label:"Forma de Pago",name:"way_of_payment",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.way_of_payment,handleChange:e.onChange},u.a.createElement("option",{value:""},"--Seleccione--"),u.a.createElement("option",{value:"Contado"},"Contado"),u.a.createElement("option",{value:"Cr\xe9dito"},"Cr\xe9dito"),u.a.createElement("option",{value:"Sin Costo"},"Sin Costo"))):z.g.includes(e.type)?u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"date",label:"Fecha de Emisi\xf3n",name:"date_issue",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4 col-xs-12",value:e.cotizationData.date_issue,handleChange:e.onChange}),u.a.createElement(R.a,{type:"date",label:"Fecha de Vencimiento (MM-DD-YYYY)",name:"date_expiration",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4 col-xs-12",value:e.cotizationData.date_expiration,handleChange:e.onChange}),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12,className:"text-center"},u.a.createElement("b",null,"Tipo Venta"))),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"type_effect",type:"radio",id:"radio-5",label:"Afecta",value:!0,required:!0,checked:e.cotizationData.type_effect,onChange:e.onChange}))),u.a.createElement(_.a,{sm:6,md:6,lg:6,className:"text-right"},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"type_effect",type:"radio",id:"radio-6",label:"Excento",value:!1,checked:!e.cotizationData.type_effect,required:!0,onChange:e.onChange}))))),u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement("label",{htmlFor:""},"Comentario de la cotizaci\xf3n (Opcional)"),u.a.createElement("textarea",{style:{border:"1px solid #252e79"},rows:3,name:"comment",className:"form-control",onChange:e.onChange,value:e.cotizationData.comment}))):z.l.includes(e.type)?u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"date",label:"Fecha emisi\xf3n de la nota (MM-DD-YYYY)",name:"date_issue_invoice",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.date_issue_invoice,handleChange:e.onChange}),u.a.createElement(R.a,{type:"number",label:"Dias de Expiraci\xf3n",name:"days_expiration",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.days_expiration,handleChange:e.onChange}),u.a.createElement(R.a,{type:"select",label:"Forma de Pago",name:"way_of_payment",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.way_of_payment,handleChange:e.onChange},u.a.createElement("option",{value:""},"--Seleccione--"),u.a.createElement("option",{value:"Contado"},"Contado"),u.a.createElement("option",{value:"Cr\xe9dito"},"Cr\xe9dito"),u.a.createElement("option",{value:"Sin Costo"},"Sin Costo"))),u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"number",label:"Descuento Global",name:"discount_global",required:!1,messageErrors:[],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.discount_global,handleChange:e.onChange}),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12,className:"text-center"},u.a.createElement("b",null,"Tipo de Documento"))),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"type_invoicing",type:"radio",id:"radio-5",label:"Afecta",value:!0,checked:!0===e.cotizationData.type_invoicing,required:!0,onChange:e.onChange}))),u.a.createElement(_.a,{sm:6,md:6,lg:6,className:"text-right"},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"type_invoicing",type:"radio",id:"radio-6",label:"Excenta",value:!1,required:!0,checked:!1===e.cotizationData.type_invoicing,onChange:e.onChange}))))))):z.e.includes(e.type)?u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"date",label:"Fecha de Emisi\xf3n",name:"date_issue",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4 col-xs-12",value:e.cotizationData.date_issue,handleChange:e.onChange}),u.a.createElement(_.a,{sm:6,md:6,lg:6,className:"text-center"},u.a.createElement("b",null,"Tipo de Boleta"),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"type_invoicing",type:"radio",id:"radio-5",label:"Afecta",value:!0,checked:!0===e.cotizationData.type_invoicing,required:!0,onChange:e.onChange}))),u.a.createElement(_.a,{sm:6,md:6,lg:6,className:"text-right"},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"type_invoicing",type:"radio",id:"radio-6",label:"Excento",value:!1,required:!0,checked:!1===e.cotizationData.type_invoicing,onChange:e.onChange})))))):z.j.includes(e.type)?u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(R.a,{type:"date",label:"Fecha de Emisi\xf3n",name:"date_issue_invoice",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4 col-xs-12",value:e.cotizationData.date_issue_invoice,handleChange:e.onChange})):"")},ge=function(e){return u.a.createElement(u.a.Fragment,null,e.isNotAccordeon?u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(h.a,{variant:"danger",block:!0,type:"button",size:"sm",onClick:e.addRef},"Agregar Referencia ",u.a.createElement(k.z,null)))),u.a.createElement("br",null),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12,className:"table-responsive"},u.a.createElement("table",{className:"table table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center tr_cabecera"},"#"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Tipo Documento"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Ind"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Folio"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Fecha Ref"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Raz\xf3n Ref"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Tipo de C\xf3digo"),u.a.createElement("th",{className:"text-center tr_cabecera"}))),u.a.createElement("tbody",null,e.refCotizacion.map((function(a,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null,u.a.createElement("br",null),t+1),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"select",label:"",id:"type_document_ref"+t,name:"type_document",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].type_document,handleChange:function(a){e.onChangeTableRef(a,t)}},u.a.createElement("option",{value:""},"--Seleccione--"),u.a.createElement("option",{value:"Hoja Entrada de Servicio"},"Hoja Entrada de Servicio")))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"ind_ref"+t,name:"ind",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].ind,handleChange:function(a){e.onChangeTableRef(a,t)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"ref_cotizacion_ref"+t,name:"ref_cotizacion",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].ref_cotizacion,handleChange:function(a){e.onChangeTableRef(a,t)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"date",label:"",id:"date_ref_ref"+t,name:"date_ref",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].date_ref,handleChange:function(a){e.onChangeTableRef(a,t)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"reason_ref_ref"+t,name:"reason_ref",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].reason_ref,handleChange:function(a){e.onChangeTableRef(a,t)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"type_code_ref"+t,name:"type_code",required:!1,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].type_code,handleChange:function(a){e.onChangeTableRef(a,t)}}))),u.a.createElement("td",null,u.a.createElement("br",null),u.a.createElement(h.a,{variant:"danger",size:"sm",type:"button",onClick:function(){e.removeProductRef(t)}},u.a.createElement(k.N,null))))}))))))):u.a.createElement(Q.a,null,u.a.createElement(j.a.Toggle,{as:Q.a.Header,eventKey:"2",className:"header_card"},u.a.createElement("b",null,"Referencias ")," ",u.a.createElement(k.b,null)," ( hacer click para desplegar los campos )"),u.a.createElement(j.a.Collapse,{eventKey:"2"},u.a.createElement(Q.a.Body,null,u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12,className:"table-responsive"},u.a.createElement("table",{className:"table table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center tr_cabecera"},"#"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Tipo Documento"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Ind"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Folio"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Fecha Ref"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Raz\xf3n Ref"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Tipo de C\xf3digo"),u.a.createElement("th",{className:"text-center tr_cabecera"}))),u.a.createElement("tbody",null,e.refCotizacion.map((function(a,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null,u.a.createElement("br",null),t+1),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"select",label:"",id:"type_document_ref"+t,name:"type_document",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].type_document,handleChange:function(a){e.onChangeTableRef(a,t)}},u.a.createElement("option",{value:""},"--Seleccione--"),u.a.createElement("option",{value:"HES"},"Hoja Entrada de Servicio")))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"ind_ref"+t,name:"ind",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].ind,handleChange:function(a){e.onChangeTableRef(a,t)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"ref_cotizacion_ref"+t,name:"ref_cotizacion",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].ref_cotizacion,handleChange:function(a){e.onChangeTableRef(a,t)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"date",label:"",id:"date_ref_ref"+t,name:"date_ref",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].date_ref,handleChange:function(a){e.onChangeTableRef(a,t)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"reason_ref_ref"+t,name:"reason_ref",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].reason_ref,handleChange:function(a){e.onChangeTableRef(a,t)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"type_code_ref"+t,name:"type_code",required:!1,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].type_code,handleChange:function(a){e.onChangeTableRef(a,t)}}))),u.a.createElement("td",null,u.a.createElement("br",null),u.a.createElement(h.a,{variant:"danger",size:"sm",type:"button",onClick:function(){e.removeProductRef(t)}},u.a.createElement(k.N,null))))})))))),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:1,md:1,lg:1},u.a.createElement(y.a,{placement:"right",overlay:u.a.createElement(f.a,{id:"tooltip-disabled2"},"Agregar Referencia")},u.a.createElement(h.a,{className:"button_product_base",variant:"danger",block:!0,type:"button",onClick:e.addRef},u.a.createElement(k.z,null)))))))))},Ee=function(e){return u.a.createElement(u.a.Fragment,null,e.isNotAccordeon?u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Rut del Transporte",name:"rut_transfer",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.rut_transfer,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Patente del Transporte",name:"patent_transfer",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.patent_transfer,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Rut del Chofer",name:"rut_driver",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.rut_driver,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Nombre del Chofer",name:"name_driver",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.name_driver,handleChange:e.onChange})):u.a.createElement(Q.a,null,u.a.createElement(j.a.Toggle,{as:Q.a.Header,eventKey:"5",className:"header_card"},u.a.createElement("b",null,"Datos de Transporte")," ",u.a.createElement(k.P,null)," (hacer click para desplegar campos)"),u.a.createElement(j.a.Collapse,{eventKey:"5"},u.a.createElement(Q.a.Body,null,u.a.createElement(b.a,null,u.a.createElement(R.a,{type:"text",label:"Rut del Transporte",name:"rut_transfer",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.rut_transfer,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Patente del Transporte",name:"patent_transfer",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.patent_transfer,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Rut del Chofer",name:"rut_driver",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.rut_driver,handleChange:e.onChange}),u.a.createElement(R.a,{type:"text",label:"Nombre del Chofer",name:"name_driver",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.name_driver,handleChange:e.onChange}))))))};function be(){var e=Object(m.a)(["\n  .tr_cabecera{\n    background-color: rgb(218,236,242);\n    font-size: 14px;\n\n  }\n\n  .letras_grandes{\n    font-size: 14px;\n  }\n\n  .div_overflow{\n    max-height: 1700px;\n    overflow-y: auto;\n  }\n"]);return be=function(){return e},e}var _e=K.a.div(be()),ye=function(e){var a=function(a,t){a.persist(),e.setDetailBonds((function(e){var n=Object(r.a)(e);return n[t][a.target.name]=a.target.value,n}))};return u.a.createElement(_e,null,u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:5,md:5,lg:5,className:"text-center"},u.a.createElement(h.a,{size:"sm",variant:"danger",block:!0,onClick:function(){e.setDetailBonds([].concat(Object(r.a)(e.detailBonds),[{detail:"",amount:"",id_type_bond:""}]))}},"Agregar pago a la boleta ",u.a.createElement(k.z,null)))),u.a.createElement("br",null),u.a.createElement(b.a,{className:""},u.a.createElement(_.a,{sm:12,md:12,lg:12,className:"table_responsive"},u.a.createElement("table",{className:"table table-bordered"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{className:"text-center tr_cabecera"},"#"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Detalle"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Monto"),u.a.createElement("th",{className:"text-center tr_cabecera"},"Tipo de Pago"),u.a.createElement("th",{className:"text-center tr_cabecera"}))),u.a.createElement("tbody",null,e.detailBonds.map((function(t,n){return u.a.createElement("tr",{key:n},u.a.createElement("td",null,u.a.createElement("br",null),n+1),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"detalle"+n,name:"detail",required:!0,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailBonds[n].detail,handleChange:function(e){a(e,n)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"text",label:"",id:"amount"+n,name:"amount",required:!0,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailBonds[n].amount,handleChange:function(e){a(e,n)}}))),u.a.createElement("td",null,u.a.createElement(b.a,null,u.a.createElement(R.a,{className:"letras_grandes",type:"select",label:"",id:"type_bond"+n,name:"id_type_bond",required:!1,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailBonds[n].id_type_bond,handleChange:function(e){a(e,n)}},u.a.createElement("option",{value:""},"--Seleccione--"),e.typePayments.map((function(e,a){return u.a.createElement("option",{value:e.id,key:a},e.name)}))))),u.a.createElement("td",null,u.a.createElement("br",null),u.a.createElement(h.a,{variant:"danger",size:"sm",type:"button",onClick:function(){!function(a){var t=Object(r.a)(e.detailBonds);t.splice(a,1),e.setDetailBonds(t)}(n)}},u.a.createElement(k.N,null))))})))))),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(h.a,{size:"sm",block:!0,type:"button",onClick:function(){return e.changeSection(5,!1)},variant:"secondary"},"Atr\xe1s")),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(h.a,{size:"sm",block:!0,type:"button",onClick:function(){return e.changeSection(7,!0)},variant:"secondary"},"siguiente"))))};ye.defaultProps={configStore:JSON.parse(localStorage.getItem("configStore"))};var fe=ye;function he(){var e=Object(m.a)(["\n\n  .divContainerFlex{\n    display: flex;\n    flex-direction:row;\n  }\n\n  .inputFlex{\n    flex-grow:2;\n    border:none;\n  }\n\n  .inputFlex:focus {\n    outline: none;\n  }\n\n  .tr_cabecera{\n    background-color: rgb(218,236,242);\n  }\n\n  .button_product > button{\n    height: 55px;\n    border-radius: 100%;\n    box-shadow: 3px 3px rgb(219, 222, 215);\n    width: 55px;\n    padding: 5px;\n  }\n\n  .button_product_base{\n    height: 55px;\n    border-radius: 100%;\n    box-shadow: 3px 3px rgb(219, 222, 215);\n    width: 55px;\n    padding: 5px;\n  }\n\n  .div_overflow{\n    max-height: 400px;\n    overflow-y: auto;\n  }\n"]);return he=function(){return e},e}var ve=K.a.div(he());a.a=Object($.b)((function(e){return{id_branch_office:e.enterpriseSucursal.id_branch_office,id_enterprise:e.enterpriseSucursal.id_enterprise,configGeneral:e.configs.config,configStore:e.configs.configStore}}),{})((function(e){var a,t=z.l.includes(e.type)?"nota de venta":z.e.includes(e.type)?"boleta":z.j.includes(e.type)?"gu\xeda":z.k.includes(e.type)?"facturaci\xf3n":"cotizacion"===e.type?"cotizaci\xf3n":"orden de compra",c=Object(d.useState)(!0),m=Object(s.a)(c,2),p=m[0],D=m[1],q=Object(d.useState)([]),S=Object(s.a)(q,2),T=S[0],G=S[1],I=Object(d.useState)([]),H=Object(s.a)(I,2),B=H[0],V=H[1],K=Object(d.useState)(!1),U=Object(s.a)(K,2),$=U[0],Q=U[1],Z=Object(d.useState)(!1),ne=Object(s.a)(Z,2),re=ne[0],ce=ne[1],le=Object(d.useState)(!1),oe=Object(s.a)(le,2),ie=(oe[0],oe[1]),se=Object(d.useState)([]),me=Object(s.a)(se,2),de=me[0],be=me[1],_e=Object(d.useState)([]),ye=Object(s.a)(_e,2),he=ye[0],Ce=ye[1],je=Object(d.useState)(!1),Oe=Object(s.a)(je,2),xe=Oe[0],ze=Oe[1],ke=Object(d.useState)(!1),Ne=Object(s.a)(ke,2),De=Ne[0],qe=Ne[1],Re=Object(d.useState)(!1),Se=Object(s.a)(Re,2),Te=Se[0],we=Se[1],Pe=Object(d.useState)(!1),Ge=Object(s.a)(Pe,2),Ae=Ge[0],Fe=Ge[1],Ie=Object(d.useState)(!1),He=Object(s.a)(Ie,2),Me=He[0],Be=He[1],Ve=Object(d.useState)(1),Ye=Object(s.a)(Ve,2),Ke=(Ye[0],Ye[1],Object(d.useState)(z.k.includes(e.type)?0:1)),Le=Object(s.a)(Ke,2),Ue=Le[0],Je=Le[1],We=Object(d.useState)(Object.assign({},z.d,{date_issue:P().tz("America/Santiago").format("YYYY-MM-DD"),date_expiration:P().tz("America/Santiago").format("YYYY-MM-DD"),date_issue_invoice:P().tz("America/Santiago").format("YYYY-MM-DD"),type_invoicing:"facturacion"===e.type?1:3,searchReceptorDefault:!1,type:"invoiceByGuide"===e.type?6:"invoiceBySaleNote"===e.type?5:z.k.includes(e.type)?1:z.l.includes(e.type)?2:z.e.includes(e.type)?3:z.j.includes(e.type)?4:z.d.type,is_order:"buyOrder"===e.type?1:0})),$e=Object(s.a)(We,2),Qe=$e[0],Xe=$e[1],Ze=Object(d.useState)(!1),ea=Object(s.a)(Ze,2),aa=ea[0],ta=ea[1],na=Object(d.useState)(!1),ra=Object(s.a)(na,2),ca=ra[0],la=ra[1],oa=Object(d.useState)([]),ia=Object(s.a)(oa,2),sa=ia[0],ma=ia[1],da=Object(d.useState)([]),ua=Object(s.a)(da,2),pa=ua[0],ga=ua[1],Ea=Object(d.useRef)(null),ba=Object(d.useState)(!1),_a=Object(s.a)(ba,2),ya=_a[0],fa=_a[1],ha=Object(d.useState)([]),va=Object(s.a)(ha,2),Ca=va[0],ja=va[1],Oa=Object(d.useState)([]),xa=Object(s.a)(Oa,2),za=xa[0],ka=xa[1];Object(d.useEffect)((function(){if(e.configStore&&e.configGeneral){if(e.configGeneral.is_syncronized)return E.b.error("Su cuenta no esta sincronizada con el SII, complete su configuraci\xf3n general para usar este m\xf3dulo"),void setTimeout((function(){Ra()}),3e3);Na(),ta(!0)}else e.configStore?e.configGeneral||(E.b.error("Debe hacer su configuraci\xf3n general para usar este m\xf3dulo"),setTimeout((function(){e.history.replace("/config/config_general")}),3e3)):(E.b.error("Debe hacer su configuraci\xf3n de tienda o seleccionar una sucursal para usar este m\xf3dulo"),setTimeout((function(){e.history.replace("/config_store")}),3e3))}),[e.id_branch_office,e.id_enterprise]),Object(d.useEffect)((function(){return L.a.toggleCollapsed(),function(){L.a.toggleCollapsed(),0}}),[]);var Na=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];p||D(!0);var t=null,n=!(!z.f.includes(e.type)||!e.match.params.id);if(a)a&&(t=[g.a.get(z.b+"client")]);else if(t=[g.a.get(z.b+"client"),g.a.get(z.b+"product"),g.a.get(z.b+"listProduct")],"cotizacion"!==e.type||e.match.params.id||t.push(g.a.get(z.b+"cotizacion_get_ref/0")),"buyOrder"!==e.type||e.match.params.id||t.push(g.a.get(z.b+"cotizacion_get_ref/1")),z.l.includes(e.type)&&t.push(g.a.get(z.b+"sale_note_get_ref")),n&&("invoiceByGuide"===e.type?t.push(g.a.get(z.b+"guide/"+e.match.params.id)):"invoiceBySaleNote"===e.type?t.push(g.a.get(z.b+"invoice/"+e.match.params.id)):t.push(g.a.get(z.b+"cotizacion/"+Qe.is_order+"/"+e.match.params.id))),z.e.includes(e.type)){e.configGeneral.enterprise.rut.split("-")[0],e.configGeneral.enterprise.rut.split("-")[1];t.push(g.a.get(z.b+"type_bond"))}Promise.all(t).then((function(a){if(G(a[0].data),a.length>1)if(be(a[1].data),ga(a[2].data),n){var t=z.l.includes(e.type)?4:3;if(Ce(a[t].data.gastos),V(a[t].data.products),z.k.includes(e.type)&&"invoiceByGuide"!==e.type){var r="facturacion"===e.type;Da(!r,!r&&a[t])}else{var c=Object.assign({},z.d).address_transmitter_array,l=a[t].data.address_transmitter;z.e.includes(e.type)&&ja(a[4].data),z.j.includes(e.type)?qa(a[t].data.rut_client,a[t].data):Xe((function(n){return Object.assign({},n,{business_name_transmitter:a[t].data.business_name_transmitter,rut_transmitter:a[t].data.rut_transmitter,address_transmitter:l,spin_transmitter:a[t].data.spin_transmitter,email_transmitter:a[t].data.email_transmitter,phone_transmitter:a[t].data.phone_transmitter,actividad_economica_transmitter:a[t].data.actividad_economica_transmitter,city_transmitter:a[t].data.city_transmitter,comuna_transmitter:a[t].data.comuna_transmitter,type_sale_transmitter:a[t].data.type_sale_transmitter,address_transmitter_array:c,comment:a[t].data.comment,date_issue:P(a[t].data.date_issue).tz("America/Santiago").format("YYYY-MM-DD"),date_issue_invoice:P().tz("America/Santiago").format("YYYY-MM-DD"),date_expiration:P(a[t].data.date_expiration).tz("America/Santiago").format("YYYY-MM-DD"),type_api:a[t].data.type_api,discount_global:a[t].data.discount_global,way_of_payment:a[t].data.way_of_payment?a[t].data.way_of_payment:1,rut_client:a[t].data.rut_client,business_name_client:a[t].data.business_name_client,address_client:a[t].data.address_client,actividad_economica_client:a[t].data.actividad_economica_client,city_client:a[t].data.city_client,spin_client:a[t].data.spin_client,type_buy_client:a[t].data.type_buy_client,comuna_client:a[t].data.comuna_client,name_contact:a[t].data.name_contact,phone_contact:a[t].data.phone_contact,email_contact:a[t].data.email_contact,name_seller:a[t].data.name_seller,phone_seller:a[t].data.phone_seller,email_seller:a[t].data.email_seller,total_with_iva:a[t].data.total_with_iva,price_list:"",type_effect:a[t].data.type_effect,status:a[t].data.status,ref:a[t].data.ref,id_branch_office:a[t].data.id_branch_office,id_guide:"invoiceByGuide"===e.type?e.match.params.id:n.id_guide,type_invoicing:a[t].data.type_effect})}))}}else z.g.includes(e.type)||"saleNote"===e.type?Xe((function(e){return Object.assign({},e,{ref:a[3].data.ref})})):"boleta"===e.type?ja(a[3].data):"guide"===e.type&&qa();D(!1)})).catch((function(a){D(!1),e.tokenExpired(a),setTimeout((function(){Ra()}),1500)}))},Da=function(){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];E.b.info("Preparando el emisor de la factura"),e&&Xe((function(a){return Object.assign({},a,{type_invoicing:!1,ref:e.data.ref})})),Je(1)},qa=function(){var a=Object(i.a)(l.a.mark((function a(){var t,n,r,c,i,s=arguments;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=s.length>0&&void 0!==s[0]&&s[0],n=s.length>1&&void 0!==s[1]?s[1]:null,a.prev=2,r=t||Qe.rut_client_search,n&&Xe((function(e){return Object.assign({},e,{type_api:n.type_api,name_contact:n.name_contact,email_contact:n.email_contact,phone_contact:n.phone_contact,name_seller:n.name_seller,phone_seller:n.phone_seller,email_seller:n.email_seller,ref:n.ref,id_branch_office:n.id_branch_office})})),a.abrupt("return");case 8:if(c=a.sent,!r){a.next=19;break}return E.b.info("Buscando datos, espere por favor..."),p||D(!0),a.next=14,g.a.get(z.b+"search_receptor_guide/"+c.data.id+"/"+r);case 14:i=a.sent,Xe((function(a){var t;return Object.assign({},a,(t={type_api:n.type_api,name_contact:n.name_contact,email_contact:n.email_contact,phone_contact:n.phone_contact,name_seller:n.name_seller,phone_seller:n.phone_seller,email_seller:n.email_seller,ref:n.ref,id_branch_office:n.id_branch_office,actividad_economica_transmitter_array:c.data.emisor.actvidades_economicas,actividad_economica_transmitter:c.data.emisor.actividad_economica_seleccionada?c.data.emisor.actividad_economica_seleccionada:c.data.emisor.actvidades_economicas[0][0],city_transmitter:c.data.emisor.ciudad_seleccionada,email_transmitter:c.data.emisor.correo,comuna_transmitter:c.data.emisor.comuna_seleccionada,address_transmitter:c.data.emisor.direccion_seleccionada,address_transmitter_array:c.data.emisor.direcciones[0],business_name_transmitter:c.data.emisor.razon_social,rut_transmitter:e.configGeneral.enterprise.rut,spin_transmitter:c.data.emisor.giro,type_transfer_trasmitter_array:z.a?c.data.tipos_de_traslado:c.data.tipos_de_venta,type_transfer_trasmitter:z.a&&c.data.tipos_de_traslado.length>0?c.data.tipos_de_traslado[0].id:"",facturaId:z.a?c.data.id:"",type_sale_transmitter_array:c.data.emisor.tipos_de_venta,type_sale_transmitter:c.data.emisor.tipos_de_venta.length>0?c.data.emisor.tipos_de_venta[0][0]:""},Object(o.a)(t,"facturaId",c.data.id),Object(o.a)(t,"rut_client",i.data.receptor.rut+"-"+i.data.receptor.dv),Object(o.a)(t,"business_name_client",i.data.receptor.razon_social),Object(o.a)(t,"address_client_array",i.data.receptor.direcciones[0]),Object(o.a)(t,"address_client",i.data.receptor.direccion_seleccionada),Object(o.a)(t,"comuna_client",i.data.receptor.comuna_seleccionada),Object(o.a)(t,"city_client",i.data.receptor.ciudad_seleccionada),Object(o.a)(t,"spin_client_array",Array.isArray(i.data.girosReceptor)?i.data.girosReceptor:[i.data.girosReceptor]),Object(o.a)(t,"spin_client",Array.isArray(i.data.girosReceptor)?i.data.girosReceptor[0].nombre:i.data.girosReceptor.nombre),Object(o.a)(t,"type_buy_client_array",Array.isArray(i.data.TipoDeCompra)?i.data.TipoDeCompra:[i.data.TipoDeCompra]),Object(o.a)(t,"type_buy_client",i.data.receptor.tipoDeCompraId.toString()),t))})),D(!1),a.next=21;break;case 19:Xe((function(a){return Object.assign({},a,Object(o.a)({type_api:n.type_api,name_contact:n.name_contact,email_contact:n.email_contact,phone_contact:n.phone_contact,name_seller:n.name_seller,phone_seller:n.phone_seller,email_seller:n.email_seller,ref:n.ref,id_branch_office:n.id_branch_office,actividad_economica_transmitter_array:c.data.emisor.actvidades_economicas,actividad_economica_transmitter:c.data.emisor.actividad_economica_seleccionada?c.data.emisor.actividad_economica_seleccionada:c.data.emisor.actvidades_economicas[0][0],city_transmitter:c.data.emisor.ciudad_seleccionada,email_transmitter:c.data.emisor.correo,comuna_transmitter:c.data.emisor.comuna_seleccionada,address_transmitter:c.data.emisor.direccion_seleccionada,address_transmitter_array:c.data.emisor.direcciones[0],business_name_transmitter:c.data.emisor.razon_social,rut_transmitter:e.configGeneral.enterprise.rut,spin_transmitter:c.data.emisor.giro,type_transfer_trasmitter_array:z.a?c.data.tipos_de_traslado:c.data.tipos_de_venta,type_transfer_trasmitter:z.a&&c.data.tipos_de_traslado.length>0?c.data.tipos_de_traslado[0].id:"",facturaId:z.a?c.data.id:"",type_sale_transmitter_array:c.data.emisor.tipos_de_venta,type_sale_transmitter:c.data.emisor.tipos_de_venta.length>0?c.data.emisor.tipos_de_venta[0][0]:""},"facturaId",c.data.id))})),D(!1);case 21:a.next=27;break;case 23:a.prev=23,a.t0=a.catch(2),E.b.error("No se ha podido cargar la gu\xeda , intentelo de nuevo por favor"),setTimeout((function(){Ra()}),1500);case 27:case"end":return a.stop()}}),a,null,[[2,23]])})));return function(){return a.apply(this,arguments)}}(),Ra=function(){var a="cotizacion"===e.type?"/quotitation/search_quotitation":"buyOrder"===e.type?"/buyOrder/view":z.f.includes(e.type)&&z.k.includes(e.type)?"/invoice/invoice_search":z.f.includes(e.type)?"/quotitation/search_quotitation":z.k.includes(e.type)?"/invoice/invoice_search":z.l.includes(e.type)?"/sale_note/sale_note_search":z.e.includes(e.type)?"/bill/bill_search":z.j.includes(e.type)?"/guide/guide_search":"/dashboard";e.history.replace(a)},Sa=function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Ea.current;if(!1===n.checkValidity())return Be(!0),void E.b.error("Hay campos en el formulario que le falta por llenar");var c={cotization:Object.assign({},Qe),products:Object(r.a)(B),gastos:Object(r.a)(he),status:a,clientMailArray:t};c.cotization=Object.assign({},c.cotization,{days_expiration:"",way_of_payment:"",discount_global:0,date_issue_invoice:P().tz("America/Santiago").format("YYYY-MM-DD"),type_invoicing:!0}),qe(!0);var l="cotizacion"===e.type?"Cotizaci\xf3n":"Orden de compra";e.match.params.id?g.a.put(z.b+"cotizacion/"+e.match.params.id,c).then((function(e){qe(!1),D(!0),E.b.success(l+" modificada con \xe9xito"),D(!0),setTimeout((function(){Ra()}),1500)})).catch((function(a){qe(!1),e.tokenExpired(a)})):g.a.post(z.b+"cotizacion",c).then((function(e){qe(!1),D(!1),E.b.success(e.data.message?e.data.message:l+" guardada con \xe9xito"),setTimeout((function(){Ra()}),1500)})).catch((function(a){D(!1),e.tokenExpired(a)}))},Ta=function(){la(!ca)},wa=function(){var a=Object(i.a)(l.a.mark((function a(t){var r,c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t.persist(),"type_api"===t.target.name||"total_with_iva"===t.target.name||"type_effect"===t.target.name||"type_invoicing"===t.target.name?"type_invoicing"===t.target.name&&z.k.includes(e.type)?!0!==Qe.type_invoicing&&!1!==Qe.type_invoicing?(r="false"!==t.target.value,Xe(Object(n.a)(Object(n.a)({},Qe),{},{type_invoicing:r})),Da(!z.m.includes(e.type))):E.b.error("Error ya inicio una factura previamente"):(c="false"!==t.target.value,Xe(Object(n.a)(Object(n.a)({},Qe),{},Object(o.a)({},t.target.name,c)))):"rut_transmitter"===t.target.name||"rut_client"===t.target.name||"rut_driver"===t.target.name||"rut_transfer"===t.target.name?Xe(Object(n.a)(Object(n.a)({},Qe),{},Object(o.a)({},t.target.name,Object(F.g)(t.target.value)))):Xe(Object(n.a)(Object(n.a)({},Qe),{},Object(o.a)({},t.target.name,t.target.value)));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),Pa=function(){we(!Te)},Ga=function(){Fe(!Ae)},Aa=function(a,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(z.k.includes(e.type)&&!0!==Qe.type_invoicing&&!1!==Qe.type_invoicing)return!1;var r=!0;if(Ue<a&&t)for(var c=Ue;c<a;c++){var l=Fa(c);if(!l[0]){4===c?E.b.info(u.a.createElement("span",null,l[1].split(":")[0],": ",u.a.createElement("br",null)," ",l[1].split(":")[1]," ",u.a.createElement("br",null)," Secci\xf3n: ",c)):E.b.info(u.a.createElement("span",null,l[1]," ",u.a.createElement("br",null)," secci\xf3n: ",c)),r=!1;break}}if(!r)return!1;n&&(z.e.includes(e.type)||z.j.includes(e.type))?Je(a):Je(5),7===a&&(Je(a),setTimeout((function(){window.scrollTo(0,0)}),100)),Je(a)},Fa=function(a){if(1===a){if(z.k.includes(e.type)||z.e.includes(e.type)||z.j.includes(e.type)){if(B.length){var t=!0;return B.forEach((function(e,a){e.name_product&&e.price&&e.quantity&&e.method_sale||(t=!1)})),t?[!0]:[!1,"el campo nombre, precio y cantidad son requeridos"]}return[!1,"Debe seleccionar al menos un producto para continuar"]}return[!0]}if(3===a){if(z.k.includes(e.type)||z.l.includes(e.type))return Qe.date_issue_invoice&&Qe.days_expiration&&Qe.way_of_payment?z.l.includes(e.type)&&!Qe.type_invoicing?[!1,"Todos los campos de esta secci\xf3n son requeridos menos el descuento global"]:[!0]:[!1,z.k.includes(e.type)?"Todos los campos de esta secci\xf3n son requeridos":"Todos los campos de esta secci\xf3n son requeridos menos el descuento global"];if(z.e.includes(e.type))return!Qe.date_issue||!0!==Qe.type_invoicing&&!1!==Qe.type_invoicing?[!1,"Todos los campos de esta secci\xf3n son requeridos"]:[!0];if(z.j.includes(e.type))return Qe.date_issue_invoice?[!0]:[!1,"Todos los campos de esta secci\xf3n son requeridos"]}if(4===a){if(z.k.includes(e.type))return Qe.type_invoicing,Qe.rut_client&&Qe.business_name_client&&Qe.address_client&&Qe.city_client&&Qe.comuna_client&&Qe.spin_client&&Qe.name_contact?[!0]:[!1,"Los siguientes campos del cliente son requeridos:Rut,razon social,direcci\xf3n,ciudad,comuna,giro y el nombre del contacto"];if(z.j.includes(e.type))return Qe.rut_client&&Qe.business_name_client&&Qe.address_client&&!Qe.type_buy_client&&Qe.city_client&&Qe.comuna_client&&Qe.spin_client&&Qe.name_contact?Qe.address_transmitter&&Qe.city_transmitter&&Qe.type_sale_transmitter&&!Qe.actividad_economica_transmitter&&Qe.type_transfer_trasmitter?[!0]:[!1,"Los siguientes campos del emisor son requeridos: direcci\xf3,ciudad,tipo de venta,actividad econ\xf3mica y tipo de traslado"]:[!1,"Los siguientes campos del cliente son requeridos: Rut,razon social,direcci\xf3n,ciudad,comuna,giro, tipo de compra y nombre del contacto"]}if(6===a&&z.j.includes(e.type)&&(Qe.rut_transfer||Qe.patent_transfer||Qe.rut_driver||Qe.name_driver)&&(!Qe.rut_transfer||!Qe.patent_transfer||!Qe.rut_driver||!Qe.name_driver))return[!1,"Todos los campos de esta secci\xf3n son requeridos a menos que no se desee llenar ninguno"];if(6===a&&z.e.includes(e.type)&&za.length){var n=!0;if(za.forEach((function(e){e.detail&&e.amount&&e.id_type_bond||(n=!1)})),!n)return[!1,"Todos los campos de los pagos son requeridos"]}return[!0]};return u.a.createElement(ve,null,u.a.createElement(v.a,{fluid:!0},p?u.a.createElement(J.a,null):u.a.createElement(C.a,{onSubmit:function(){},noValidate:!0,validated:Me,ref:Ea},u.a.createElement(u.a.Fragment,null,function(){var a=z.l.includes(e.type)?"Nota de Venta":z.e.includes(e.type)?"Boleta":z.j.includes(e.type)?"Gu\xeda":z.k.includes(e.type)?"Facturaci\xf3n":"cotizacion"===e.type?"Cotizaci\xf3n":"Orden de Compra";return u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,{className:"justify-content-between align-items-center"},u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(b.a,null,u.a.createElement(_.a,null,u.a.createElement("h4",{className:"title_principal"},"Formulario De ",a," "),u.a.createElement("div",{style:{display:"flex",width:"100%"}},u.a.createElement(y.a,{placement:"bottom",overlay:u.a.createElement(f.a,{id:"tooltipConfigPrice"},"Gestione los productos de la ",t,".")},u.a.createElement("div",{onClick:function(){return Aa(1,!0)},className:1===Ue?"indicatorsCircleActive":"indicatorsCircle"},"Productos")),u.a.createElement(y.a,{placement:"bottom",overlay:u.a.createElement(f.a,{id:"tooltipConfigGastos"},"Gestione los gastos de la ",t,". No afectar\xe1 el monto total a facturar pero le dar\xe1 un estimado entre perdidas y ganancias.")},u.a.createElement("div",{onClick:function(){return Aa(2,!0)},className:2===Ue?"indicatorsCircleActive":"indicatorsCircle"},"Gastos")),u.a.createElement(y.a,{placement:"bottom",overlay:u.a.createElement(f.a,{id:"tooltipConfigExtra"},"Gestione la fechas de inicio y vencimiento adem\xe1s de indicar si el tipo de factura a efectuar desde esta ",t," es de tipo afecta o excenta")},u.a.createElement("div",{onClick:function(){return Aa(3,!0)},className:3===Ue?"indicatorsCircleActive":"indicatorsCircle"},"Fecha y Tipo")),u.a.createElement(y.a,{placement:"bottom",overlay:u.a.createElement(f.a,{id:"tooltipConfigClienteEmisor"},"Gestione los datos del emisor de la ",t," y el receptor.")},u.a.createElement("div",{onClick:function(){return Aa(4,!0)},className:4===Ue?"indicatorsCircleActive":"indicatorsCircle"},"Emisor y Receptor"))))),u.a.createElement(b.a,{style:{marginTop:"10px"}},u.a.createElement(_.a,{sm:12,md:12,lg:12},u.a.createElement("div",{style:{display:"flex",width:"100%"}},z.g.includes(e.type)?"":u.a.createElement(y.a,{placement:"bottom",overlay:u.a.createElement(f.a,{id:"tooltipRef"},"Gestione las referencias que quiera agregar a la ",t)},u.a.createElement("div",{onClick:function(){return Aa(5,!0)},className:5===Ue?"indicatorsCircleActive":"indicatorsCircle"},"Referencias")),z.e.includes(e.type)?u.a.createElement(y.a,{placement:"bottom",overlay:u.a.createElement(f.a,{id:"tooltipConfigResumen"},"Puede agragar pagos a la ",t," para gestionar su liquidaci\xf3n o para agregar pagos parciales.")},u.a.createElement("div",{onClick:function(){return Aa(6,!0)},className:6===Ue?"indicatorsCircleActive":"indicatorsCircle"},"Pagos de la boleta")):z.j.includes(e.type)?u.a.createElement(y.a,{placement:"bottom",overlay:u.a.createElement(f.a,{id:"tooltipConfigResumen"},"Seccionar para gestionar datos del transportista de la gu\xeda.")},u.a.createElement("div",{onClick:function(){return Aa(6,!0)},className:6===Ue?"indicatorsCircleActive":"indicatorsCircle"},"Transporte")):"",u.a.createElement(y.a,{placement:"bottom",overlay:u.a.createElement(f.a,{id:"tooltipConfigResumen"},"Resumen y totales antes de generar la ",t,".")},u.a.createElement("div",{onClick:function(){return Aa(7,!0)},className:7===Ue?"indicatorsCircleActive":"indicatorsCircle"},"Resumen y Totales")))))),z.g.includes(e.type)||z.l.includes(e.type)?u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(R.a,{type:"text",label:u.a.createElement("h5",{style:{color:"rgb(153, 31, 31)"}},"Ref.",a),name:"id_cotizacion",required:!0,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",readonly:!0,value:Qe.ref,handleChange:function(){}}),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(h.a,{variant:"secondary",size:"sm",block:!0,onClick:Ra},"Volver a la tabla")))):u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(h.a,{variant:"secondary",size:"sm",block:!0,onClick:Ra},"Volver a la tabla"))),u.a.createElement("hr",null))}(),u.a.createElement("br",null),0===Ue?u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12,className:"text-center"},u.a.createElement("b",null,"Tipo de Factura"))),u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:6,md:6,lg:6},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"type_invoicing",type:"radio",id:"radio-5",label:"Afecta",value:!0,checked:!0===Qe.type_invoicing,required:!0,onChange:wa}))),u.a.createElement(_.a,{sm:6,md:6,lg:6,className:"text-right"},u.a.createElement(C.a.Group,null,u.a.createElement(C.a.Check,{name:"type_invoicing",type:"radio",id:"radio-6",label:"Excento",value:!1,required:!0,checked:!1===Qe.type_invoicing,onChange:wa})))))):1===Ue?u.a.createElement(ue,Object.assign({setDetailProducts:V,detailProducts:B,products:de,cotizationData:Qe,setIsShowModalProduct:ie,setGastosDetail:Ce,onChange:wa,listData:pa,setProducts:be,type:e.type,changeSection:Aa,word2:t},e)):2===Ue?u.a.createElement(te,{gastosDetail:he,setGastosDetail:Ce,configGeneral:e.configGeneral,setIsShowModalGastos:ce,isCotizacion:"cotizacion"===e.type,changeSection:Aa,word2:t}):3===Ue?u.a.createElement(u.a.Fragment,null,u.a.createElement(pe,{cotizationData:Qe,onChange:wa,type:e.type}),u.a.createElement("br",null),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",onClick:function(){return Aa(2,!1)},type:"button"},"Atr\xe1s")),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",onClick:function(){return Aa(4,!0)},type:"button"},"Siguiente")))):4===Ue?u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:12,md:12,lg:12,xs:12},u.a.createElement(b.a,null,u.a.createElement(_.a,{sm:12,md:12,lg:12,xs:12},u.a.createElement(j.a,{defaultActiveKey:"1"},u.a.createElement(X,{isType:e.type,cotizationData:Qe,setCotizationData:Xe,onChange:wa,configGeneral:e.configGeneral}),u.a.createElement(ee,(a={isType:e.type,cotizationData:Qe,setCotizationData:Xe,setIsShowModalClient:Q,handleModalSeller:Ga,handleModalContacts:Pa,clients:T,onChange:wa},Object(o.a)(a,"setIsShowModalClient",Q),Object(o.a)(a,"handleModalSeller",Ga),a)))))),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement("br",null),u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",onClick:function(){return Aa(3,!1)},type:"button"},"Atr\xe1s")),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement("br",null),u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",onClick:function(){return Aa(z.g.includes(e.type)?7:5,!0)},type:"button"},"Siguiente"))):5===Ue?u.a.createElement(u.a.Fragment,null,u.a.createElement(ge,{onChangeTableRef:function(e,a){e.persist(),ma((function(t){var n=Object(r.a)(t);return n[a][e.target.name]=e.target.value,n}))},refCotizacion:sa,removeProductRef:function(e){var a=Object(r.a)(sa);a.splice(e,1),ma(a)},addRef:function(){ma([].concat(Object(r.a)(sa),[{ind:"ind",type_document:"HES",ref_cotizacion:Qe.ref,date_ref:P().tz("America/Santiago").format("YYYY-MM-DD"),reason_ref:"Cotizaci\xf3n",type_code:"",id_invoice:""}]))},isNotAccordeon:!0}),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement("br",null),u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",onClick:function(){return Aa(3,!1)},type:"button"},"Atr\xe1s")),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement("br",null),u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",onClick:function(){return z.e.includes(e.type)||z.j.includes(e.type)?Aa(6,!0):Aa(7,!0)},type:"button"},"Siguiente")))):6===Ue&&z.e.includes(e.type)?u.a.createElement(fe,{typePayments:Ca,detailBonds:za,setDetailBonds:ka,changeSection:Aa}):6===Ue&&z.j.includes(e.type)?u.a.createElement(u.a.Fragment,null,u.a.createElement("h4",{className:"text-center title_principal"},"Datos del transportista"),u.a.createElement("br",null),u.a.createElement(Ee,{cotizationData:Qe,onChange:wa,isNotAccordeon:!0}),u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement("br",null),u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",onClick:function(){return Aa(5,!1)},type:"button"},"Atr\xe1s")),u.a.createElement(_.a,{sm:4,md:4,lg:4},u.a.createElement("br",null),u.a.createElement(h.a,{variant:"secondary",block:!0,size:"sm",onClick:function(){return Aa(7,!0)},type:"button"},"Siguiente")))):7===Ue?u.a.createElement(u.a.Fragment,null,u.a.createElement(ae,{configGeneral:e.configGeneral,configStore:e.configStore,detailProducts:B,cotizationData:Qe,gastosDetail:he,bondsPayments:za,isType:e.type}),z.g.includes(e.type)?u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:3,md:3,lg:3},u.a.createElement(O.a,{size:"sm",id:"drop",title:De?"Guardando":"Compartir",className:"dropdown_block",disabled:De,variant:"secondary"},u.a.createElement(x.a.Item,{onClick:function(){return ze(!0)}},"Enviar por Mail"))),u.a.createElement(_.a,{sm:3,md:3,lg:3},u.a.createElement(h.a,{type:"button",size:"sm",variant:"primary",disabled:De,block:!0,onClick:function(){return Sa(1)}},De?"Guardando...":"Guardar y Enviar por Mail"," ",u.a.createElement(k.u,null))),u.a.createElement(_.a,{sm:3,md:3,lg:3},u.a.createElement(h.a,{type:"button",size:"sm",variant:"primary",disabled:De,block:!0,onClick:function(){return Sa(2)}},De?"Guardando...":"Guardar "+t," ",u.a.createElement(k.z,null))),u.a.createElement(_.a,{sm:3,md:3,lg:3},u.a.createElement(h.a,{type:"button",size:"sm",variant:"secondary",disabled:De,block:!0,onClick:function(){return Je(4)}},"Volver"))):u.a.createElement(b.a,{className:"justify-content-center"},u.a.createElement(_.a,{sm:3,md:3,lg:3},u.a.createElement(h.a,{variant:"secondary",size:"sm",block:!0,type:"button",onClick:function(){return Aa(6,!1,!0)}},"Atras")),u.a.createElement(_.a,{sm:3,md:3,lg:3},u.a.createElement(h.a,{variant:"danger",size:"sm",block:!0,type:"button",onClick:Ta},"Emitir y Facturar")))):""),aa?u.a.createElement(u.a.Fragment,null,u.a.createElement(N.a,{isShow:$,onHide:function(e){Q(!1),e&&Na(!0)}}),u.a.createElement(w,{isShow:re,onHide:function(){return ce(!1)},handleGastoSubmit:function(e){Ce([].concat(Object(r.a)(he),[e]))}}),u.a.createElement(A,{clients:T,isShow:xe,onHide:function(){return ze(!1)},handleClientSubmit:function(){}}),u.a.createElement(M,{isShow:Te,onHide:Pa,handleSelectContact:function(e){Xe((function(a){return Object.assign({},a,{name_contact:e.name,phone_contact:e.phone,email_contact:e.email})})),we(!1)}}),u.a.createElement(Y,{isShow:Ae,onHide:Ga,handleSelectContact:function(e){Xe((function(a){return Object.assign({},a,{name_seller:e.name,phone_seller:e.phone,email_seller:e.email})})),Fe(!1)}}),u.a.createElement(W,{isShow:ca,onHide:Ta,handleSubmit:function(){var a={cotization:Object.assign({},Qe),products:B,gastos:he,referencias:sa,bonds:Object(r.a)(za)};if(z.e.includes(e.type)){var t=0,n=Object(F.e)(B,Qe.discount_global,Qe.total_with_iva,e.configStore.tax,!0,he);if(a.bonds.forEach((function(e,a){t+=parseFloat(e.amount)})),t>n)return void E.b.error("El monto total de pagos no puede ser mayor que el de la boleta")}qe(!0),fa(!0);var c=z.i.includes(e.type)?z.b+"invoice":z.h.includes(e.type)?z.b+"cotizacion_facturar/"+e.match.params.id:"guide"===e.type?z.b+"guide":"";(z.i.includes(e.type)?g.a.post(c,a):z.h.includes(e.type)?g.a.put(c,a):"guide"===e.type?g.a.post(c,a):"").then((function(a){if(z.k.includes(e.type)){var t=a.data.length>1?"Facturas":"Factura";E.b.success(t+" realizada con \xe9xito"),fa(!1),E.b.info("Generando pdf de la "+t+", espere por favor..."),a.data.response.forEach((function(e,a){window.open(e.pdf_public_url,"_blank")})),setTimeout((function(){Ra()}),2e3)}else if(z.l.includes(e.type)){E.b.success("Proceso completado, espere mientras se genera el documento de la nota"),fa(!1),E.b.info("Generando el o los pdf, espere por favor...");var n=[];a.data.response.forEach((function(e,a){n.push(g.a.get(z.b+"invoice_print/"+e.id+"/3/2"))})),Promise.all(n).then((function(e){e.forEach((function(e,a){window.open(z.b+"documents/sale_note/files_pdf/"+e.data.name)})),setTimeout((function(){Ra()}),2e3)})).catch((function(a){e.tokenExpired(a)}))}else z.e.includes(e.type)?(E.b.success("Boleta hecha con \xe9xito"),qe(!1),fa(!1),E.b.info("Generando pdf de la boleta, espere por favor..."),a.data.response.forEach((function(e,a){e&&window.open(e.url,"_blank")})),setTimeout((function(){Ra()}),2e3)):z.j.includes(e.type)&&(qe(!1),fa(!1),E.b.success("Gu\xeda guardada con \xe9xito"),E.b.info("Generando pdf de la Gu\xeda, espere por favor..."),a.data.response.forEach((function(e,a){e&&window.open(e.pdf_public_url,"_blank")})),setTimeout((function(){Ra()}),2e3))})).catch((function(a){fa(!1),qe(!1),e.tokenExpired(a)}))},setDetailProducts:V,products:B,disableButtons:De,displayLoading:ya})):"")))}))},639:function(e,a,t){"use strict";var n=t(2),r=t(4),c=t(1),l=t.n(c),o=(t(312),t(70)),i=t(605),s=t(211),m=t(210),d=t(622),u=t(623),p=t(624),g=t(637);function E(e){var a=e.props,t=a.title,n=a.eventKey,r=a.disabled,c=a.tabClassName,o=a.id;return null==t?null:l.a.createElement(m.a,{as:s.a,eventKey:n,disabled:r,id:o,className:c},t)}var b=function(e){var a=Object(o.a)(e,{activeKey:"onSelect"}),t=a.id,c=a.onSelect,s=a.transition,m=a.mountOnEnter,b=a.unmountOnExit,_=a.children,y=a.activeKey,f=void 0===y?function(e){var a;return Object(g.a)(e,(function(e){null==a&&(a=e.props.eventKey)})),a}(_):y,h=Object(r.a)(a,["id","onSelect","transition","mountOnEnter","unmountOnExit","children","activeKey"]);return l.a.createElement(d.a,{id:t,activeKey:f,onSelect:c,transition:s,mountOnEnter:m,unmountOnExit:b},l.a.createElement(i.a,Object(n.a)({},h,{role:"tablist",as:"nav"}),Object(g.b)(_,E)),l.a.createElement(u.a,null,Object(g.b)(_,(function(e){var a=Object(n.a)({},e.props);return delete a.title,delete a.disabled,delete a.tabClassName,l.a.createElement(p.a,a)}))))};b.defaultProps={variant:"tabs",mountOnEnter:!1,unmountOnExit:!1},b.displayName="Tabs",a.a=b},640:function(e,a,t){"use strict";var n=t(19),r=t(1),c=t.n(r),l=t(622),o=t(623),i=t(624),s=function(e){function a(){return e.apply(this,arguments)||this}return Object(n.a)(a,e),a.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},a}(c.a.Component);s.Container=l.a,s.Content=o.a,s.Pane=i.a,a.a=s},807:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(636);a.default=function(e){return r.a.createElement(c.a,Object.assign({},e,{type:"facturacion"}))}}}]);