(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[47],{611:function(e,t,a){"use strict";var n=a(47),r=a(119),l=a(1),o=a.n(l),c=a(120),s=a(621),i=a(622),u=a(301);function m(){var e=Object(r.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .table_responsive_eddit{\n    overflow-x: auto;\n  }\n"]);return m=function(){return e},e}var p=c.a.div(m());function d(e){var t=e.column,a=t.filterValue,n=t.preFilteredRows,r=t.setFilter,l=n.length;return o.a.createElement("input",{value:a||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(l," registros..."),className:"inputPageFilter"})}function g(e,t,a){return Object(i.a)(e,a,{keys:[function(e){return e.values[t]}]})}function f(e){var t=e.columns,a=e.data,r=e.menuTop,l=e.headerColor,c=e.headerFontColor,i=e.pageSizeHandler,m=o.a.useMemo((function(){return{fuzzyText:g,text:function(e,t,a){return e.filter((function(e){var n=e.values[t];return void 0===n||String(n).toLowerCase().startsWith(String(a).toLowerCase())}))}}}),[]),p=o.a.useMemo((function(){return{Filter:d}}),[]),f=Object(s.useTable)({columns:t,data:a,defaultColumn:p,filterTypes:m,initialState:{pageIndex:0,pageSize:i[0]}},s.useFilters,s.useSortBy,s.usePagination),b=f.getTableProps,E=f.getTableBodyProps,h=f.headerGroups,v=f.page,y=f.prepareRow,x=f.canPreviousPage,N=f.canNextPage,j=f.pageOptions,w=f.pageCount,k=f.gotoPage,M=f.nextPage,O=f.previousPage,C=f.setPageSize,S=f.state,P=S.pageIndex,T=S.pageSize;return o.a.createElement("div",{className:"table_responsive_eddit"},r?o.a.createElement("div",{className:"pagination"},o.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return k(0)},disabled:!x},"<<")," ",o.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O()},disabled:!x},"<")," ",o.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return M()},disabled:!N},">")," ",o.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return k(w-1)},disabled:!N},">>")," ",o.a.createElement("span",null,"P\xe1gina"," ",o.a.createElement("strong",null,P+1," de ",j.length)," "),o.a.createElement("span",{className:"ml-3"},"| ",o.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),o.a.createElement("input",Object(n.a)({type:"number",defaultValue:P+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;k(t)},className:"inputPage"},"onChange",(function(e){e.target.value>j.length&&(e.target.value=1)}))))," ",o.a.createElement("select",{value:T,onChange:function(e){C(Number(e.target.value))},className:"inputPage"},i.map((function(e){return o.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",o.a.createElement("table",Object.assign({},b(),{className:"table table-bordered"}),o.a.createElement("thead",null,h.map((function(e){return o.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return o.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{style:{backgroundColor:l||"rgb(218, 236, 242)",color:c||"black"}}),e.render("Header"),o.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),o.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),o.a.createElement("tbody",Object.assign({},E(),{className:"text-center"}),v.map((function(e,t){return y(e)||o.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return o.a.createElement("td",Object.assign({style:{position:"relative"}},e.getCellProps()),e.render("Cell"))})))})))),o.a.createElement("div",{className:"pagination"},o.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return k(0)},disabled:!x},"<<")," ",o.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O()},disabled:!x},"<")," ",o.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return M()},disabled:!N},">")," ",o.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return k(w-1)},disabled:!N},">>")," ",o.a.createElement("span",null,"P\xe1gina"," ",o.a.createElement("strong",null,P+1," de ",j.length)," "),o.a.createElement("span",{className:"ml-3"},"| ",o.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),o.a.createElement("input",Object(n.a)({type:"number",defaultValue:P+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;k(t)},className:"inputPage"},"onChange",(function(e){e.target.value>j.length&&(e.target.value=1)}))))," ",o.a.createElement("select",{value:T,onChange:function(e){C(Number(e.target.value))},className:"inputPage"},i.map((function(e){return o.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}g.autoRemove=function(e){return!e};t.a=function(e){var t=e.data,a=e.columns,n=e.menuTop,r=e.headerColor,l=e.headerFontColor,c=e.pageSizeHandler;return c=c||[10,20,30,40,50],o.a.createElement(p,null,o.a.createElement(f,{pageSizeHandler:c,data:t,columns:a,menuTop:n,headerFontColor:l,headerColor:r}))}},644:function(e,t,a){(function(a){var n,r,l;r=[],void 0===(l="function"===typeof(n=function(){"use strict";function t(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){o(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(a)}}var l="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,o=l.saveAs||("object"!=typeof window||window!==l?function(){}:"download"in HTMLAnchorElement.prototype?function(e,a,o){var c=l.URL||l.webkitURL,s=document.createElement("a");a=a||e.name||"download",s.download=a,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?r(s):n(s.href)?t(e,a,o):r(s,s.target="_blank")):(s.href=c.createObjectURL(e),setTimeout((function(){c.revokeObjectURL(s.href)}),4e4),setTimeout((function(){r(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,l){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,l),a);else if(n(e))t(e,a,l);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){r(o)}))}}:function(e,a,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,a,n);var o="application/octet-stream"===e.type,c=/constructor/i.test(l.HTMLElement)||l.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||o&&c)&&"object"==typeof FileReader){var i=new FileReader;i.onloadend=function(){var e=i.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},i.readAsDataURL(e)}else{var u=l.URL||l.webkitURL,m=u.createObjectURL(e);r?r.location=m:location.href=m,r=null,setTimeout((function(){u.revokeObjectURL(m)}),4e4)}});l.saveAs=o.saveAs=o,e.exports=o})?n.apply(t,r):n)||(e.exports=l)}).call(this,a(78))},668:function(e,t){},672:function(e,t){},673:function(e,t){},797:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(1),l=a.n(r),o=a(608),c=a(598),s=a(197),i=a(301),u=(a(611),a(31)),m=a(9),p=a.n(m),d=a(88),g=a(10),f=a(8),b=a(17),E=a(157),h=a(644),v=a(662),y=a(77),x=function(e){var t=Object(r.useState)([]),a=Object(n.a)(t,2),m=a[0],x=a[1],N=Object(r.useState)(""),j=Object(n.a)(N,2),w=j[0],k=j[1],M=Object(r.useState)(null),O=Object(n.a)(M,2),C=O[0],S=O[1],P=Object(r.useState)(!0),T=Object(n.a)(P,2),R=T[0],z=T[1];Object(r.useEffect)((function(){_()}),[]);var _=function(){p.a.get(g.b+"flow_cash_get_years").then((function(e){x(e.data),e.data.length>0&&(k(e.data[0].year),F(e.data[0].year)),z(!1)})).catch((function(t){z(!1),e.tokenExpired(t)}))},F=function(t){z(!0),p.a.get(g.b+"flow_cash_data_general/"+t).then((function(e){S(e.data),z(!1)})).catch((function(t){z(!1),e.tokenExpired(t)}))};return l.a.createElement(l.a.Fragment,null,R?l.a.createElement(o.a,null,l.a.createElement(y.a,null)):l.a.createElement(o.a,{className:"containerDiv"},l.a.createElement(c.a,null,l.a.createElement(s.a,{sm:12,md:12,lg:12},l.a.createElement("h4",{className:"title_principal"},"Reporte General de Caja"))),l.a.createElement("hr",null),l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(d.a,Object.assign({},e.inputSelect,{handleChange:function(e){k(e.target.value),F(e.target.value)},value:w}),l.a.createElement("option",{value:""},"--Seleccione--"),m.map((function(e,t){return l.a.createElement("option",{key:t,value:e.year},e.year)}))),l.a.createElement(s.a,{sm:4,md:4,lg:4,xs:6},l.a.createElement("br",null),l.a.createElement(i.a,{size:"sm",variant:"success",block:!0,onClick:function(){if(C){var e=v.utils.book_new(),t=[["","Mes1","Mes2","Mes3","Mes4","Mes5","Mes6","Mes7","Mes8","Mes9","Mes10","Mes11","Mes12","Totales"]];e.Props={Title:"Reporte de General",Subject:"Exportaci\xf3n de Data",Author:"Aidy tecnology",CreatedDate:E().format("YYYY-MM-DD")},e.SheetNames.push("Reporte General");var a=C.ingresos.map((function(e){return Object(b.a)(e.total,2,",",".")}));a.unshift("Ingresos");var n=C.egresos.map((function(e){return Object(b.a)(e.total,2,",",".")}));n.unshift("Egresos");var r=C.ingresoMenosEgreso.map((function(e){return Object(b.a)(e,2,",",".")}));r.unshift("Ingresos - Egresos");var l=C.totales.map((function(e){return Object(b.a)(e,2,",",".")}));l.unshift("Saldo Final de Caja"),t.push(a),t.push(n),t.push(r),t.push(l);var o=v.utils.aoa_to_sheet(t);e.Sheets["Reporte General"]=o;var c=v.write(e,{bookType:"xlsx",type:"binary"}),s=Object(b.e)(c);Object(h.saveAs)(new Blob([s],{type:"application/octet-stream"}),"Reporte General"+E().format("DD-MM-YYYY")+".xlsx")}else f.b.error("Error, no hay datos para realizar el excel")}},"Exportar a Excel ",l.a.createElement(u.E,null)))),l.a.createElement("br",null),C?l.a.createElement(c.a,null,l.a.createElement(s.a,{sm:12,md:12,lg:12,className:"table-responsive"},l.a.createElement("table",{className:"table table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",{style:{backgroundColor:"rgb(28, 33, 93)",color:"white"}},l.a.createElement("th",{className:"text-center"}),l.a.createElement("th",{className:"text-center"},"Mes1"),l.a.createElement("th",{className:"text-center"},"Mes2"),l.a.createElement("th",{className:"text-center"},"Mes 3"),l.a.createElement("th",{className:"text-center"},"Mes 4"),l.a.createElement("th",{className:"text-center"},"Mes 5"),l.a.createElement("th",{className:"text-center"},"Mes 6"),l.a.createElement("th",{className:"text-center"},"Mes 7"),l.a.createElement("th",{className:"text-center"},"Mes 8"),l.a.createElement("th",{className:"text-center"},"Mes 9"),l.a.createElement("th",{className:"text-center"},"Mes 10"),l.a.createElement("th",{className:"text-center"},"Mes 11"),l.a.createElement("th",{className:"text-center"},"Mes 12"),l.a.createElement("th",{className:"text-center"},"Totales"))),l.a.createElement("tbody",{className:"text-center"},l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Total Ingreso")),C.ingresos.map((function(e,t){return l.a.createElement("td",{key:t},Object(b.a)(e.total,2,",","."))}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Total Egreso")),C.egresos.map((function(e,t){return l.a.createElement("td",{key:t},Object(b.a)(e.total,2,",","."))}))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("b",null,"Ingresos - Egresos")),C.ingresoMenosEgreso.map((function(e,t){return l.a.createElement("td",{key:t},Object(b.a)(e,2,",","."))}))),l.a.createElement("tr",{style:{backgroundColor:"rgb(244, 240, 194)",color:"rgb(19, 20, 20)"}},l.a.createElement("td",null,l.a.createElement("b",null,"Saldo Final de Caja")),C.totales.map((function(e,t){return l.a.createElement("td",{key:t},Object(b.a)(e,2,",","."))}))))))):l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(s.a,{sm:12,md:12,lg:12},l.a.createElement("h4",{className:"text-center"},"Sin Ingresos o Egresos que Mostrar...")))))};x.defaultProps={inputSelect:{type:"select",required:!0,name:"year",label:"A\xf1o del reporte",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"}},t.default=x}}]);