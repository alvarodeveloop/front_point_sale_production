{"version":3,"sources":["pages/FormDataPage.jsx"],"names":["FormDataPage","props","useState","galleryImg","setGalleryImg","onSubmit","e","a","form","currentTarget","preventDefault","checkValidity","stopPropagation","formDataGallery","FormData","Object","keys","forEach","v","i","append","axios","post","API_URL","then","result","catch","err","response","toast","error","data","message","sm","md","lg","type","id","multiple","accept","onChange","target","files","variant","block"],"mappings":"6QAyEeA,UA3DM,SAACC,GAAW,IAAD,EAEKC,mBAAS,IAFd,mBAEvBC,EAFuB,KAEZC,EAFY,KAIxBC,EAAQ,uCAAG,WAAMC,GAAN,iBAAAC,EAAA,yDAETC,EAAOF,EAAEG,cAEfH,EAAEI,kBAC2B,IAAzBF,EAAKG,gBALM,uBAMbL,EAAEM,kBANW,0BAWXC,EAAkB,IAAIC,SAE1BC,OAAOC,KAAKb,GAAYc,SAAQ,SAACC,EAAEC,GACjCN,EAAgBO,OAAO,UAAUjB,EAAWe,OAI9CL,EAAgBO,OAAO,aAAa,KACpCP,EAAgBO,OAAO,OAAO,QAC9BP,EAAgBO,OAAO,cAAc,eACrCP,EAAgBO,OAAO,QAAQ,KAC/BP,EAAgBO,OAAO,uBAAuB,KAG9CC,IAAMC,KAAKC,IAAQ,UAAUV,GAAiBW,MAAK,SAAAC,OAEhDC,OAAM,SAAAC,GAAQ,IACPC,EAAaD,EAAbC,SACLA,EACDC,IAAMC,MAAMF,EAASG,KAAKC,SAE1BH,IAAMC,MAAM,kCAhCD,4CAAH,sDAyCd,OACE,kBAAC,IAAD,CAAMzB,SAAUA,GACd,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAK4B,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,2BAAOC,KAAK,OAAOC,GAAG,aAAaC,UAAU,EAAMC,OAAO,oBAAoBC,SAR7D,SAAAlC,GACvBF,EAAcE,EAAEmC,OAAOC,WASnB,kBAAC,IAAD,CAAKT,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,kBAAC,IAAD,CAAQC,KAAK,SAASO,QAAQ,SAASC,OAAO,GAA9C","file":"static/js/67.5899a56b.chunk.js","sourcesContent":["import React, {useState} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport InputField from 'components/input/InputComponent'\r\nimport axios from 'axios'\r\nimport {API_URL} from 'utils/constants'\r\nimport {toast} from 'react-toastify'\r\nimport {\r\n  Form,\r\n  Row,\r\n  Col,\r\n  Button,\r\n} from 'react-bootstrap'\r\n\r\n\r\nconst FormDataPage = (props) => {\r\n\r\n  const [galleryImg,setGalleryImg] = useState([])\r\n\r\n  const onSubmit = async e => {\r\n\r\n    const form = e.currentTarget;\r\n\r\n    e.preventDefault();\r\n    if (form.checkValidity() === false) {\r\n      e.stopPropagation();\r\n      return\r\n    }\r\n\r\n\r\n    let formDataGallery = new FormData()\r\n\r\n    Object.keys(galleryImg).forEach((v,i) => {\r\n      formDataGallery.append('gallery',galleryImg[v])\r\n    })\r\n\r\n    //formDataGallery.append('id_product',1)\r\n    formDataGallery.append('categories','2')\r\n    formDataGallery.append('name','moto')\r\n    formDataGallery.append('description','description')\r\n    formDataGallery.append('price',3000)\r\n    formDataGallery.append('time_for_preparation',120)\r\n\r\n\r\n    axios.post(API_URL+'product',formDataGallery).then(result => {\r\n\r\n    }).catch(err => {\r\n      const { response } = err\r\n      if(response){\r\n        toast.error(response.data.message)\r\n      }else{\r\n        toast.error('Error, contacte con soporte')\r\n      }\r\n    })\r\n  }\r\n\r\n  const galleryImgHandle = e => {\r\n    setGalleryImg(e.target.files)\r\n  }\r\n\r\n  return (\r\n    <Form onSubmit={onSubmit}>\r\n      <Row>\r\n        <Col sm={3} md={3} lg={3}>\r\n          <input type=\"file\" id=\"galleryImg\" multiple={true} accept=\".jpg, .png, .jpeg\" onChange={galleryImgHandle} />\r\n        </Col>\r\n        <Col sm={3} md={3} lg={3}>\r\n          <Button type=\"submit\" variant=\"danger\" block={true}>Enviar</Button>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default FormDataPage\r\n"],"sourceRoot":""}