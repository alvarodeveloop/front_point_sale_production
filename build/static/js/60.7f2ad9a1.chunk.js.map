{"version":3,"sources":["components/Table.jsx","components/input/InputComponentRef.jsx","pages/ProductListDetailPage.jsx"],"names":["Styles","styled","div","DefaultColumnFilter","column","filterValue","preFilteredRows","setFilter","count","length","value","onChange","e","target","undefined","placeholder","className","fuzzyTextFilterFn","rows","id","matchSorter","keys","row","values","DataTable","columns","data","menuTop","headerColor","headerFontColor","pageSizeHandler","filterTypes","React","useMemo","fuzzyText","text","filter","rowValue","String","toLowerCase","startsWith","defaultColumn","Filter","useTable","initialState","pageIndex","pageSize","useFilters","useSortBy","usePagination","getTableProps","getTableBodyProps","headerGroups","page","prepareRow","canPreviousPage","canNextPage","pageOptions","pageCount","gotoPage","nextPage","previousPage","setPageSize","state","size","style","height","variant","onClick","disabled","type","defaultValue","Number","map","key","headerGroup","getHeaderGroupProps","headers","getHeaderProps","getSortByToggleProps","backgroundColor","color","render","isSorted","isSortedDesc","canFilter","i","getRowProps","cells","cell","position","getCellProps","autoRemove","val","Table","InputFieldRef","forwardRef","props","ref","classFormGroup","cols","Group","Label","label","Control","name","handleChange","required","readOnly","readonly","step","onKeyUp","handleKeyUp","autoComplete","Feedback","messageErrors","v","replace","as","multiple","children","id_branch","localStorage","getItem","listColumns","ProductListDetailPage","useState","objectList","setObjectList","displayLoading","setDisplayLoading","listDetails","setListDetails","products","setProducts","tax","configStore","setConfigStore","id_product","price","dataForm","setDataForm","validated","setValidated","inputRef","useRef","inputRef1","useEffect","id_branch_office","toast","error","setTimeout","history","fetchData","Header","accessor","props1","name_product","Cell","showPriceWithDecimals","configGeneral","original","simbolo_moneda","parseFloat","removeProductDetailHandler","promises","axios","get","API_URL","match","params","push","Promise","all","then","result","details","catch","err","tokenExpired","onChangeHandler","persist","prod","find","current","focus","dataRemove","currentData","parseInt","goBack","clearData","fluid","textDecoration","textTransform","onSubmit","form","currentTarget","preventDefault","checkValidity","stopPropagation","element","selectOption","document","getElementById","options","productObject","attributes","dataindex","objectDetailNew","id_product_list","noValidate","sm","md","lg","block","objectPut","detailProducts","put","success","connect","enterpriseSucursal","id_enterprise","configs","config"],"mappings":"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","file":"static/js/60.7f2ad9a1.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport { useTable, useSortBy, useFilters, usePagination} from 'react-table'\r\nimport matchSorter from 'match-sorter'\r\nimport { Button } from 'react-bootstrap'\r\n\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n\r\n  .button-pagination{\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .inputPage{\r\n    display: inline-block;\r\n    width: 150px;\r\n    height: 34px;\r\n    padding: 6px 12px;\r\n    font-size: 14px;\r\n    line-height: 1.42857143;\r\n    color: #555;\r\n    background-color: #fff;\r\n    background-image: none;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .inputPageFilter{\r\n    display: inline-block;\r\n    width: 80%;\r\n    height: 34px;\r\n    padding: 6px 12px;\r\n    font-size: 14px;\r\n    line-height: 1.42857143;\r\n    color: #555;\r\n    background-color: #fff;\r\n    background-image: none;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .pagination {\r\n    padding: 0.5rem;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n\r\n  .table_responsive_eddit{\r\n    overflow-x: auto;\r\n  }\r\n`\r\n\r\nfunction DefaultColumnFilter({\r\n  column: { filterValue, preFilteredRows, setFilter },\r\n}) {\r\n  const count = preFilteredRows.length\r\n\r\n  return (\r\n    <input\r\n      value={filterValue || ''}\r\n      onChange={e => {\r\n        setFilter(e.target.value || undefined) // Set undefined to remove the filter entirely\r\n      }}\r\n      placeholder={`Buscar en ${count} registros...`}\r\n      className=\"inputPageFilter\"\r\n    />\r\n  )\r\n}\r\n\r\nfunction fuzzyTextFilterFn(rows, id, filterValue) {\r\n  return matchSorter(rows, filterValue, { keys: [row => row.values[id]] })\r\n}\r\n\r\n// Let the table remove the filter if the string is empty\r\nfuzzyTextFilterFn.autoRemove = val => !val\r\n\r\nfunction DataTable({ columns, data, menuTop, headerColor, headerFontColor, pageSizeHandler }) {\r\n  // Use the state and functions returned from useTable to build your UI\r\n\r\n  const filterTypes = React.useMemo(\r\n    () => ({\r\n      // Add a new fuzzyTextFilterFn filter type.\r\n      fuzzyText: fuzzyTextFilterFn,\r\n      // Or, override the default text filter to use\r\n      // \"startWith\"\r\n      text: (rows, id, filterValue) => {\r\n        return rows.filter(row => {\r\n          const rowValue = row.values[id]\r\n          return rowValue !== undefined\r\n            ? String(rowValue)\r\n                .toLowerCase()\r\n                .startsWith(String(filterValue).toLowerCase())\r\n            : true\r\n        })\r\n      },\r\n    }),\r\n    []\r\n  )\r\n\r\n  const defaultColumn = React.useMemo(\r\n    () => ({\r\n      // Let's set up our default Filter UI\r\n      Filter: DefaultColumnFilter,\r\n    }),\r\n    []\r\n  )\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    page,\r\n    prepareRow,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize }\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn, // Be sure to pass the defaultColumn option\r\n      filterTypes,\r\n      initialState: { pageIndex: 0, pageSize : pageSizeHandler[0] },\r\n    },\r\n    useFilters,\r\n    useSortBy,\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n\r\n  return (\r\n    <div className=\"table_responsive_eddit\">\r\n      {menuTop ? (\r\n        <div className=\"pagination\">\r\n          <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n            {'<<'}\r\n          </Button>{' '}\r\n          <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n            {'<'}\r\n          </Button>{' '}\r\n          <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => nextPage()} disabled={!canNextPage}>\r\n            {'>'}\r\n          </Button>{' '}\r\n          <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n            {'>>'}\r\n          </Button>{' '}\r\n          <span>\r\n            P치gina{' '}\r\n            <strong>\r\n              {pageIndex + 1} de {pageOptions.length}\r\n            </strong>{' '}\r\n          </span>\r\n          <span className=\"ml-3\">\r\n            | <span className=\"ml-2\">Ir a la P치gina:{' '}</span>\r\n            <input\r\n              type=\"number\"\r\n              defaultValue={pageIndex + 1}\r\n              onChange={e => {\r\n                const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n                gotoPage(page)\r\n              }}\r\n              className=\"inputPage\"\r\n              onChange={(e) => {\r\n                if(e.target.value > pageOptions.length){\r\n                  e.target.value = 1\r\n                }\r\n              }}\r\n            />\r\n          </span>{' '}\r\n          <select\r\n            value={pageSize}\r\n            onChange={e => {\r\n              setPageSize(Number(e.target.value))\r\n            }}\r\n            className=\"inputPage\"\r\n          >\r\n            {pageSizeHandler.map(pageSize => (\r\n              <option key={pageSize} value={pageSize}>\r\n                Mostrar {pageSize}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n      ) : ''}\r\n      <table {...getTableProps()} className=\"table table-bordered\">\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()} className=\"text-center\">\r\n              {headerGroup.headers.map(column => (\r\n\r\n                <th {...column.getHeaderProps(column.getSortByToggleProps())} style={{ backgroundColor: headerColor ? headerColor : \"rgb(218, 236, 242)\", color: headerFontColor ? headerFontColor : \"black\" }}>\r\n                    {column.render('Header')}\r\n                    <span>\r\n                      {column.isSorted\r\n                        ? column.isSortedDesc\r\n                          ? ' 游댷'\r\n                          : ' 游댶'\r\n                        : ''}\r\n                    </span>\r\n                    <div>{column.canFilter ? column.render('Filter') : null}</div>\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()} className=\"text-center\">\r\n          {page.map(\r\n            (row, i) =>\r\n              prepareRow(row) || (\r\n                <tr {...row.getRowProps()}>\r\n                  {row.cells.map(cell => {\r\n                    return <td style={{position: \"relative\"}} {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                  })}\r\n                </tr>\r\n              )\r\n          )}\r\n        </tbody>\r\n      </table>\r\n      <div className=\"pagination\">\r\n        <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </Button>{' '}\r\n        <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'<'}\r\n        </Button>{' '}\r\n        <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {'>'}\r\n        </Button>{' '}\r\n        <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </Button>{' '}\r\n        <span>\r\n          P치gina{' '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span className=\"ml-3\">\r\n          | <span className=\"ml-2\">Ir a la P치gina:{' '}</span>\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            className=\"inputPage\"\r\n            onChange={(e) => {\r\n              if(e.target.value > pageOptions.length){\r\n                e.target.value = 1\r\n              }\r\n            }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n          className=\"inputPage\"\r\n        >\r\n          {pageSizeHandler.map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Mostrar {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nconst Table = ({data,columns,menuTop,headerColor,headerFontColor,pageSizeHandler}) => {\r\n  pageSizeHandler = pageSizeHandler ? pageSizeHandler : [10, 20, 30, 40, 50]; \r\n  return (\r\n    <Styles>\r\n      <DataTable pageSizeHandler={pageSizeHandler} data={data} columns={columns} menuTop={menuTop} headerFontColor={headerFontColor} headerColor={headerColor}  />\r\n    </Styles>\r\n  )\r\n}\r\n\r\nTable.propTypes = {\r\n  data: PropTypes.array.isRequired,\r\n  columns : PropTypes.array.isRequired,\r\n  menuTop: PropTypes.bool,\r\n  headerColor: PropTypes.string,\r\n  headerFontColor: PropTypes.string,\r\n  pageSizeHandler : PropTypes.array,\r\n}\r\n\r\nexport default Table\r\n","import React, { useState,useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form } from 'react-bootstrap'\r\nimport './InputComponent.css'\r\n\r\nconst InputFieldRef = React.forwardRef( (props,ref) => {\r\n\r\n  const classFormGroup = props.cols ? props.cols : \"col-md-6 col-sm-6\"\r\n  if(props.type !== \"select\" && props.type !== \"textarea\"){\r\n    return (\r\n      <Form.Group className={classFormGroup}>\r\n        <Form.Label className=\"fontBold\">{props.label}</Form.Label>\r\n        <Form.Control\r\n          ref={ref}\r\n          id={props.id ? props.id : props.name}\r\n          type={props.type}\r\n          name={props.name}\r\n          onChange={props.handleChange}\r\n          value={props.value}\r\n          placeholder={props.placeholder ? props.placeholder : ''}\r\n          required={props.required}\r\n          readOnly={props.readonly ? props.readonly : false}\r\n          step={props.step ? props.step : ''}\r\n          onKeyUp={ props.handleKeyUp ? props.handleKeyUp : () => {} }\r\n          className={props.className ? props.className+\" form-control-sm mainBorder\" : \"form-control-sm mainBorder\"}\r\n          style={props.style ? props.style : {}}\r\n          autoComplete={props.autoComplete ? props.autoComplete : 'xxx'}\r\n          />\r\n        <Form.Control.Feedback type=\"invalid\">\r\n          {\r\n            props.messageErrors.map((v,i) => {\r\n              return <span key={i} className=\"error-input\">{v.replace(/[*]$/g,'')}</span>\r\n            })\r\n          }\r\n        </Form.Control.Feedback>\r\n      </Form.Group>\r\n    )\r\n  }else if(props.type === \"select\"){\r\n    return(\r\n      <Form.Group className={classFormGroup}>\r\n        <Form.Label className=\"fontBold\">{props.label}</Form.Label>\r\n        <Form.Control\r\n          id={props.id ? props.id : props.name}\r\n          as={props.type}\r\n          name={props.name}\r\n          onChange={props.handleChange}\r\n          value={props.value}\r\n          placeholder={props.placeholder ? props.placeholder : ''}\r\n          readOnly={props.readonly ? props.readonly : false}\r\n          required={props.required}\r\n          multiple={props.multiple ? props.multiple : false}\r\n          ref={ref ? ref : null}\r\n          className={props.className ? props.className+\" form-control-sm mainBorder\" : \"form-control-sm mainBorder\"}\r\n          style={props.style ? props.style : {}}\r\n          autoComplete={props.autoComplete ? props.autoComplete : 'xxx'}\r\n        >\r\n          {props.children}\r\n        </Form.Control>\r\n        <Form.Control.Feedback type=\"invalid\">\r\n          {\r\n            props.messageErrors.map((v,i) => {\r\n              return <span key={i} className=\"error-input\">{v.replace(/[*]$/g,'')}</span>\r\n            })\r\n          }\r\n        </Form.Control.Feedback>\r\n      </Form.Group>\r\n    )\r\n  }else if(props.type === \"textarea\"){\r\n    return(\r\n      <Form.Group className={classFormGroup}>\r\n        <Form.Label className=\"fontBold\">{props.label}</Form.Label>\r\n        <Form.Control\r\n          id={props.id ? props.id : props.name}\r\n          as={props.type}\r\n          name={props.name}\r\n          onChange={props.handleChange}\r\n          value={props.value}\r\n          placeholder={props.placeholder ? props.placeholder : ''}\r\n          required={props.required}\r\n          rows={props.rows ? props.rows : 2}\r\n          readOnly={props.readonly ? props.readonly : false}\r\n          onKeyUp={ props.handleKeyUp ? props.handleKeyUp : () => {} }\r\n          ref={ref ? ref : null}\r\n          className={props.className ? props.className+\" form-control-sm mainBorder\" : \"form-control-sm mainBorder\"}\r\n          style={props.style ? props.style : {}}\r\n          autoComplete={props.autoComplete ? props.autoComplete : 'xxx'}\r\n        />\r\n        <Form.Control.Feedback type=\"invalid\">\r\n          {\r\n            props.messageErrors.map((v,i) => {\r\n              return <span key={i} className=\"error-input\">{v.replace(/[*]$/g,'')}</span>\r\n            })\r\n          }\r\n        </Form.Control.Feedback>\r\n      </Form.Group>\r\n    )\r\n  }\r\n\r\n})\r\n\r\nInputFieldRef.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  id: PropTypes.string,\r\n  handleChange: PropTypes.func.isRequired,\r\n  handleKeyUp: PropTypes.func,\r\n  value: PropTypes.any,\r\n  cols: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  required: PropTypes.bool,\r\n  errors: PropTypes.array,\r\n  messageErrors: PropTypes.array,\r\n  readonly: PropTypes.bool,\r\n  multiple: PropTypes.bool,\r\n  className: PropTypes.string,\r\n  steps: PropTypes.string,\r\n  autoComplete: PropTypes.bool,\r\n}\r\n\r\nexport default InputFieldRef\r\n","import React, {useState, useEffect, useRef, useMemo} from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Form, Container, Row, Col, Button, Badge } from 'react-bootstrap'\r\nimport axios from 'axios';\r\nimport { API_URL } from 'utils/constants'\r\nimport InputFieldRef from 'components/input/InputComponentRef'\r\nimport { toast } from 'react-toastify';\r\nimport LoadingComponent from 'components/LoadingComponent'\r\nimport Table from 'components/Table'\r\nimport { FaTrash } from 'react-icons/fa'\r\nimport { showPriceWithDecimals } from 'utils/functions';\r\n\r\nlet id_branch = localStorage.getItem(\"id_branch_office\");\r\nlet listColumns = []\r\n\r\nexport const ProductListDetailPage = (props) => {\r\n\r\n  const [objectList, setObjectList] = useState(null);\r\n  const [displayLoading, setDisplayLoading] = useState(true);\r\n  const [listDetails, setListDetails] = useState([]);\r\n  const [newDetailList, setNewDetailList] = useState([])\r\n  const [products, setProducts] = useState([]);\r\n  const [configStore, setConfigStore] = useState({tax: 19})\r\n  const [dataForm, setDataForm] = useState({\r\n    id_product : \"\",\r\n    price : \"\"\r\n  })\r\n  const [validated, setValidated] = useState(false)\r\n  const inputRef = useRef(null);\r\n  const inputRef1 = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if(id_branch != props.id_branch_office){\r\n      toast.error(\"Esta lista no pertenece a esta sucursal\");\r\n      setTimeout(() => {\r\n        props.history.replace(\"/product/listProduct\");\r\n      },1500)\r\n    }else{\r\n      fetchData(true);\r\n    }\r\n  },[props.id_branch_office])\r\n\r\n  listColumns = useMemo(() => {\r\n    return [\r\n      {\r\n        Header : \"Producto\",\r\n        accessor : props1 => [props1.products.name_product]\r\n      },\r\n      {\r\n        Header : \"Precio\",\r\n        accessor : props1 => [props1.price],\r\n        Cell : props1 => {\r\n          return <span>{showPriceWithDecimals(props.configGeneral,props1.cell.row.original.price)}{props.configGeneral ? props.configGeneral.simbolo_moneda : \"\" }</span>\r\n        }\r\n      },\r\n      {\r\n        Header : \"Precio con iva\",\r\n        accessor : props1 => [ (( parseFloat(props1.price) * parseFloat(configStore.tax)) / 100) + parseFloat(props1.price)],\r\n        Cell : props1 => {\r\n          const { original } = props1.cell.row\r\n          return (<Badge variant=\"danger\" className=\"font-badge\">{showPriceWithDecimals(props.configGeneral,(( parseFloat(original.price) * parseFloat(configStore.tax)) / 100) + parseFloat(original.price),2,\",\",\".\")} {props.configGeneral ? props.configGeneral.simbolo_moneda : \"\" }</Badge>)\r\n        }\r\n      },\r\n      {\r\n        Header : \"Acciones\",\r\n        Cell : props1 => {\r\n          const { original } = props1.cell.row\r\n          return <Button variant=\"danger\" size=\"sm\" onClick={() => removeProductDetailHandler(original)}><FaTrash /></Button>\r\n        }\r\n      }\r\n    ]\r\n  },[])\r\n\r\n  const fetchData = (type = false) => {\r\n    \r\n    let promises = [\r\n      axios.get(API_URL+\"listProduct/\"+props.match.params.id),\r\n    ]\r\n\r\n    if(type){\r\n      promises.push(\r\n        axios.get(API_URL+\"product\"),\r\n      )\r\n      promises.push(\r\n        axios.get(API_URL+\"config_store\"),\r\n      )\r\n    }\r\n\r\n    Promise.all(promises).then(result => {\r\n      setObjectList(result[0].data)\r\n      setListDetails(result[0].data.details)\r\n      if(type){\r\n        setProducts(result[1].data)\r\n        setConfigStore(result[2].data)\r\n      }\r\n      setDisplayLoading(false)    \r\n    }).catch(err =>{\r\n      props.tokenExpired(err)\r\n      setDisplayLoading(false)    \r\n    })\r\n  }\r\n\r\n  const onChangeHandler = e => {\r\n    e.persist();\r\n    setDataForm({...dataForm, [e.target.name] : e.target.value});\r\n    if(e.target.name === \"id_product\"){\r\n      let prod = products.find(v => v.id == e.target.value)\r\n      setDataForm({...dataForm, [e.target.name] : e.target.value, price: prod.price})\r\n      inputRef1.current.focus()\r\n    }else{\r\n      setDataForm({...dataForm, [e.target.name] : e.target.value})\r\n    }\r\n  }\r\n\r\n  const onSubmitHandler = e => {\r\n    \r\n    const form = e.currentTarget;\r\n    e.preventDefault();\r\n    if (form.checkValidity() === false) {\r\n      e.stopPropagation();\r\n      setValidated(true);\r\n      return\r\n    }\r\n\r\n    let selectOption = document.getElementById(\"id_product\")\r\n    let element;\r\n    for(let i = 0; i < selectOption.options.length; i++) {\r\n      if(selectOption.options[i].value === selectOption.value){\r\n        element  = selectOption.options[i]\r\n      }\r\n    }\r\n    let productObject = products[element.attributes.dataindex.value];\r\n    let validate = listDetails.find(v => v.id_product === productObject.id);\r\n    if(!validate){\r\n      let objectDetailNew = {\r\n        id_product_list : objectList.id,\r\n        id_product : dataForm.id_product,\r\n        price : dataForm.price,\r\n        products : productObject \r\n      }\r\n      setListDetails(currentData => [...currentData,objectDetailNew])\r\n      clearData()\r\n    }else{\r\n      toast.error(\"Producto repetido, por favor agregue otro....\")\r\n    } \r\n  }\r\n  \r\n  const removeProductDetailHandler = dataRemove => {\r\n    setListDetails(currentData => currentData.filter(v => parseInt(v.id_product) !== parseInt(dataRemove.id_product) ))\r\n  }\r\n  \r\n  const confirmSubmitHandler = () => {\r\n    setDisplayLoading(true)\r\n    let arrayPut = [...listDetails];\r\n    let objectPut = {\r\n      detailProducts : arrayPut\r\n    }\r\n    axios.put(API_URL+\"listProductDetail/\"+props.match.params.id,objectPut).then(result => {\r\n      toast.success(\"Lista modificada con 칠xito\");\r\n      setTimeout(() => {\r\n        goBack();\r\n      },1500)\r\n    }).catch(err => {\r\n      setDisplayLoading(false)\r\n      props.tokenExpired(err)\r\n    })\r\n  }\r\n\r\n  const goBack = () => {\r\n    props.history.replace(\"/product/listProduct\");\r\n  }\r\n  const clearData = () => {\r\n    setDataForm({\r\n      id_product: \"\",\r\n      price : \"\"\r\n    });\r\n    setValidated(false);\r\n    inputRef.current.focus()\r\n  }\r\n\r\n  return (\r\n    <Container fluid>\r\n      {\r\n        displayLoading ? (\r\n          <LoadingComponent />\r\n        ) : (\r\n          <>\r\n            <Row>\r\n              <Col>\r\n                <h4 className=\"title_principal\">Detalle de la lista <span style={{textDecoration:\"underline\",textTransform: \"uppercase\"}}>{objectList ? objectList.name : \"\"}</span></h4>\r\n              </Col>\r\n              <Col>\r\n                <h4 className=\"title_principal text-right\">Total de productos <Badge variant=\"danger\" className=\"font-badge\">{listDetails.length}</Badge></h4>\r\n              </Col>\r\n            </Row>\r\n            <hr/>\r\n            <Row>\r\n              <Col>\r\n                <Form onSubmit={onSubmitHandler} noValidate validated={validated}>\r\n                  <Row className=\"justify-content-center\">\r\n                    <InputFieldRef\r\n                      ref={inputRef}\r\n                      type=\"select\"\r\n                      name=\"id_product\"\r\n                      label=\"Producto\"\r\n                      value={dataForm.id_product}\r\n                      handleChange={onChangeHandler}\r\n                      required={true}\r\n                      cols=\"col-md-4 col-sm-4 col-lg-4 col-xl-4\"\r\n                      messageErrors={[\r\n                        \"Requerido\"\r\n                      ]}\r\n                    >\r\n                      <option value=\"\">--Seleccione--</option>\r\n                      {products.map((v,i) => <option key={i} value={v.id} dataindex={i}>{v.name_product}</option>)}\r\n                    </InputFieldRef>\r\n                    <InputFieldRef\r\n                      ref={inputRef1}\r\n                      type=\"number\"\r\n                      name=\"price\"\r\n                      label=\"Precio\"\r\n                      value={dataForm.price}\r\n                      required={true}\r\n                      handleChange={onChangeHandler}\r\n                      cols=\"col-md-4 col-sm-4 col-lg-4 col-xl-4\"\r\n                      messageErrors={[\r\n                        \"Requerido\"\r\n                      ]}\r\n                    />\r\n                  </Row>\r\n                  <Row>\r\n                    <Col className=\"text-center text-danger\">\r\n                      *El bot칩n de agregar es para agregar el item a la tabla y el confirmar para almacenar en la base de datos.\r\n                    </Col>\r\n                  </Row>\r\n                  <br/>\r\n                  <Row className=\"justify-content-center\">\r\n                  <Col sm={4} md={4} lg={4}>\r\n                      <Button variant=\"secondary\" type=\"button\" block={true} size=\"sm\" onClick={goBack}>Volver</Button>\r\n                    </Col>\r\n                    <Col sm={4} md={4} lg={4}>\r\n                      <Button variant=\"danger\" type=\"submit\" block={true} size=\"sm\">Agregar</Button>\r\n                    </Col>\r\n                    <Col sm={4} md={4} lg={4}>\r\n                      <Button variant=\"secondary\" type=\"button\" block={true} size=\"sm\" onClick={confirmSubmitHandler}>Confirmar</Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Form>\r\n              </Col>\r\n            </Row>\r\n            <br/>\r\n            <Row>\r\n              <Col>\r\n                <Table data={listDetails} columns={listColumns} />\r\n              </Col>\r\n            </Row>\r\n          </>\r\n        )\r\n      }\r\n    </Container>\r\n  )\r\n}\r\n\r\nProductListDetailPage.propTypes = {\r\n  \r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  id_branch_office : state.enterpriseSucursal.id_branch_office,\r\n  id_enterprise : state.enterpriseSucursal.id_enterprise,\r\n  configGeneral : state.configs.config,\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  \r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductListDetailPage)\r\n"],"sourceRoot":""}