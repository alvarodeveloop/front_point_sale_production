(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[28],{611:function(e,t,a){"use strict";var n=a(32),l=a(119),r=a(1),c=a.n(r),o=a(120),s=a(622),i=a(623),m=a(301);function u(){var e=Object(l.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .table_responsive_eddit{\n    overflow-x: auto;\n  }\n"]);return u=function(){return e},e}var d=o.a.div(u());function E(e){var t=e.column,a=t.filterValue,n=t.preFilteredRows,l=t.setFilter,r=n.length;return c.a.createElement("input",{value:a||"",onChange:function(e){l(e.target.value||void 0)},placeholder:"Buscar en ".concat(r," registros..."),className:"inputPageFilter"})}function b(e,t,a){return Object(i.a)(e,a,{keys:[function(e){return e.values[t]}]})}function g(e){var t=e.columns,a=e.data,l=e.menuTop,r=e.headerColor,o=e.headerFontColor,i=c.a.useMemo((function(){return{fuzzyText:b,text:function(e,t,a){return e.filter((function(e){var n=e.values[t];return void 0===n||String(n).toLowerCase().startsWith(String(a).toLowerCase())}))}}}),[]),u=c.a.useMemo((function(){return{Filter:E}}),[]),d=Object(s.useTable)({columns:t,data:a,defaultColumn:u,filterTypes:i,initialState:{pageIndex:0}},s.useFilters,s.useSortBy,s.usePagination),g=d.getTableProps,p=d.getTableBodyProps,f=d.headerGroups,h=d.page,v=d.prepareRow,y=d.canPreviousPage,N=d.canNextPage,C=d.pageOptions,_=d.pageCount,x=d.gotoPage,k=d.nextPage,O=d.previousPage,j=d.setPageSize,z=d.state,w=z.pageIndex,S=z.pageSize;return c.a.createElement("div",{className:"table-responsive"},l?c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(0)},disabled:!y},"<<")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O()},disabled:!y},"<")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return k()},disabled:!N},">")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(_-1)},disabled:!N},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,w+1," de ",C.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:w+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;x(t)},className:"inputPage"},"onChange",(function(e){e.target.value>C.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:S,onChange:function(e){j(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",c.a.createElement("table",Object.assign({},g(),{className:"table table-bordered"}),c.a.createElement("thead",null,f.map((function(e){return c.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return c.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{style:{backgroundColor:r||"rgb(218, 236, 242)",color:o||"black"}}),e.render("Header"),c.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),c.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),c.a.createElement("tbody",Object.assign({},p(),{className:"text-center"}),h.map((function(e,t){return v(e)||c.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return c.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(0)},disabled:!y},"<<")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O()},disabled:!y},"<")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return k()},disabled:!N},">")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(_-1)},disabled:!N},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,w+1," de ",C.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:w+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;x(t)},className:"inputPage"},"onChange",(function(e){e.target.value>C.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:S,onChange:function(e){j(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}b.autoRemove=function(e){return!e};t.a=function(e){var t=e.data,a=e.columns,n=e.menuTop,l=e.headerColor,r=e.headerFontColor;return c.a.createElement(d,null,c.a.createElement(g,{data:t,columns:a,menuTop:n,headerFontColor:r,headerColor:l}))}},612:function(e,t,a){},617:function(e,t,a){"use strict";var n=a(1),l=a.n(n),r=a(63),c=a(201),o=a(28);t.a=function(e){var t=Object(r.a)(e,{activeKey:"onSelect"}),a=t.id,s=t.generateChildId,i=t.onSelect,m=t.activeKey,u=t.transition,d=t.mountOnEnter,E=t.unmountOnExit,b=t.children,g=Object(n.useMemo)((function(){return s||function(e,t){return a?a+"-"+t+"-"+e:null}}),[a,s]),p=Object(n.useMemo)((function(){return{onSelect:i,activeKey:m,transition:u,mountOnEnter:d||!1,unmountOnExit:E||!1,getControlledId:function(e){return g(e,"tabpane")},getControllerId:function(e){return g(e,"tab")}}}),[i,m,u,d,E,g]);return l.a.createElement(c.a.Provider,{value:p},l.a.createElement(o.a.Provider,{value:i||null},b))}},618:function(e,t,a){"use strict";var n=a(2),l=a(4),r=a(6),c=a.n(r),o=a(1),s=a.n(o),i=a(7),m=s.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.as,o=void 0===r?"div":r,m=e.className,u=Object(l.a)(e,["bsPrefix","as","className"]),d=Object(i.a)(a,"tab-content");return s.a.createElement(o,Object(n.a)({ref:t},u,{className:c()(m,d)}))}));t.a=m},619:function(e,t,a){"use strict";var n=a(2),l=a(4),r=a(6),c=a.n(r),o=a(1),s=a.n(o),i=a(7),m=a(201),u=a(28),d=a(620);var E=s.a.forwardRef((function(e,t){var a=function(e){var t=Object(o.useContext)(m.a);if(!t)return e;var a=t.activeKey,r=t.getControlledId,c=t.getControllerId,s=Object(l.a)(t,["activeKey","getControlledId","getControllerId"]),i=!1!==e.transition&&!1!==s.transition,E=Object(u.b)(e.eventKey);return Object(n.a)({},e,{active:null==e.active&&null!=E?Object(u.b)(a)===E:e.active,id:r(e.eventKey),"aria-labelledby":c(e.eventKey),transition:i&&(e.transition||s.transition||d.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:s.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:s.unmountOnExit})}(e),r=a.bsPrefix,E=a.className,b=a.active,g=a.onEnter,p=a.onEntering,f=a.onEntered,h=a.onExit,v=a.onExiting,y=a.onExited,N=a.mountOnEnter,C=a.unmountOnExit,_=a.transition,x=a.as,k=void 0===x?"div":x,O=(a.eventKey,Object(l.a)(a,["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"])),j=Object(i.a)(r,"tab-pane");if(!b&&!_&&C)return null;var z=s.a.createElement(k,Object(n.a)({},O,{ref:t,role:"tabpanel","aria-hidden":!b,className:c()(E,j,{active:b})}));return _&&(z=s.a.createElement(_,{in:b,onEnter:g,onEntering:p,onEntered:f,onExit:h,onExiting:v,onExited:y,mountOnEnter:N,unmountOnExit:C},z)),s.a.createElement(m.a.Provider,{value:null},s.a.createElement(u.a.Provider,{value:null},z))}));E.displayName="TabPane",t.a=E},650:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var n=a(1),l=a.n(n);function r(e,t){var a=0;return l.a.Children.map(e,(function(e){return l.a.isValidElement(e)?t(e,a++):e}))}function c(e,t){var a=0;l.a.Children.forEach(e,(function(e){l.a.isValidElement(e)&&t(e,a++)}))}},655:function(e,t,a){"use strict";var n=a(2),l=a(4),r=a(1),c=a.n(r),o=(a(307),a(63)),s=a(600),i=a(211),m=a(210),u=a(617),d=a(618),E=a(619),b=a(650);function g(e){var t=e.props,a=t.title,n=t.eventKey,l=t.disabled,r=t.tabClassName,o=t.id;return null==a?null:c.a.createElement(m.a,{as:i.a,eventKey:n,disabled:l,id:o,className:r},a)}var p=function(e){var t=Object(o.a)(e,{activeKey:"onSelect"}),a=t.id,r=t.onSelect,i=t.transition,m=t.mountOnEnter,p=t.unmountOnExit,f=t.children,h=t.activeKey,v=void 0===h?function(e){var t;return Object(b.a)(e,(function(e){null==t&&(t=e.props.eventKey)})),t}(f):h,y=Object(l.a)(t,["id","onSelect","transition","mountOnEnter","unmountOnExit","children","activeKey"]);return c.a.createElement(u.a,{id:a,activeKey:v,onSelect:r,transition:i,mountOnEnter:m,unmountOnExit:p},c.a.createElement(s.a,Object(n.a)({},y,{role:"tablist",as:"nav"}),Object(b.b)(f,g)),c.a.createElement(d.a,null,Object(b.b)(f,(function(e){var t=Object(n.a)({},e.props);return delete t.title,delete t.disabled,delete t.tabClassName,c.a.createElement(E.a,t)}))))};p.defaultProps={variant:"tabs",mountOnEnter:!1,unmountOnExit:!1},p.displayName="Tabs",t.a=p},656:function(e,t,a){"use strict";var n=a(19),l=a(1),r=a.n(l),c=a(617),o=a(618),s=a(619),i=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(r.a.Component);i.Container=c.a,i.Content=o.a,i.Pane=s.a,t.a=i},667:function(e,t,a){"use strict";var n=a(1),l=a.n(n),r=(a(612),a(831)),c=a(598),o=a(197),s=a(301),i=a(31);t.a=function(e){return l.a.createElement(r.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(r.a.Header,{closeButton:!0,className:"header_dark"},l.a.createElement(r.a.Title,{id:"contained-modal-title-vcenter"},"Acciones Disponibles")),l.a.createElement(r.a.Body,null,e.cotization.status>=1&&e.cotization.status<=3?l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"title_principal"},"Acciones generales"),l.a.createElement("hr",null),e.isInvoice?l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.seeDetailCotization(e.cotization)},block:!0},"Ver Detalle ",l.a.createElement(i.j,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.goToBond(e.cotization)},block:!0},"Pagos ",l.a.createElement(i.p,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization)},block:!0},"Ver factura pdf ",l.a.createElement(i.p,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.noteCredit(e.cotization)},block:!0},"Nota de cr\xe9dito o Debito ",l.a.createElement(i.p,null)))):e.isGuide?l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:4,md:4,lg:4},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.seeDetailCotization(e.cotization)},block:!0},"Ver Detalle ",l.a.createElement(i.j,null))),l.a.createElement(o.a,{sm:4,md:4,lg:4},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.goToInvoice(e.cotization.id)},block:!0},"Facturar ",l.a.createElement(i.o,null))),l.a.createElement(o.a,{sm:4,md:4,lg:4},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization)},block:!0},"Ver factura pdf ",l.a.createElement(i.p,null)))):l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.seeDetailCotization(e.cotization)},block:!0},"Ver Detalle ",l.a.createElement(i.j,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.goToBond(e.cotization)},block:!0},"Pagos ",l.a.createElement(i.p,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization)},block:!0},"Ver factura pdf ",l.a.createElement(i.p,null))),2==e.cotization.type?l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization,3)},block:!0},"Generar nueva factura pdf ",l.a.createElement(i.p,null))):""),l.a.createElement("br",null),2!=e.cotization.status?l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:12,md:12,lg:12},l.a.createElement("h5",{className:"title_principal"},"Anular Documento"),l.a.createElement("hr",null)),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.anulateInvoice(e.cotization)},block:!0},"Anular Documento ",l.a.createElement(i.a,null)))):""):l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"title_principal"},"Acciones generales"),l.a.createElement("hr",null),l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.seeDetailCotization(e.cotization)},block:!0},"Ver Detalle ",l.a.createElement(i.j,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization)},block:!0},"Ver factura pdf ",l.a.createElement(i.p,null)))))),l.a.createElement(r.a.Footer,null,l.a.createElement(s.a,{variant:"danger",size:"md",onClick:e.onHide},"Cerrar")))}},668:function(e,t,a){"use strict";var n=a(32),l=a(18),r=a(1),c=a.n(r),o=a(598),s=a(197),i=a(661),m=a(662),u=a(301),d=a(607),E=a(88),b=(a(9),a(17)),g=a(31),p=(a(157),a(659)),f=a(10),h={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0},v={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},maintainAspectRatio:!1},y={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},N={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},C={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},_={labels:[],datasets:[{label:"Monto acumulado de pagos hechos por mes",backgroundColor:"rgb(15, 13, 74)",borderColor:"rgb(27, 13, 74)",borderWidth:1,hoverBackgroundColor:"rgb(15, 13, 74)",hoverBorderColor:"rgb(27, 13, 74)",data:[]}]},x={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"rgb(125, 81, 52)",borderColor:"rgb(99, 56, 21)"}]};t.a=function(e){Object(r.useEffect)((function(){e.redraw&&(y={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},C={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},_={labels:[],datasets:[{label:"Monto acumulado de pagos hechos por mes",backgroundColor:"rgb(15, 13, 74)",borderColor:"rgb(27, 13, 74)",borderWidth:1,hoverBackgroundColor:"rgb(15, 13, 74)",hoverBorderColor:"rgb(27, 13, 74)",data:[]}]},x={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"rgb(125, 81, 52)",borderColor:"rgb(99, 56, 21)"}]},N={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},k())}),[e.redraw]);var t=function(t){e.setDataForm(Object(l.a)(Object(l.a)({},e.dataForm),{},Object(n.a)({},t.target.name,t.target.value)))},k=function(){e.statusCotization.statuses.forEach((function(e,t){y.labels.push(e.status),y.datasets[0].data.push(parseFloat(e.total)),y.datasets[0].backgroundColor.push(f.c[t]),y.datasets[0].hoverBackgroundColor.push(f.c[t])})),e.statusCotization.statusesBonds.forEach((function(e,t){C.labels.push(e.status),C.datasets[0].data.push(parseFloat(e.total)),C.datasets[0].backgroundColor.push(f.c[t]),C.datasets[0].hoverBackgroundColor.push(f.c[t])})),e.statusCotization.bondsByMonth.forEach((function(e,t){_.labels.push(e.mes),_.datasets[0].data.push(e.total)})),e.statusCotization.invoiceByYear.forEach((function(e,t){x.labels.push(e.year),x.datasets[0].data.push(e.total)})),e.statusCotization.totalByStatus.forEach((function(e,t){N.labels.push(e.name),N.datasets[0].data.push(parseFloat(e.total)),N.datasets[0].backgroundColor.push(f.c[t]),N.datasets[0].hoverBackgroundColor.push(f.c[t])}))},O=function(t){e.handleDisplayFilter(t)};return c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:12,md:12,lg:12,xs:12},c.a.createElement(i.a,null,c.a.createElement(m.a,null,c.a.createElement(i.a.Toggle,{as:m.a.Header,eventKey:"0",className:"header_card"},c.a.createElement("b",null,"Estad\xedsticas")," ",c.a.createElement(g.d,null)),c.a.createElement(i.a.Collapse,{eventKey:"0"},c.a.createElement(m.a.Body,null,c.a.createElement(o.a,{className:"justify-content-center"},1==e.displayFilter?c.a.createElement(s.a,{sm:2,md:2,lg:2},c.a.createElement(u.a,{variant:"secondary",type:"button",size:"sm",block:!0,onClick:function(){return O(2)}},"Activar Filtros")):2==e.displayFilter?c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{type:"date",label:"Fecha desde",name:"date_desde",required:!0,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.dataForm.date_desde,handleChange:t}),c.a.createElement(E.a,{type:"date",label:"Fecha Hasta",name:"date_hasta",required:!0,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.dataForm.date_hasta,handleChange:t}),c.a.createElement(s.a,{sm:3,md:3,lg:3},c.a.createElement("br",null),c.a.createElement(u.a,{variant:"danger",type:"button",size:"sm",block:!0,onClick:function(){e.handleStadistics()}},"Buscar")),c.a.createElement(s.a,{sm:3,md:3,lg:3},c.a.createElement("br",null),c.a.createElement(u.a,{variant:"secondary",type:"button",size:"sm",block:!0,onClick:function(){return O(1)}},"Ocultar Filtros"))):c.a.createElement(s.a,{sm:12,md:12,lg:12,className:"text-center"},c.a.createElement("br",null),c.a.createElement(d.a,{src:a(309),width:"30"}),c.a.createElement("br",null),"Cargando datos...")),c.a.createElement("br",null),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:6,md:6,lg:6,style:{height:"150px"}},c.a.createElement(p.b,{data:y,redraw:e.redraw,options:h})),c.a.createElement(s.a,{sm:6,md:6,lg:6},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",colSpan:"2",style:{backgroundColor:"rgb(147, 52, 12)",color:"white"}},"Monto acumulado por estados")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Estado"),c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Total"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(e.statusCotization).length>0?c.a.createElement(c.a.Fragment,null,e.statusCotization.statuses.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,t.status),c.a.createElement("td",null,e.configGeneral.simbolo_moneda,Object(b.g)(e.configGeneral,t.total)))}))):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"3",className:"text-center"},"Sin registros...")))))),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:6,md:6,lg:6},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",colSpan:"2",style:{backgroundColor:"rgb(21, 26, 88)",color:"white"}},"Monto pagado por estados")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Estado"),c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Total"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(e.statusCotization).length>0?c.a.createElement(c.a.Fragment,null,e.statusCotization.statusesBonds.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,t.status),c.a.createElement("td",null,e.configGeneral.simbolo_moneda,Object(b.g)(e.configGeneral,t.total)))}))):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"3",className:"text-center"},"Sin registros..."))))),c.a.createElement(s.a,{sm:6,md:6,lg:6,style:{height:"150px"}},c.a.createElement(p.b,{data:C,redraw:e.redraw,options:h}))),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:12,md:12,lg:12,style:{height:"200px"}},c.a.createElement(p.a,{data:_,options:h,redraw:e.redraw}))),c.a.createElement("br",null),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:6,md:6,lg:6,style:{height:"200px"}},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",colSpan:"2",style:{backgroundColor:"rgb(147, 52, 12)",color:"white"}},"Total ",1==e.dataForm.type?"facturas":2==e.dataForm.type?"notas de ventas":"boletas"," realizadas")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Estado"),c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Total"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(e.statusCotization).length>0?c.a.createElement(c.a.Fragment,null,e.statusCotization.totalByStatus.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.total))}))):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"3",className:"text-center"},"Sin registros..."))))),c.a.createElement(s.a,{sm:6,md:6,lg:6,style:{height:"150px"},className:"text-center"},c.a.createElement(p.b,{data:N,redraw:e.redraw,options:h}))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:12,md:12,lg:12,style:{height:"200px"}},c.a.createElement(p.d,{data:x,options:v})))))))))}},844:function(e,t,a){"use strict";a.r(t);var n=a(18),l=a(15),r=a(1),c=a.n(r),o=a(301),s=a(609),i=a(608),m=a(598),u=a(197),d=a(655),E=a(656),b=a(831),g=a(611),p=a(9),f=a.n(p),h=a(10),v=a(8),y=a(17),N=a(31),C=a(614),_=a(613),x=a(50),k=a(157),O=(a(612),a(29)),j=a(667),z=a(615),w=a(668),S=a(32),G=a(89),F=a(47),P=a(88),D=a(77),T=function(e){var t=Object(r.useState)(!1),a=Object(l.a)(t,2),i=a[0],d=a[1],E=Object(r.useState)({type_operation:null,type_note:null,products:[],sectionDisplay:1,cotization:{},reason_ref:""}),g=Object(l.a)(E,2),p=g[0],x=g[1],k=Object(r.useState)(!1),O=Object(l.a)(k,2),j=O[0],z=O[1],w=Object(r.useState)([]),T=Object(l.a)(w,2),B=T[0],H=T[1],R=Object(r.useRef)(null);Object(r.useEffect)((function(){if(e.isShow){var t=Object.assign({},e.invoiceObject),a=Object(G.a)(t.products);x(Object(n.a)(Object(n.a)({},p),{},{products:a,cotization:t})),H(a)}else e.invoiceObject.products=B,x({type_operation:null,type_note:null,products:[],sectionDisplay:1,cotization:{},reason_ref:""})}),[e.isShow]);var I=function(){e.onHide()},M=function(t){if(!1!==R.current.checkValidity()){var a=Object.assign({},p,{typeSubmit:t});d(!0),f.a.post(h.b+"invoice_note_credit",a).then((function(t){v.b.success("Nota de ".concat(a.type_operation?"Cr\xe9dito":"D\xe9bito"," realizada con \xe9xito")),d(!1),e.fetchData(),t.data.forEach((function(e,t){window.open(e.pdf_public_url,"_blank")})),setTimeout((function(){e.onHide()}),1e3)})).catch((function(e){d(!1),e.response?v.b.error(e.response.data.message):(console.log(e),v.b.error("Error, contacte con soporte"))}))}else z(!0)},A=function(e){if(e.persist(),"reason_ref"===e.target.name)x(Object(n.a)(Object(n.a)({},p),{},Object(S.a)({},e.target.name,e.target.value)));else if("type_note"===e.target.name){var t,a="true"===e.target.value;x(Object(n.a)(Object(n.a)({},p),{},(t={},Object(S.a)(t,e.target.name,a),Object(S.a)(t,"sectionDisplay",2),t)))}else if("type_operation"===e.target.name){var l,r="true"===e.target.value;x(Object(n.a)(Object(n.a)({},p),{},(l={},Object(S.a)(l,e.target.name,r),Object(S.a)(l,"sectionDisplay",r?4:3),l)))}},V=function(){x(Object(n.a)(Object(n.a)({},p),{},{sectionDisplay:p.sectionDisplay-1>0?p.sectionDisplay-1:p.sectionDisplay}))},K=function(e,t){var a=Object(G.a)(p.products);a[t][e.target.name]=e.target.value,x(Object(n.a)(Object(n.a)({},p),{},{products:a}))},q=function(e){return 1==e?"Unidad":2==e?"Mayorista":"Litros, Kg, Etc..."};return c.a.createElement(b.a,{show:e.isShow,onHide:I,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(b.a.Header,{closeButton:!0,className:"header_dark"},c.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},"Nota para la factura ",Object.keys(p.cotization).length>0&&p.cotization.ref?p.cotization.ref:""," ",c.a.createElement(N.m,null))),c.a.createElement(F.a,{onSubmit:function(){},noValidate:!0,validated:j,ref:R},i?c.a.createElement(b.a.Body,null,c.a.createElement(D.a,null)):c.a.createElement(b.a.Body,null,1==p.sectionDisplay?c.a.createElement(m.a,{className:"justify-content-center"},c.a.createElement(u.a,{sm:4,md:4,lg:4},c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,className:"text-center"},c.a.createElement("b",null,"Tipo de Nota"))),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:6,md:6,lg:6},c.a.createElement(F.a.Group,null,c.a.createElement(F.a.Check,{name:"type_note",type:"radio",id:"radio-5",label:"Cr\xe9dito",value:!0,checked:!0===p.type_note,required:!0,onChange:A}))),c.a.createElement(u.a,{sm:6,md:6,lg:6,className:"text-right"},c.a.createElement(F.a.Group,null,c.a.createElement(F.a.Check,{name:"type_note",type:"radio",id:"radio-6",label:"Debito",value:!1,required:!0,checked:!1===p.type_note,onChange:A})))))):2==p.sectionDisplay?c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{className:"justify-content-center"},c.a.createElement(u.a,{sm:4,md:4,lg:4},c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,className:"text-center"},c.a.createElement("b",null,"Tipo de Operaci\xf3n"))),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:6,md:6,lg:6},c.a.createElement(F.a.Group,null,c.a.createElement(F.a.Check,{name:"type_operation",type:"radio",id:"radio-5",label:"Anulaci\xf3n",value:!0,checked:!0===p.type_operation,required:!0,onChange:A}))),c.a.createElement(u.a,{sm:6,md:6,lg:6,className:"text-right"},c.a.createElement(F.a.Group,null,c.a.createElement(F.a.Check,{name:"type_operation",type:"radio",id:"radio-6",label:"Parcial",value:!1,required:!0,checked:!1===p.type_operation,onChange:A})))))),c.a.createElement(m.a,{className:"justify-content-center"},c.a.createElement(u.a,{sm:4,md:4,lg:4,xl:4},c.a.createElement(o.a,{variant:"danger",block:!0,size:"sm",type:"button",onClick:V},"Ir atras")))):3===p.sectionDisplay?c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"title_principal text-center"},"Modificar Productos para la nota"))),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,className:"table-responsive"},c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",{style:{backgroundColor:"rgb(218,236,242)",fontWeight:"bold"}},c.a.createElement("th",{className:"text-center"},"Categoria"),c.a.createElement("th",{className:"text-center"},"Producto"),c.a.createElement("th",{className:"text-center"},"Precio"),c.a.createElement("th",{className:"text-center"},"M\xe9todo de Venta"),c.a.createElement("th",{className:"text-center"},"Inventariable"),c.a.createElement("th",{className:"text-center"},"Stock Inventario"),c.a.createElement("th",{className:"text-center"},"Cantidad"),c.a.createElement("th",{className:"text-center"}))),c.a.createElement("tbody",{className:"text-center"},p.products.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,c.a.createElement("br",null),e.category),c.a.createElement("td",null,c.a.createElement("br",null),e.name_product),c.a.createElement("td",null,c.a.createElement(P.a,{type:"text",id:"price-"+t,name:"price",required:!0,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:p.products[t].price,handleChange:function(e){return K(e,t)}})),c.a.createElement("td",null,c.a.createElement("br",null),q(e.method_sale)),c.a.createElement("td",null,c.a.createElement("br",null),e.id_product?c.a.createElement(s.a,{variant:"primary",className:"font-badge"},"Si"):c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"No")),c.a.createElement("td",null,c.a.createElement("br",null),e.id_product?e.products?Array.isArray(e.products.inventary)?e.products.inventary[0].stock:e.products.inventary.stock:e.inventary?e.inventary[0].stock:"Sin Stock":"Sin Stock"),c.a.createElement("td",null,c.a.createElement(P.a,{type:"text",id:"quantity-"+t,name:"quantity",required:!0,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:p.products[t].quantity,handleChange:function(e){return K(e,t)}})),c.a.createElement("td",null,c.a.createElement("br",null),c.a.createElement(C.a,{placement:"bottom",overlay:c.a.createElement(_.a,{id:"tooltip-modal-credit-"+t},"Remover producto de la nota")},c.a.createElement(o.a,{variant:"danger",block:!0,size:"sm",onClick:function(){return function(e){var t=Object(G.a)(p.products);t.splice(e,1),x(Object(n.a)(Object(n.a)({},p),{},{products:t}))}(t)}},c.a.createElement(N.L,null)))))})))))),c.a.createElement(m.a,{className:"justify-content-center"},c.a.createElement(P.a,{type:"text",label:"Raz\xf3n de Referencia",name:"reason_ref",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:p.reason_ref,handleChange:A})),c.a.createElement(m.a,{className:"justify-content-center"},c.a.createElement(u.a,{sm:4,md:4,lg:4},c.a.createElement(o.a,{variant:"primary",onClick:function(){return M(1)},block:!0,size:"sm",type:"button"},"Guardar y afectar inventario")),c.a.createElement(u.a,{sm:4,md:4,lg:4},c.a.createElement(o.a,{variant:"primary",onClick:function(){return M(2)},block:!0,size:"sm",type:"button"},"Guardar")),c.a.createElement(u.a,{sm:4,md:4,lg:4,xl:4},c.a.createElement(o.a,{variant:"danger",block:!0,size:"sm",type:"button",onClick:V},"Ir atras")))):c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"title_principal text-center"},"Modificar Productos para la nota"))),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,className:"table-responsive"},c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",{style:{backgroundColor:"rgb(218,236,242)",fontWeight:"bold"}},c.a.createElement("th",{className:"text-center"},"Categoria"),c.a.createElement("th",{className:"text-center"},"Producto"),c.a.createElement("th",{className:"text-center"},"Precio"),c.a.createElement("th",{className:"text-center"},"M\xe9todo de Venta"),c.a.createElement("th",{className:"text-center"},"Inventariable"),c.a.createElement("th",{className:"text-center"},"Stock Inventario"),c.a.createElement("th",{className:"text-center"},"Cantidad"))),c.a.createElement("tbody",{className:"text-center"},p.products.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,t.category),c.a.createElement("td",null,t.name_product),c.a.createElement("td",null,Object(y.g)(e.configGeneral,t.price)),c.a.createElement("td",null,q(t.method_sale)),c.a.createElement("td",null,t.id_product?c.a.createElement(s.a,{variant:"primary",className:"font-badge"},"Si"):c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"No")),c.a.createElement("td",null,t.id_product?t.products?Array.isArray(t.products.inventary)?t.products.inventary[0].stock:t.products.inventary.stock:t.inventary?t.inventary[0].stock:"Sin Stock":"Sin Stock"),c.a.createElement("td",null,t.quantity))})))))),c.a.createElement(m.a,{className:"justify-content-center"},c.a.createElement(P.a,{type:"text",label:"Raz\xf3n de Referencia",name:"reason_ref",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:p.reason_ref,handleChange:A})),c.a.createElement(m.a,{className:"justify-content-center"},c.a.createElement(u.a,{sm:4,md:4,lg:4},c.a.createElement(o.a,{variant:"primary",onClick:function(){return M(1)},block:!0,size:"sm",type:"button"},"Guardar y afectar inventario")),c.a.createElement(u.a,{sm:4,md:4,lg:4},c.a.createElement(o.a,{variant:"primary",onClick:function(){return M(2)},block:!0,size:"sm",type:"button"},"Guardar")),c.a.createElement(u.a,{sm:4,md:4,lg:4,xl:4},c.a.createElement(o.a,{variant:"danger",block:!0,size:"sm",type:"button",onClick:V},"Ir atras"))))),c.a.createElement(b.a.Footer,null,c.a.createElement(o.a,{size:"md",variant:"secondary",onClick:I},"Cerrar"))))},B=null,H=null;t.default=Object(O.b)((function(e){return{id_branch_office:e.enterpriseSucursal.id_branch_office,id_enterprise:e.enterpriseSucursal.id_enterprise,configGeneral:e.configs.config,configStore:e.configs.configStore}}),{})((function(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),p=a[0],O=a[1],S=Object(r.useState)([]),G=Object(l.a)(S,2),F=G[0],P=G[1],R=Object(r.useState)({}),I=Object(l.a)(R,2),M=I[0],A=I[1],V=Object(r.useState)(!1),K=Object(l.a)(V,2),q=K[0],Y=K[1],L=Object(r.useState)(!1),W=Object(l.a)(L,2),U=W[0],J=W[1],Z=Object(r.useState)({}),Q=Object(l.a)(Z,2),X=Q[0],$=Q[1],ee=Object(r.useState)(1),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],le=Object(r.useState)({date_desde:"",date_hasta:"",type:1}),re=Object(l.a)(le,2),ce=re[0],oe=re[1],se=Object(r.useState)(!1),ie=Object(l.a)(se,2),me=ie[0],ue=ie[1],de=Object(r.useState)({}),Ee=Object(l.a)(de,2),be=Ee[0],ge=Ee[1],pe=Object(r.useState)({}),fe=Object(l.a)(pe,2),he=fe[0],ve=fe[1],ye=Object(r.useState)(!1),Ne=Object(l.a)(ye,2),Ce=Ne[0],_e=Ne[1],xe=Object(r.useState)(!0),ke=Object(l.a)(xe,2),Oe=ke[0],je=ke[1];Object(r.useMemo)((function(){B=[{Header:"Referencia",accessor:"ref",Cell:function(e){var t=e.cell.row.original;return c.a.createElement(C.a,{placement:"bottom",overlay:c.a.createElement(_.a,{id:"tooltip-disabled2"},"Hacer click para acceder a las acciones de la factura")},c.a.createElement(o.a,{variant:"link",block:!0,type:"button",size:"sm",onClick:function(){return ze(t)}},t.ref))}},{Header:"Ref Cotizaci\xf3n",accessor:"ref_cotizacion"},{Header:"Ref Gu\xeda",accessor:"ref_guide"},{Header:"Rut Cliente",accessor:"rut_client"},{Header:"Raz\xf3n Social",accessor:"business_name_client",Cell:function(e){var t=e.cell.row.original;return c.a.createElement(C.a,{placement:"right",overlay:c.a.createElement(_.a,{id:"tooltip-disabled2"},c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Vendedor: ")," ",t.name_seller),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Fono del Vendedor: ")," ",t.phone_seller?t.phone_seller:"No posee"),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Contacto")," ",t.name_contact?t.name_contact:"No posee"),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Fono del Contacto: ")," ",t.phone_contact),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Comentario: ")," ",t.comment)))},c.a.createElement(o.a,{variant:"link",size:"sm",block:!0,type:"button"},t.business_name_client))}},{Header:"Tipo",accessor:function(e){return 1==e.type_invoicing?["Afecta"]:["Excento"]}},{Header:"Fecha-Emisi\xf3n",accessor:function(e){return[k(e.date_issue_invoice).format("DD-MM-YYYY")]}},{Header:"D\xedas de Vencimiento",accessor:"days_expiration"},{Header:"Status",accessor:function(e){return 1==e.status?["Pendiente"]:2==e.status?["Pagada"]:3==e.status?["Vencida"]:["Anulada"]},Cell:function(e){var t=e.cell.row.original;return 1==t.status?c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Pendiente"):2==t.status?c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Pagada"):3==t.status?c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Vencida"):c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Anulada")}},{Header:"Total Productos",accessor:"total_product",Cell:function(t){return c.a.createElement(C.a,{placement:"left",overlay:c.a.createElement(_.a,{id:"tooltip-total_pagar"+t.cell.row.original.id},c.a.createElement("ul",{className:"list-group"},t.cell.row.original.products.map((function(t,a){return c.a.createElement("li",{className:"list-group-item",key:a},c.a.createElement("b",null,"Producto"),": ",t.name_product,c.a.createElement("br",null),c.a.createElement("b",null,"Precio")," : ",e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.price),c.a.createElement("br",null),c.a.createElement("b",null,"Cantidad"),": ",t.quantity)}))))},c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_product)))}},{Header:"Total gastos",accessor:"total_gastos",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_gastos))}},{Header:"Total Iva",accessor:"total_iva",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_iva))}},{Header:"Descuento Global",accessor:"discount_global_amount",Cell:function(t){return c.a.createElement(C.a,{placement:"left",overlay:c.a.createElement(_.a,{id:"tooltip-total_pagar"+t.cell.row.original.id},t.cell.row.original.discount_global,"%")},c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.discount_global_amount)))}},{Header:"Total Balance",accessor:"total_balance",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_balance))}},{Header:"Abonado",accessor:"total_bond",Cell:function(t){return c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_bond))}},{Header:"Saldo Deudor",accessor:"debit_balance",Cell:function(t){return c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.debit_balance))}},{Header:"Acciones",Cell:function(e){var t=Object.assign({},e.cell.row.original);return c.a.createElement(o.a,{variant:"primary",block:!0,type:"button",size:"sm",onClick:function(){return ze(t)}},"Acciones")}}],H=[{Header:"Referencia",accessor:"ref"},{Header:"Ref Factura",accessor:"ref_invoice"},{Header:"Rut Cliente",accessor:"rut_client"},{Header:"Raz\xf3n Social",accessor:"business_name_client",Cell:function(e){var t=e.cell.row.original;return c.a.createElement(C.a,{placement:"right",overlay:c.a.createElement(_.a,{id:"tooltip-disabled2"},c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Vendedor: ")," ",t.name_seller),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Fono del Vendedor: ")," ",t.phone_seller?t.phone_seller:"No posee"),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Contacto")," ",t.name_contact?t.name_contact:"No posee"),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Fono del Contacto: ")," ",t.phone_contact),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Comentario: ")," ",t.comment)))},c.a.createElement(o.a,{variant:"link",size:"sm",block:!0,type:"button"},t.business_name_client))}},{Header:"Tipo",accessor:function(e){return 4==e.type?["Cr\xe9dito"]:["Debito"]}},{Header:"Fecha-Emisi\xf3n",accessor:function(e){return[k(e.date_issue_invoice).tz("America/Santiago").format("DD-MM-YYYY")]}},{Header:"D\xedas de Vencimiento",accessor:"days_expiration"},{Header:"Status",accessor:function(e){return["Facturada"]},Cell:function(e){if(1==e.cell.row.original.status)return c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Facturada")}},{Header:"Total Productos",accessor:"total_product",Cell:function(t){return c.a.createElement(C.a,{placement:"left",overlay:c.a.createElement(_.a,{id:"tooltip-total_pagar"+t.cell.row.original.id},c.a.createElement("ul",{className:"list-group"},t.cell.row.original.products.map((function(t,a){return c.a.createElement("li",{className:"list-group-item",key:a},c.a.createElement("b",null,"Producto"),": ",t.name_product,c.a.createElement("br",null),c.a.createElement("b",null,"Precio")," : ",e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.price),c.a.createElement("br",null),c.a.createElement("b",null,"Cantidad"),": ",t.quantity)}))))},c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_product)))}},{Header:"Total Iva",accessor:"total_iva",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_iva))}},{Header:"Descuento Global",accessor:"discount_global_amount",Cell:function(t){return c.a.createElement(C.a,{placement:"left",overlay:c.a.createElement(_.a,{id:"tooltip-total_pagar"+t.cell.row.original.id},t.cell.row.original.discount_global,"%")},c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.discount_global_amount)))}},{Header:"Total Balance",accessor:"total_balance",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_balance))}}]}),[]),Object(r.useEffect)((function(){return x.a.toggleCollapsed(),function(){B=null,H=null,x.a.toggleCollapsed()}}),[]),Object(r.useEffect)((function(){Ge(),Fe()}),[e.id_branch_office]),Object(r.useEffect)((function(){U&&we()}),[U]);var ze=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!Ce&&e&&ve(e),_e(!Ce)},we=function(){setTimeout((function(){J(!1)}),2e3)},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){var t=Object.assign({},e);ge(t),ze(),setTimeout((function(){ue(!me)}),1e3)}else ue(!me)},Ge=function(){var t=Object.assign({},ce),a=[f.a.get(h.b+"invoice/0/1"),f.a.post(h.b+"invoice_stadistics",t)];Promise.all(a).then((function(e){O(e[0].data),$(Object(n.a)(Object(n.a)({},X),{},{statusesBonds:e[1].data.statusesBonds,statuses:e[1].data.statuses,bondsByMonth:e[1].data.bondsByMonth,invoiceByYear:e[1].data.invoiceByYear,totalByStatus:e[1].data.totalByStatus})),setTimeout((function(){J(!0)}),1e3),je(!1)})).catch((function(t){je(!1),e.tokenExpired(t)}))},Fe=function(){var t=[f.a.get(h.b+"invoice/0/4")];Promise.all(t).then((function(e){P(e[0].data)})).catch((function(t){e.tokenExpired(t)}))},Pe=function(){Y(!q)},De=function(t){v.b.info("Anulando factura, esto podr\xeda tardar unos segundos... espere por favor"),je(!0),f.a.put(h.b+"invoice_status/"+t).then((function(e){v.b.success("Factura anulada con \xe9xito"),ve(Object(n.a)(Object(n.a)({},he),{},{status:4})),Ge()})).catch((function(t){je(!1),e.tokenExpired(t)}))};return c.a.createElement(i.a,{fluid:!0},c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:4,md:4,lg:4,className:"text-center"},c.a.createElement("h4",{className:"title_principal"},"Tabla de Facturas"),c.a.createElement(o.a,{block:!0,variant:"success",onClick:function(){e.history.replace("/invoice/create_invoice")},size:"sm"},"Nueva Factura ",c.a.createElement(N.y,null)),c.a.createElement("br",null),c.a.createElement(o.a,{block:!0,variant:"secondary",onClick:function(){f.a.get(h.b+"get_invoice_emitet").then((function(e){v.b.success("All its done")})).catch((function(e){e.response?v.b.error(e.response.data.message):(console.log(e),v.b.error("Error, contacte con soporte"))}))},size:"sm"},"Importar Facturas ",c.a.createElement(N.y,null))),c.a.createElement(u.a,{sm:4,md:4,lg:4,className:"text-center title_principal"},c.a.createElement("h4",null,"Total Facturas Realizadas"),c.a.createElement(s.a,{variant:"danger"},p.length)),c.a.createElement(u.a,{sm:4,md:4,lg:4,className:"text-center title_principal"},c.a.createElement("h4",null,"Total Notas Cr\xe9dito"),c.a.createElement(s.a,{variant:"danger"},F.length))),c.a.createElement("hr",null),Oe?c.a.createElement(D.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{setDataForm:oe,dataForm:ce,redraw:U,statusCotization:X,handleDisplayFilter:function(e){3==e&&oe({date_desde:"",date_hasta:""}),ne(e)},handleStadistics:function(){var t=Object.assign({},ce);ne(3),f.a.post(h.b+"invoice_stadistics",t).then((function(e){$(Object(n.a)(Object(n.a)({},X),{},{statusesBonds:e.data.statusesBonds,statuses:e.data.statuses,bondsByMonth:e.data.bondsByMonth,invoiceByYear:e.data.invoiceByYear,totalByStatus:e.data.totalByStatus})),setTimeout((function(){J(!0),ne(1)}),1e3)})).catch((function(t){ne(1),e.tokenExpired(t)}))},displayFilter:ae,configGeneral:e.configGeneral}),c.a.createElement("br",null),c.a.createElement(d.a,{defaultActiveKey:"invoice",id:"uncontrolled-tab-example"},c.a.createElement(E.a,{eventKey:"invoice",title:"Facturas"},c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,xs:12},c.a.createElement(g.a,{columns:B,data:p})))),c.a.createElement(E.a,{eventKey:"product",title:"Notas"},c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,xs:12},c.a.createElement(g.a,{columns:H,data:F})))))),c.a.createElement(b.a,{show:q,onHide:Pe,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(b.a.Header,{closeButton:!0,className:"header_dark"},c.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},"Detalles de la Factura N\xb0 ",Object.keys(M).length>0?M.ref:"")),c.a.createElement(b.a.Body,null,c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"title_principal text-center"},"Datos del Registrador"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Nombre"),c.a.createElement("th",{className:"text-center"},"Rut"),c.a.createElement("th",{className:"text-center"},"Direcci\xf3n"),c.a.createElement("th",{className:"text-center"},"Email"),c.a.createElement("th",{className:"text-center"},"Fono"),c.a.createElement("th",{className:"text-center"},"Pa\xeds"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement("tr",null,c.a.createElement("td",null,M.business_name_transmitter),c.a.createElement("td",null,M.rut_transmitter),c.a.createElement("td",null,M.address_transmitter),c.a.createElement("td",null,M.email_transmitter),c.a.createElement("td",null,M.phone_transmitter),c.a.createElement("td",null,M.country_transmitter)):"")))),c.a.createElement("br",null),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"title_principal text-center"},"Datos del Cliente"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Razon Social / Nombre"),c.a.createElement("th",{className:"text-center"},"Rut"),c.a.createElement("th",{className:"text-center"},"Direcci\xf3n"),c.a.createElement("th",{className:"text-center"},"Ciudad"),c.a.createElement("th",{className:"text-center"},"Comuna"),c.a.createElement("th",{className:"text-center"},"Giro"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement("tr",null,c.a.createElement("td",null,M.business_name_client),c.a.createElement("td",null,M.rut_client),c.a.createElement("td",null,M.address_client),c.a.createElement("td",null,M.city_client),c.a.createElement("td",null,M.comuna_client),c.a.createElement("td",null,M.spin_client)):"")))),c.a.createElement("br",null),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"title_principal text-center"},"Datos del Contacto"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Nombre"),c.a.createElement("th",{className:"text-center"},"Fono"),c.a.createElement("th",{className:"text-center"},"Email"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement("tr",null,c.a.createElement("td",null,M.name_contact),c.a.createElement("td",null,M.phone_contact),c.a.createElement("td",null,M.email_contact)):"")))),c.a.createElement("br",null),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"title_principal text-center"},"Datos del Vendedor"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Nombre"),c.a.createElement("th",{className:"text-center"},"Fono"),c.a.createElement("th",{className:"text-center"},"Email"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement("tr",null,c.a.createElement("td",null,M.name_seller),c.a.createElement("td",null,M.phone_seller),c.a.createElement("td",null,M.email_seller)):"")))),c.a.createElement("br",null),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,className:"table-responsive"},c.a.createElement("h4",{className:"title_principal text-center"},"Productos de la Factura"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Categoria"),c.a.createElement("th",{className:"text-center"},"Nombre"),c.a.createElement("th",{className:"text-center"},"Descripci\xf3n"),c.a.createElement("th",{className:"text-center"},"Cantidad"),c.a.createElement("th",{className:"text-center"},"Precio"),c.a.createElement("th",{className:"text-center"},"Descuento"),c.a.createElement("th",{className:"text-center"},"M\xe9todo de Venta"),c.a.createElement("th",{className:"text-center"},"Neto"),c.a.createElement("th",{className:"text-center"},"Total"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement(c.a.Fragment,null,M.products.map((function(t,a){return c.a.createElement("tr",null,c.a.createElement("td",null,t.category),c.a.createElement("td",null,t.name_product),c.a.createElement("td",null,t.description),c.a.createElement("td",null,t.quantity),c.a.createElement("td",null,e.configGeneral.simbolo_moneda,Object(y.a)(t.price,2,",",".")),c.a.createElement("td",null,t.discount),c.a.createElement("td",null,(n=t.method_sale,1===(n=parseInt(n))?"Unidad":2===n?"Mayorista":"(Litros, Kg, Etc..)")),c.a.createElement("td",null,t.is_neto?"Neto":"Iva"),c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(t.total,2,",","."))));var n}))):"")))),c.a.createElement("br",null),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,className:""},c.a.createElement("h4",{className:"title_principal text-center"},"Gastos de la Factura"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Descripci\xf3n"),c.a.createElement("th",{className:"text-center"},"Monto"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement(c.a.Fragment,null,M.gastos.map((function(t,a){return c.a.createElement("tr",null,c.a.createElement("td",null,t.description),c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(t.amount,2,",","."))))}))):"")))),c.a.createElement("br",null),Object.keys(M).length>0&&M.refs.length>0?c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,className:""},c.a.createElement("h4",{className:"title_principal text-center"},"Referencias de la Factura"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Tipo de Documento"),c.a.createElement("th",{className:"text-center"},"Referencia Cotiz."),c.a.createElement("th",{className:"text-center"},"Ind"),c.a.createElement("th",{className:"text-center"},"Fecha Ref."),c.a.createElement("th",{className:"text-center"},"Raz\xf3n de Referencia"),c.a.createElement("th",{className:"text-center"},"Tipo de C\xf3digo"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement(c.a.Fragment,null,M.refs.map((function(e,t){return c.a.createElement("tr",null,c.a.createElement("td",null,e.type_document),c.a.createElement("td",null,e.ref_invoice),c.a.createElement("td",null,e.ind),c.a.createElement("td",null,e.date_ref?k(e.date_ref).tz("America/Santiago").format("DD-MM-YYYY"):""),c.a.createElement("td",null,e.reason_ref),c.a.createElement("td",null,e.type_code))}))):"")))):"",c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,className:""},c.a.createElement("h4",{className:"title_principal text-center"},"Totales"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Total Neto"),c.a.createElement("th",{className:"text-center"},"Total Iva"),c.a.createElement("th",{className:"text-center"},"Total Gastos"),c.a.createElement("th",{className:"text-center"},"Total Descuento Global"),c.a.createElement("th",{className:"text-center"},"Total Balance"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(M.total_product,2,",","."))),c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(M.total_iva,2,",","."))),c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(M.total_gastos,2,",","."))),c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(M.discount_global_amount,2,",","."))),c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(M.total_balance,2,",",".")))):"")))),c.a.createElement("br",null),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:6,md:6,lg:6},Object.keys(M).length>0?c.a.createElement("h5",null,"Mostrar solo los Totales: ",c.a.createElement(s.a,{variant:"primary",className:"font-badge"},M.total_with_iva?"No":"Si")):""),c.a.createElement(u.a,{sm:6,md:6,lg:6,className:"text-center"},Object.keys(M).length>0?c.a.createElement("h5",null,"M\xe9todo de Pago: ",c.a.createElement(s.a,{variant:"primary",className:"font-badge"},M.way_of_payment)):""))),c.a.createElement(b.a.Footer,null,c.a.createElement(o.a,{size:"md",variant:"secondary",onClick:Pe},"cerrar"))),c.a.createElement(T,{isShow:me,onHide:Se,invoiceObject:be,fetchData:Fe,configGeneral:e.configGeneral}),c.a.createElement(j.a,{isShow:Ce,onHide:ze,cotization:he,printInvoice:function(e){v.b.info("Cargando documento, espere por favor"),window.open(e.name_pdf,"_target")},goToBond:function(t){e.history.replace("/invoice/invoice_bond/"+t.id)},noteCredit:Se,anulateInvoice:function(e){Object(z.confirmAlert)({customUI:function(t){var a=t.onClose;return c.a.createElement("div",{className:"custom-ui-edit"},c.a.createElement("h1",null,"\xbfEsta seguro?"),c.a.createElement("p",{className:"font-alert"},"\xbfDesea realmente anular este registro?"),c.a.createElement("button",{className:"button-alert",onClick:function(){De(e.id),a()}},"Si, Aceptar"),c.a.createElement("button",{className:"button-alert",onClick:a},"No"))}})},seeDetailCotization:function(e){A(e),Pe()},isInvoice:!0}))}))}}]);
//# sourceMappingURL=28.a38ba095.chunk.js.map