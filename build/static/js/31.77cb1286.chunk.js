(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[31],{691:function(e,a,t){},749:function(e,a,t){},750:function(e,a,t){"use strict";var l=t(20),n=t(18),r=t(1),c=t.n(r),s=t(23),m=t(19),i=t(693),o=t(692),u=(t(749),function(e){var a=e.plan,t=Object(n.a)(e,["plan"]),u=Object(r.useState)(!1),E=Object(l.a)(u,2),p=E[0],d=E[1],b=function(e){e.preventDefault(),t.handleUpdate(a)},g=function(e){var t=parseFloat(a.discount)*parseFloat(a.price)/100;return Object(s.a)(parseFloat(a.price)-t,2,",",".")},f=function(e){e.preventDefault(),t.handleSelect(a)},h=function(){d(!p)};return c.a.createElement(c.a.Fragment,null,a.especial?c.a.createElement("div",{className:"plan featured"},c.a.createElement("header",null,c.a.createElement("h4",{className:"plan-title"},a.name),c.a.createElement("div",{className:"plan-cost"},c.a.createElement("span",{className:a.discount?"plan-price-discount":"plan-price"},t.configGeneral&&t.configGeneral.simbolo_moneda?t.configGeneral.simbolo_moneda:"$",Object(s.a)(a.price,2,",",".")),a.discount?c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),c.a.createElement("span",{className:"plan-price"},t.configGeneral&&t.configGeneral.simbolo_moneda?t.configGeneral.simbolo_moneda:"$",g(a.price))):"",c.a.createElement("span",{className:"plan-type"},c.a.createElement("br",null),1==a.billing_period?"Mensual":a.billing_period+"-Meses"))),c.a.createElement("ul",{className:"plan-features"},c.a.createElement("li",null,c.a.createElement(m.g,null)," Descripcion:",a.description.length>9?c.a.createElement(c.a.Fragment,null,t.isModal?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{style:{color:"rgb(228, 90, 59)"},onMouseOver:h,onMouseLeave:h}," Ver detalle"),p?c.a.createElement("p",{style:{color:"white"}},a.description):""):c.a.createElement(i.a,{placement:"bottom",overlay:c.a.createElement(o.a,{id:"tooltip-plan"+a.id},c.a.createElement("b",null,"Descripci\xf3n: "),c.a.createElement("br",null),a.description)},c.a.createElement("span",{style:{color:"rgb(228, 90, 59)"}}," Ver detalle"))):c.a.createElement("span",null," ",a.description)),c.a.createElement("li",null,c.a.createElement(m.g,null)," Descuento: ",a.discount,"%"),c.a.createElement("li",null,c.a.createElement(m.g,null)," D\xedas de Prueba: ",a.day_test)),t.update?c.a.createElement("div",{className:"plan-select"},c.a.createElement("a",{href:"",onClick:b},"Modificar ",c.a.createElement("br",null)," O ",c.a.createElement("br",null)," Eliminar")):t.disabled?c.a.createElement("span",null):c.a.createElement("div",{className:"plan-select",onClick:f},c.a.createElement("a",{href:""},"Seleccionar"))):c.a.createElement("div",{className:"plan"},c.a.createElement("header",null,c.a.createElement("h4",{className:"plan-title"},a.name),c.a.createElement("div",{className:"plan-cost"},c.a.createElement("span",{className:a.discount?"plan-price-discount":"plan-price"},t.configGeneral&&t.configGeneral.simbolo_moneda?t.configGeneral.simbolo_moneda:"$",Object(s.a)(a.price,2,",",".")),a.discount?c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),c.a.createElement("span",{className:"plan-price"},t.configGeneral&&t.configGeneral.simbolo_moneda?t.configGeneral.simbolo_moneda:"$",g(a.price))):"",c.a.createElement("span",{className:"plan-type"},c.a.createElement("br",null),1==a.billing_period?"Mensual":a.billing_period+"-Meses"))),c.a.createElement("ul",{className:"plan-features"},c.a.createElement("li",null,c.a.createElement(m.g,null)," Descripcion:",a.description.length>9?c.a.createElement(c.a.Fragment,null,t.isModal?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{style:{color:"rgb(228, 90, 59)"},onMouseOver:h,onMouseLeave:h}," Ver detalle"),p?c.a.createElement("p",{style:{color:"white"}},a.description):""):c.a.createElement(i.a,{placement:"bottom",overlay:c.a.createElement(o.a,{id:"tooltip-plan"+a.id},c.a.createElement("b",null,"Descripci\xf3n: "),c.a.createElement("br",null),a.description)},c.a.createElement("span",{style:{color:"rgb(228, 90, 59)"}}," Ver detalle"))):c.a.createElement("span",null," ",a.description)),c.a.createElement("li",null,c.a.createElement(m.g,null)," Descuento: ",a.discount,"%"),c.a.createElement("li",null,c.a.createElement(m.g,null)," D\xedas de Prueba: ",a.day_test)),t.update?c.a.createElement("div",{className:"plan-select"},c.a.createElement("a",{href:"",onClick:b},"Modificar ",c.a.createElement("br",null)," O ",c.a.createElement("br",null)," Eliminar")):t.disabled?c.a.createElement("span",null):c.a.createElement("div",{className:"plan-select",onClick:f},c.a.createElement("a",{href:""},"Seleccionar"))))});u.defaultProps={configGeneral:JSON.parse(localStorage.getItem("configGeneral"))},a.a=u},868:function(e,a,t){},920:function(e,a,t){"use strict";t.r(a);var l=t(20),n=t(1),r=t.n(n),c=t(687),s=t(654),m=t(134),i=t(87),o=t(132),u=t(909),E=t(741),p=t(742),d=t(49),b=(t(691),t(12)),g=t.n(b),f=t(19),h=t(15),y=t(9),N=t(694),v=(t(29),t(23),t(59),t(18)),k=t(686),O=t(714),j=t(655),_=function(e){var a=e.enterprise,l=Object(v.a)(e,["enterprise"]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{style:{color:"rgb(180, 55, 33)",textTransform:"uppercase",fontSize:"12px"}},a.bussines_name),r.a.createElement(k.a,{src:t(178),style:{width:"200px"}}),r.a.createElement("br",null),r.a.createElement("span",{className:"letras_negras"},"Estado :")," ",a.is_open?r.a.createElement(c.a,{variant:"success",className:"font_badge"},"Abierta"):r.a.createElement(c.a,{variant:"danger",className:"font_badge"},"Cerrada"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{size:"sm",id:"drop"+a.id,title:"Acciones",style:{width:"100%"}},r.a.createElement(j.a.Item,{onClick:function(){return l.modifyRegister(a)}},"Modificar"),r.a.createElement(j.a.Item,{onClick:function(){return l.deleteRegister(a.id)}},"Eliminar"),r.a.createElement(j.a.Item,{onClick:function(){return l.displayDetails(a)}},"Ver detalles")))},C=(t(868),t(750)),D=t(109);a.default=function(e){var a=Object(n.useState)([]),t=Object(l.a)(a,2),b=t[0],v=t[1],k=Object(n.useState)(!1),O=Object(l.a)(k,2),j=O[0],G=O[1],M=Object(n.useState)([]),F=Object(l.a)(M,2),S=(F[0],F[1],Object(n.useState)({})),x=Object(l.a)(S,2),w=x[0],z=x[1],I=Object(n.useState)(!0),R=Object(l.a)(I,2),A=R[0],P=R[1];Object(n.useEffect)((function(){T()}),[]);var T=function(){g.a.get(h.b+"enterprise").then((function(e){v(e.data),P(!1)})).catch((function(a){P(!1),e.tokenExpired(a)}))},V=function(a){e.history.replace("/enterprise/form/"+a.id)},$=function(e){Object(N.confirmAlert)({customUI:function(a){var t=a.onClose;return r.a.createElement("div",{className:"custom-ui-edit"},r.a.createElement("h1",null,"\xbfEsta seguro?"),r.a.createElement("p",{className:"font-alert"},"\xbfDesea realmente borrar este registro?"),r.a.createElement("button",{className:"button-alert",onClick:function(){B(e),t()}},"Si, Aceptar"),r.a.createElement("button",{className:"button-alert",onClick:t},"No"))}})},B=function(a){P(!0),g.a.delete(h.b+"enterprise/"+a).then((function(e){y.b.success("Proceso completado"),T()})).catch((function(a){P(!1),e.tokenExpired(a)}))},H=function(){G(!j)},J=function(e){z(e),console.log(e,"aqui"),setTimeout((function(){H()}),200)};return r.a.createElement(r.a.Fragment,null,A?r.a.createElement(s.a,{fluid:!0},r.a.createElement(D.a,null)):r.a.createElement(s.a,{fluid:!0},r.a.createElement(m.a,{className:""},r.a.createElement(i.a,{sm:6,md:6,lg:6},r.a.createElement("h4",{className:"title_principal"},"Empresas Registradas")),r.a.createElement(i.a,{sm:6,md:6,lg:6,className:"text-center"},r.a.createElement("h4",{className:"title_principal"},"Total Empresas"),r.a.createElement(c.a,{variant:"danger"},b.length))),r.a.createElement("hr",null),r.a.createElement(m.a,{className:"justify-content-center"},r.a.createElement(i.a,{sm:6,md:6,lg:6},r.a.createElement(o.a,{size:"sm",variant:"success",block:!0,type:"button",onClick:function(){e.history.replace("/enterprise/form")}},"Crear Empresa ",r.a.createElement(f.C,null)),r.a.createElement("br",null)),r.a.createElement(i.a,{sm:12,md:12,lg:12},r.a.createElement(m.a,{className:"justify-content-center"},b.map((function(e,a){return r.a.createElement(i.a,{sm:4,md:4,lg:4,key:a,className:"text-center"},r.a.createElement(_,{enterprise:e,modifyRegister:V,deleteRegister:$,displayDetails:J}))}))))),r.a.createElement(u.a,{show:j,onHide:H,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,style:{zIndex:"1000000"}},r.a.createElement(u.a.Header,{closeButton:!0,className:"header_dark"},r.a.createElement(u.a.Title,{id:"contained-modal-title-vcenter"},"Detalles de la empresa ",Object.keys(w).length>0?w.bussines_name:"")),r.a.createElement(u.a.Body,null,r.a.createElement(m.a,{className:" justify-content-center"},r.a.createElement(i.a,{sm:5,md:5,lg:5,style:{textAligment:"justify"}},r.a.createElement("h4",{className:"title_principal"},"Datos de la Empresa"),r.a.createElement("ul",null,r.a.createElement("li",{className:"str"},r.a.createElement("b",null,"Rut"),": ",Object.keys(w).length>0?w.rut:""),r.a.createElement("li",{className:"str"},r.a.createElement("b",null,"Nombre"),": ",Object.keys(w).length>0?w.name:""),r.a.createElement("li",{className:"str"},r.a.createElement("b",null,"Fono"),": ",Object.keys(w).length>0?w.phone:""),r.a.createElement("li",{className:"str"},r.a.createElement("b",null,"Ciudad"),": ",Object.keys(w).length>0?w.city:""),r.a.createElement("li",{className:"str"},r.a.createElement("b",null,"Comuna"),": ",Object.keys(w).length>0?w.comuna:""),r.a.createElement("li",{className:"str"},r.a.createElement("b",null,"Direcci\xf3n"),": ",Object.keys(w).length>0?w.address:""))),r.a.createElement(i.a,{sm:4,md:4,lg:4},r.a.createElement("h4",{className:"title_principal"},"Plan de la Empresa"),r.a.createElement(m.a,{className:"snip1404"},r.a.createElement(i.a,{sm:12,md:12,lg:12},Object.keys(w).length>0?r.a.createElement(C.a,{plan:w.plan,disabled:!0,update:!1,isModal:!0}):""))),r.a.createElement(i.a,{sm:12,md:12,lg:12},r.a.createElement("br",null),r.a.createElement("br",null),Object.keys(w).length>0?r.a.createElement(E.a,null,r.a.createElement(p.a,null,r.a.createElement(E.a.Toggle,{as:p.a.Header,eventKey:"0",className:"header_card"},"Modulos del plan ( hacer click para desplegar )"),r.a.createElement(E.a.Collapse,{eventKey:"0"},r.a.createElement(p.a.Body,null,r.a.createElement(m.a,null,w.plan.modules.map((function(e,a){return r.a.createElement(i.a,{sm:4,md:4,lg:4,xs:6,key:a},r.a.createElement(d.a.Group,null,r.a.createElement(d.a.Check,{type:"checkbox",custom:!0,id:e.name_item+e.id,label:r.a.createElement("span",{className:""},e.name_item),value:e.id,checked:!0,readOnly:!0})))}))))))):""))),r.a.createElement(u.a.Footer,null,r.a.createElement(o.a,{size:"md",variant:"danger",type:"button",onClick:H},"Cerrar")))))}}}]);
//# sourceMappingURL=31.77cb1286.chunk.js.map