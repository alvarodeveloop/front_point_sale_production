(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[61],{611:function(e,a,t){"use strict";var n=t(47),r=t(119),l=t(1),i=t.n(l),c=t(120),o=t(621),s=t(622),u=t(301);function m(){var e=Object(r.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .table_responsive_eddit{\n    overflow-x: auto;\n  }\n"]);return m=function(){return e},e}var d=c.a.div(m());function p(e){var a=e.column,t=a.filterValue,n=a.preFilteredRows,r=a.setFilter,l=n.length;return i.a.createElement("input",{value:t||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(l," registros..."),className:"inputPageFilter"})}function g(e,a,t){return Object(s.a)(e,t,{keys:[function(e){return e.values[a]}]})}function b(e){var a=e.columns,t=e.data,r=e.menuTop,l=e.headerColor,c=e.headerFontColor,s=e.pageSizeHandler,m=i.a.useMemo((function(){return{fuzzyText:g,text:function(e,a,t){return e.filter((function(e){var n=e.values[a];return void 0===n||String(n).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),d=i.a.useMemo((function(){return{Filter:p}}),[]),b=Object(o.useTable)({columns:a,data:t,defaultColumn:d,filterTypes:m,initialState:{pageIndex:0,pageSize:s[0]}},o.useFilters,o.useSortBy,o.usePagination),f=b.getTableProps,E=b.getTableBodyProps,h=b.headerGroups,v=b.page,x=b.prepareRow,C=b.canPreviousPage,N=b.canNextPage,y=b.pageOptions,k=b.pageCount,P=b.gotoPage,z=b.nextPage,S=b.previousPage,j=b.setPageSize,w=b.state,O=w.pageIndex,_=w.pageSize;return i.a.createElement("div",{className:"table_responsive_eddit"},r?i.a.createElement("div",{className:"pagination"},i.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return P(0)},disabled:!C},"<<")," ",i.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return S()},disabled:!C},"<")," ",i.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return z()},disabled:!N},">")," ",i.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return P(k-1)},disabled:!N},">>")," ",i.a.createElement("span",null,"P\xe1gina"," ",i.a.createElement("strong",null,O+1," de ",y.length)," "),i.a.createElement("span",{className:"ml-3"},"| ",i.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),i.a.createElement("input",Object(n.a)({type:"number",defaultValue:O+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;P(a)},className:"inputPage"},"onChange",(function(e){e.target.value>y.length&&(e.target.value=1)}))))," ",i.a.createElement("select",{value:_,onChange:function(e){j(Number(e.target.value))},className:"inputPage"},s.map((function(e){return i.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",i.a.createElement("table",Object.assign({},f(),{className:"table table-bordered"}),i.a.createElement("thead",null,h.map((function(e){return i.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return i.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{style:{backgroundColor:l||"rgb(218, 236, 242)",color:c||"black"}}),e.render("Header"),i.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),i.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),i.a.createElement("tbody",Object.assign({},E(),{className:"text-center"}),v.map((function(e,a){return x(e)||i.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return i.a.createElement("td",Object.assign({style:{position:"relative"}},e.getCellProps()),e.render("Cell"))})))})))),i.a.createElement("div",{className:"pagination"},i.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return P(0)},disabled:!C},"<<")," ",i.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return S()},disabled:!C},"<")," ",i.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return z()},disabled:!N},">")," ",i.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return P(k-1)},disabled:!N},">>")," ",i.a.createElement("span",null,"P\xe1gina"," ",i.a.createElement("strong",null,O+1," de ",y.length)," "),i.a.createElement("span",{className:"ml-3"},"| ",i.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),i.a.createElement("input",Object(n.a)({type:"number",defaultValue:O+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;P(a)},className:"inputPage"},"onChange",(function(e){e.target.value>y.length&&(e.target.value=1)}))))," ",i.a.createElement("select",{value:_,onChange:function(e){j(Number(e.target.value))},className:"inputPage"},s.map((function(e){return i.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}g.autoRemove=function(e){return!e};a.a=function(e){var a=e.data,t=e.columns,n=e.menuTop,r=e.headerColor,l=e.headerFontColor,c=e.pageSizeHandler;return c=c||[10,20,30,40,50],i.a.createElement(d,null,i.a.createElement(b,{pageSizeHandler:c,data:a,columns:t,menuTop:n,headerFontColor:l,headerColor:r}))}},612:function(e,a,t){},801:function(e,a,t){"use strict";t.r(a);var n=t(15),r=t(1),l=t.n(r),i=t(31),c=t(9),o=t.n(c),s=t(608),u=t(598),m=t(197),d=t(301),p=t(609),g=t(632),b=t(599),f=t(839),E=t(8),h=t(10),v=t(611),x=t(614),C=t(613),N=t(615),y=(t(612),t(28)),k=t(77);a.default=Object(y.b)((function(e){return{id_branch_office:e.enterpriseSucursal.id_branch_office,id_enterprise:e.enterpriseSucursal.id_enterprise}}),{})((function(e){var a=Object(r.useState)([]),t=Object(n.a)(a,2),c=t[0],y=t[1],P=Object(r.useState)(!1),z=Object(n.a)(P,2),S=z[0],j=z[1],w=Object(r.useState)(""),O=Object(n.a)(w,2),_=O[0],F=(O[1],Object(r.useState)(!0)),H=Object(n.a)(F,2),T=H[0],R=H[1];Object(r.useEffect)((function(){M()}),[e.id_enterprise]);var I=function(a){R(!0),o.a.delete(h.b+"provider/"+a).then((function(e){E.b.success("Registro eliminado con \xe9xito"),M()})).catch((function(a){R(!1),e.tokenExpired(a)}))},B=function(a){e.history.replace("/provider/form/"+btoa(a))},M=function(){o.a.get(h.b+"provider").then((function(e){y(e.data),R(!1)})).catch((function(a){R(!1),e.tokenExpired(a)}))},A=function(a){e.history.replace("/provider/represent/"+a.id)},D=function(){j(!1)};return l.a.createElement(l.a.Fragment,null,T?l.a.createElement(s.a,null,l.a.createElement(k.a,null)):l.a.createElement(s.a,null,l.a.createElement(u.a,null,l.a.createElement(m.a,{sm:12,md:12,lg:12},l.a.createElement("h4",{className:"title_principal"},"Proveedores"),l.a.createElement("hr",null)),l.a.createElement(m.a,{sm:6,md:6,lg:6,xs:12,className:""},l.a.createElement(d.a,{size:"sm",title:"Crear Proveedor",onClick:function(){e.history.replace("/provider/form")},variant:"success",block:!0},"Crear Proveedor ",l.a.createElement(i.A,null))),l.a.createElement(m.a,{sm:6,md:6,lg:6,xs:12,className:"text-right"},l.a.createElement("h5",{className:"title_principal"},"Total Proveedores: ",l.a.createElement(p.a,{variant:"danger",className:"font_badge"},c.length)))),l.a.createElement(u.a,null,l.a.createElement(m.a,{sm:12,md:12,lg:12,xs:12},l.a.createElement(v.a,{columns:[{Header:"Raz\xf3n Social",accessor:"social_razon",Cell:function(e){return l.a.createElement(x.a,{placement:"right",overlay:l.a.createElement(C.a,{id:"tooltip-right"},l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item text-center"},l.a.createElement("b",null,"Pais:")," ",e.cell.row.original.pais.nombre),l.a.createElement("li",{className:"list-group-item text-center"},l.a.createElement("b",null,"Ciudad:"),"  ",e.cell.row.original.city),l.a.createElement("li",{className:"list-group-item text-center"},l.a.createElement("b",null,"Comuna:"),"  ",e.cell.row.original.comuna),l.a.createElement("li",{className:"list-group-item text-center"},l.a.createElement("b",null,"Detalles:"),"  ",e.cell.row.original.address)))},l.a.createElement(d.a,{size:"sm",type:"button",block:!0,variant:"link",onClick:function(){return B(e.cell.row.original.id)}},e.cell.row.original.social_razon))}},{Header:"Rut",accessor:"rut_provider"},{Header:"Tel\xe9fono",accessor:"phone"},{Header:"Spin",accessor:"spin"},{Header:"Acciones",Cell:function(e){var a=e.cell.row.original.id;return l.a.createElement(g.a,{size:"sm",id:"drop"+e.cell.row.original.id,title:"Seleccione",block:"true"},l.a.createElement(b.a.Item,{onClick:function(){return A(e.cell.row.original)}},"Crear Representante"),l.a.createElement(b.a.Item,{onClick:function(){return B(a)}},"Modificar"),l.a.createElement(b.a.Item,{onClick:function(){return function(e){Object(N.confirmAlert)({customUI:function(a){var t=a.onClose;return l.a.createElement("div",{className:"custom-ui-edit"},l.a.createElement("h1",null,"\xbfEsta seguro?"),l.a.createElement("p",{className:"font-alert"},"\xbfDesea realmente borrar este registro?"),l.a.createElement("button",{className:"button-alert",onClick:function(){I(e),t()}},"Si, Aceptar"),l.a.createElement("button",{className:"button-alert",onClick:t},"No"))}})}(a)}},"Eliminar"))}}],data:c}))),l.a.createElement(f.a,{show:S,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,handleClose:D},l.a.createElement(f.a.Header,{closeButton:!0,className:"header_dark"},l.a.createElement(f.a.Title,{id:"contained-modal-title-vcenter"},"Direcci\xf3n del Registro ",l.a.createElement(i.R,null))),l.a.createElement(f.a.Body,null,_),l.a.createElement(f.a.Footer,null,l.a.createElement(d.a,{size:"sm",onClick:D},"Cerrar")))))}))}}]);