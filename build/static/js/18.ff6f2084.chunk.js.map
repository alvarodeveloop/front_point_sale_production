{"version":3,"sources":["components/Table.jsx","components/modals/FormClientModal.jsx","components/AutoCompleteClientComponent.jsx","components/modals/ModalCotizacionProduct.jsx","components/modals/ModalGastosCotizacion.jsx","utils/columns/cotization.js","components/modals/ModalClientCotizacion.jsx","pages/CotizationPage.jsx"],"names":["Styles","styled","div","DefaultColumnFilter","column","filterValue","preFilteredRows","setFilter","count","length","value","onChange","e","target","undefined","placeholder","className","fuzzyTextFilterFn","rows","id","matchSorter","keys","row","values","DataTable","columns","data","filterTypes","React","useMemo","fuzzyText","text","filter","rowValue","String","toLowerCase","startsWith","defaultColumn","Filter","useTable","initialState","pageIndex","useFilters","useSortBy","usePagination","getTableProps","getTableBodyProps","headerGroups","page","prepareRow","canPreviousPage","canNextPage","pageOptions","pageCount","gotoPage","nextPage","previousPage","setPageSize","state","pageSize","map","headerGroup","getHeaderGroupProps","headers","getHeaderProps","getSortByToggleProps","render","isSorted","isSortedDesc","canFilter","i","getRowProps","cells","cell","getCellProps","size","variant","onClick","disabled","type","defaultValue","Number","key","autoRemove","val","Table","FormClientModal","props","useState","validate","setValidate","name_client","email","type_document","data_document","phone","address","observation","picture","client","setClient","useEffect","dataModify","updateClient","Object","assign","handleOnChange","name","handleOnHide","onHide","show","isShow","aria-labelledby","centered","Header","closeButton","Title","onSubmit","form","currentTarget","preventDefault","checkValidity","stopPropagation","dataSend","axios","put","API_URL","then","result","toast","success","catch","err","response","error","message","post","noValidate","validated","Body","sm","md","lg","xs","inputName","handleChange","inputEmail","inputTypeDocument","inputDataDocument","inputPhone","inputAddress","inputObservation","Footer","defaultProps","required","label","cols","messageErrors","AutoCompleteClientComponent","setValue","resetValue","handleResetValueClient","placement","overlay","getItemValue","item","items","shouldItemRender","indexOf","toString","renderItem","isHighlighted","style","background","onSelect","returnValue","table_inventary","ModalCotizacionProduct","showSection","setShowSection","cantidadProduct","setCantidadProduct","productChoice","setProductChoice","name_product","is_neto","tax_additional","quantity","unity","concept","description","price","unit_price_with_tax","amount_discount_recharge","type_discount_recharge","type_amount_discount_recharge","price_total","price_backup_unit","price_total_with_tax","not_registered","productNew","setProductNew","validateForm","setValidateForm","inputRefQuantity","useRef","accessor","Cell","original","Button","block","selectProduct","calculatePriceWithTax","calculo","parseFloat","tax_extra","calculo_with_tax","total_price_unit_with_tax","total_price","total_price_with_tax","calculateDiscountOrRecharge","price_new","cleanData","onChangeNewProduct","persist","productCopy","substring","setTimeout","current","focus","Modal","backdrop","backgroundColor","color","Container","Row","Col","Tabs","defaultActiveKey","Tab","eventKey","title","Fragment","ref","handleSelectProduct","products","Form","checked","inputNameProduct","inputTaxAditional","inputQuantity","inputUnity","inputConcept","inputDescription","inputUnitPrice","inputUnitPriceTax","inputTypeAmountRechargeDiscount","inputAmountDiscountRecharge","inputTypeRechargeDiscount","vale","inputPriceTotal","inputPriceTotalTax","readonly","inputTypeDiscountRecharge","ModalGastosCotizacion","amount","gastoNew","setGastoNew","inputElement","gastoSubmit","handleGastoSubmit","Control","Feedback","inputAmount","GastosCotizacion","client_columns","ModalClientCotizacion","clientSelect","setClientSelect","disableButton","setDisableButton","props1","addOrRemoveClient","v","clients","handleClientSubmit","document","querySelectorAll","forEach","DetailCotizacion","CotizationPage","setClients","clientDetail","setClientDetail","detailProducts","setDetailProducts","isShowModalClient","setIsShowModalClient","isShowModalGastos","setIsShowModalGastos","isShowModalProduct","setIsShowModalProduct","setProducts","resetValueClient","setResetValueClient","gastosDetail","setGastosDetail","openModalClientMail","setOpenModalClientMail","disableButtons","commentCotizacion","setCommentCotizacion","fetchClients","fetchProducts","match","params","fetchDataUpdate","showPriceWithDecimals","configGeneral","tax","configStore","new_price","removeItemDetail","pop","push","removeGastoDetail","clearData","get","gastos","productsArray","products_not_registered","goToDashboard","history","replace","goToFacturation","submitData","object_post","comment","status","displayTotalProduct","total","displayTotalGastos","detail","saveCotizacion","split","find","for","DropdownButton","Dropdown","Item","navigator","clipboard","writeText","console","log","product","client_mail","JSON","parse","localStorage","getItem"],"mappings":"wsCAOA,IAAMA,EAASC,IAAOC,IAAV,KAmDZ,SAASC,EAAT,GAEI,IAAD,IADDC,OAAUC,EACT,EADSA,YAAaC,EACtB,EADsBA,gBAAiBC,EACvC,EADuCA,UAElCC,EAAQF,EAAgBG,OAE9B,OACE,2BACEC,MAAOL,GAAe,GACtBM,SAAU,SAAAC,GACRL,EAAUK,EAAEC,OAAOH,YAASI,IAE9BC,YAAW,oBAAeP,EAAf,iBACXQ,UAAU,oBAKhB,SAASC,EAAkBC,EAAMC,EAAId,GACnC,OAAOe,YAAYF,EAAMb,EAAa,CAAEgB,KAAM,CAAC,SAAAC,GAAG,OAAIA,EAAIC,OAAOJ,OAMnE,SAASK,EAAT,GAAuC,IAAlBC,EAAiB,EAAjBA,QAASC,EAAQ,EAARA,KAGtBC,EAAcC,IAAMC,SACxB,iBAAO,CAELC,UAAWb,EAGXc,KAAM,SAACb,EAAMC,EAAId,GACf,OAAOa,EAAKc,QAAO,SAAAV,GACjB,IAAMW,EAAWX,EAAIC,OAAOJ,GAC5B,YAAoBL,IAAbmB,GACHC,OAAOD,GACJE,cACAC,WAAWF,OAAO7B,GAAa8B,sBAK5C,IAGIE,EAAgBT,IAAMC,SAC1B,iBAAO,CAELS,OAAQnC,KAEV,IA5BkC,EA8ChCoC,mBACF,CACEd,UACAC,OACAW,gBACAV,cACAa,aAAc,CAAEC,UAAW,IAE7BC,aACAC,YACAC,iBAxBAC,EAhCkC,EAgClCA,cACAC,EAjCkC,EAiClCA,kBACAC,EAlCkC,EAkClCA,aACAC,EAnCkC,EAmClCA,KACAC,EApCkC,EAoClCA,WACAC,EArCkC,EAqClCA,gBACAC,EAtCkC,EAsClCA,YACAC,EAvCkC,EAuClCA,YACAC,EAxCkC,EAwClCA,UACAC,EAzCkC,EAyClCA,SACAC,EA1CkC,EA0ClCA,SACAC,EA3CkC,EA2ClCA,aACAC,EA5CkC,EA4ClCA,YA5CkC,IA6ClCC,MAASjB,EA7CyB,EA6CzBA,UAAWkB,EA7Cc,EA6CdA,SAgBtB,OACE,yBAAK3C,UAAU,oBACb,2CAAW6B,IAAX,CAA4B7B,UAAU,yBACpC,+BACG+B,EAAaa,KAAI,SAAAC,GAAW,OAC3B,wCAAQA,EAAYC,sBAApB,CAA2C9C,UAAU,gBAClD6C,EAAYE,QAAQH,KAAI,SAAAxD,GAAM,OAE7B,wCAAQA,EAAO4D,eAAe5D,EAAO6D,wBAArC,CAA8DjD,UAAU,gBACnEZ,EAAO8D,OAAO,UACf,8BACG9D,EAAO+D,SACJ/D,EAAOgE,aACL,gBACA,gBACF,IAEN,6BAAMhE,EAAOiE,UAAYjE,EAAO8D,OAAO,UAAY,eAM/D,2CAAWpB,IAAX,CAAgC9B,UAAU,gBACvCgC,EAAKY,KACJ,SAACtC,EAAKgD,GAAN,OACErB,EAAW3B,IACT,uBAAQA,EAAIiD,cACTjD,EAAIkD,MAAMZ,KAAI,SAAAa,GACb,OAAO,uBAAQA,EAAKC,eAAiBD,EAAKP,OAAO,kBAO/D,yBAAKlD,UAAU,cACb,kBAAC,IAAD,CAAQ2D,KAAK,KAAK3D,UAAU,oBAAoB4D,QAAQ,YAAYC,QAAS,kBAAMvB,EAAS,IAAIwB,UAAW5B,GACxG,MACO,IACV,kBAAC,IAAD,CAAQyB,KAAK,KAAK3D,UAAU,oBAAoB4D,QAAQ,YAAYC,QAAS,kBAAMrB,KAAgBsB,UAAW5B,GAC3G,KACO,IACV,kBAAC,IAAD,CAAQyB,KAAK,KAAK3D,UAAU,oBAAoB4D,QAAQ,YAAYC,QAAS,kBAAMtB,KAAYuB,UAAW3B,GACvG,KACO,IACV,kBAAC,IAAD,CAAQwB,KAAK,KAAK3D,UAAU,oBAAoB4D,QAAQ,YAAYC,QAAS,kBAAMvB,EAASD,EAAY,IAAIyB,UAAW3B,GACpH,MACO,IACV,0CACS,IACP,gCACGV,EAAY,EADf,OACsBW,EAAY3C,QACxB,KAEZ,0BAAMO,UAAU,QAAhB,KACI,0BAAMA,UAAU,QAAhB,qBAAuC,KACzC,uCACE+D,KAAK,SACLC,aAAcvC,EAAY,EAC1B9B,SAAU,SAAAC,GACR,IAAMoC,EAAOpC,EAAEC,OAAOH,MAAQuE,OAAOrE,EAAEC,OAAOH,OAAS,EAAI,EAC3D4C,EAASN,IAEXhC,UAAU,aAPZ,YAQY,SAACJ,GACNA,EAAEC,OAAOH,MAAQ0C,EAAY3C,SAC9BG,EAAEC,OAAOH,MAAQ,QAIjB,IACR,4BACEA,MAAOiD,EACPhD,SAAU,SAAAC,GACR6C,EAAYwB,OAAOrE,EAAEC,OAAOH,SAE9BM,UAAU,aAET,CAAC,GAAI,GAAI,GAAI,GAAI,IAAI4C,KAAI,SAAAD,GAAQ,OAChC,4BAAQuB,IAAKvB,EAAUjD,MAAOiD,GAA9B,WACWA,SAhJvB1C,EAAkBkE,WAAa,SAAAC,GAAG,OAAKA,GAwKxBC,IAdD,SAAC,GAAoB,IAAnB3D,EAAkB,EAAlBA,KAAKD,EAAa,EAAbA,QAEnB,OACE,kBAACzB,EAAD,KACE,kBAACwB,EAAD,CAAWE,KAAMA,EAAMD,QAASA,O,0MC9NhC6D,EAAkB,SAACC,GAAW,IAAD,EAEDC,oBAAS,GAFR,mBAE1BC,EAF0B,KAEhBC,EAFgB,OAINF,mBAAS,CAClCG,YAAa,GACbC,MAAO,GACPC,cAAe,GACfC,cAAe,GACfC,MAAO,GACPC,QAAS,GACTC,YAAa,GACbC,QAAS,KAZsB,mBAI1BC,EAJ0B,KAInBC,EAJmB,KAejCC,qBAAU,WACR,GAAGd,EAAMe,WAAW,CAClB,IAAIC,EAAeC,OAAOC,OAAO,GAAGlB,EAAMe,YAC1CF,EAAU,CACRT,YAAcY,EAAaZ,YAC3BC,MAAOW,EAAaX,MACpBC,cAAeU,EAAaV,cAC5BC,cAAeS,EAAaT,cAC5BC,MAAOQ,EAAaR,MACpBC,QAASO,EAAaP,QACtBC,YAAaM,EAAaN,YAC1BC,QAASK,EAAaL,QACtB/E,GAAIoF,EAAapF,QAGrB,CAACoE,EAAMe,aAET,IAAMI,EAAiB,SAAA9F,GACrBwF,EAAU,2BAAID,GAAL,kBAAcvF,EAAEC,OAAO8F,KAAQ/F,EAAEC,OAAOH,UAyC7CkG,EAAe,WACnBR,EAAU,CACRT,YAAa,GACbC,MAAO,GACPC,cAAe,GACfC,cAAe,GACfC,MAAO,GACPC,QAAS,GACTC,YAAa,GACbC,QAAS,KAEXX,EAAMsB,UAGR,OACE,kBAAC,IAAD,CACEC,KAAMvB,EAAMwB,OACZF,OAAQD,EACRjC,KAAK,KACLqC,kBAAgB,gCAChBC,UAAQ,GAER,kBAAC,IAAMC,OAAP,CAAcC,aAAW,EAACnG,UAAU,eAClC,kBAAC,IAAMoG,MAAP,CAAajG,GAAG,iCAAhB,0BACyB,kBAAC,IAAD,QAG3B,kBAAC,IAAD,CAAMkG,SAjEO,SAAAzG,GAEf,IAAM0G,EAAO1G,EAAE2G,cAEf,GADA3G,EAAE4G,kBAC2B,IAAzBF,EAAKG,gBAGP,OAFA7G,EAAE8G,uBACFhC,GAAY,GAId,IAAMiC,EAAWnB,OAAOC,OAAO,GAAGN,GAE/BZ,EAAMe,WACPsB,IAAMC,IAAIC,IAAQ,UAAUH,EAASxG,GAAGwG,GAAUI,MAAK,SAAAC,GACrDC,IAAMC,QAAQ,sBACdtB,OACCuB,OAAM,SAAAC,GACJA,EAAIC,SACLJ,IAAMK,MAAMF,EAAIC,SAAS3G,KAAK6G,SAE9BN,IAAMK,MAAM,kCAIhBV,IAAMY,KAAKV,IAAQ,SAAS3B,GAAQ4B,MAAK,SAAAC,GACvCC,IAAMC,QAAQ,sBACdtB,OACCuB,OAAM,SAAAC,GACJA,EAAIC,SACLJ,IAAMK,MAAMF,EAAIC,SAAS3G,KAAK6G,SAE9BN,IAAMK,MAAM,mCAkCUG,YAAU,EAACC,UAAWjD,GAChD,kBAAC,IAAMkD,KAAP,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,IAC7B,kBAAC,IAAD,KACE,kBAAC,IAAD,iBACMxD,EAAMyD,UADZ,CAEEC,aAAcvC,EACdhG,MAAOyF,EAAOR,eAEhB,kBAAC,IAAD,iBACMJ,EAAM2D,WADZ,CAEED,aAAcvC,EACdhG,MAAOyF,EAAOP,UAGlB,kBAAC,IAAD,KACE,kBAAC,IAAD,iBACML,EAAM4D,kBADZ,CAEEF,aAAcvC,EACdhG,MAAOyF,EAAON,gBAEd,4BAAQnF,MAAM,IAAd,kBACA,4BAAQA,MAAO,OAAf,OACA,4BAAQA,MAAO,MAAf,MACA,4BAAQA,MAAO,iBAAf,oBAEF,kBAAC,IAAD,iBACM6E,EAAM6D,kBADZ,CAEEH,aAAcvC,EACdhG,MAAOyF,EAAOL,kBAGlB,kBAAC,IAAD,KACE,kBAAC,IAAD,iBACMP,EAAM8D,WADZ,CAEEJ,aAAcvC,EACdhG,MAAOyF,EAAOJ,SAEhB,kBAAC,IAAD,iBACMR,EAAM+D,aADZ,CAEEL,aAAcvC,EACdhG,MAAOyF,EAAOH,YAGlB,kBAAC,IAAD,KACE,kBAAC,IAAD,iBACMT,EAAMgE,iBADZ,CAEEN,aAAcvC,EACdhG,MAAOyF,EAAOF,mBAM1B,kBAAC,IAAMuD,OAAP,KACE,kBAAC,IAAD,CAAQ7E,KAAK,KAAKC,QAAQ,UAAUG,KAAK,UAAzC,UACA,kBAAC,IAAD,CAAQJ,KAAK,KAAKE,QAAS+B,GAA3B,cAaRtB,EAAgBmE,aAAe,CAC7BT,UAAW,CACTjE,KAAM,OACN2E,UAAU,EACV/C,KAAM,cACNgD,MAAQ,iBACRC,KAAK,sCACLC,cAAe,CACb,eAGJX,WAAY,CACVnE,KAAM,QACN2E,UAAU,EACV/C,KAAM,QACNgD,MAAQ,QACRC,KAAK,sCACLC,cAAe,CACb,eAAe,wBAGnBR,WAAY,CACVtE,KAAM,QACN2E,UAAU,EACV/C,KAAM,QACNgD,MAAQ,cACRC,KAAK,sCACLC,cAAe,IAEjBP,aAAc,CACZvE,KAAM,WACN2E,UAAU,EACV/C,KAAM,UACNgD,MAAQ,eACRC,KAAK,sCACL1I,KAAM,EACN2I,cAAe,IAEjBV,kBAAmB,CACjBpE,KAAM,SACN2E,UAAU,EACV/C,KAAM,gBACNgD,MAAQ,oBACRC,KAAK,sCACLC,cAAe,CACb,eAGJT,kBAAmB,CACjBrE,KAAM,OACN2E,UAAU,EACV/C,KAAM,gBACNgD,MAAQ,2BACRC,KAAK,sCACL7I,YAAa,gDACb8I,cAAe,CACb,eAGJN,iBAAkB,CAChBxE,KAAM,WACN2E,UAAU,EACV/C,KAAM,cACNgD,MAAQ,iBACRC,KAAK,sCACL1I,KAAM,EACN2I,cAAe,KAKJvE,O,wIC5MAwE,IA9CqB,SAACvE,GAAW,IAAD,EAEnBC,mBAAS,IAFU,mBAEtC9E,EAFsC,KAE/BqJ,EAF+B,KAU7C,OANA1D,qBAAU,WACLd,EAAMyE,aACPD,EAAS,IACTxE,EAAM0E,4BAER,CAAC1E,EAAMyE,aAEP,kBAAC,IAAD,CAAgBE,UAAW,MAAOC,QAAS,kBAAC,IAAD,CAAShJ,GAAG,oBAAZ,mBACzC,yBAAKH,UAAU,gBACb,kBAAC,IAAD,MACA,kBAAC,IAAD,CACEoJ,aAAc,SAACC,GAAD,OAAUA,EAAK1E,YAAY,IAAI0E,EAAKvE,eAClDwE,MAAO/E,EAAM+E,MACbC,iBAAkB,SAACF,EAAM3J,GACvB,OAAQ2J,EAAK1E,YAAYxD,cAAcqI,QAAQ9J,EAAM+J,WAAWtI,iBAAmBkI,EAAKvE,cAAc3D,cAAcqI,QAAQ9J,EAAM+J,WAAWtI,gBAG/IuI,WAAa,SAACL,EAAMM,GAAP,OACX,yBAAKC,MAAO,CAAEC,WAAYF,EAAgB,YAAc,SAAWzF,IAAKmF,EAAKlJ,IACzEkJ,EAAK1E,cAGXjF,MAAOA,EACPC,SAAU,SAACC,GAAD,OAAMmJ,EAASnJ,EAAEC,OAAOH,QAClCoK,SAAU,SAAC1F,GACT2E,EAAS3E,GACTG,EAAMwF,YAAY3F,U,qQClB1B4F,EAAkB,KAEhBC,EAAyB,SAAC1F,GAAW,IAAD,EAEFC,oBAAS,GAFP,mBAEjC0F,EAFiC,KAEpBC,EAFoB,OAGK3F,mBAAS,IAHd,mBAGjC4F,EAHiC,KAGjBC,EAHiB,OAIC7F,mBAAS,MAJV,mBAIjC8F,EAJiC,KAInBC,EAJmB,OAKJ/F,mBAAS,CAC3CgG,aAAc,GACdC,SAAS,EACTC,eAAgB,GAChBC,SAAU,GACVC,MAAO,EACPC,QAAS,GACTC,YAAa,GACbC,MAAO,GACPC,oBAAqB,GACrBC,yBAA0B,GAC1BC,uBAAwB,GACxBC,8BAA+B,GAC/BC,YAAa,GACbC,kBAAoB,GACpBC,qBAAqB,GACrBC,gBAAgB,IArBsB,mBAKjCC,EALiC,KAKrBC,EALqB,OAuBAjH,oBAAS,GAvBT,mBAuBjCkH,EAvBiC,KAuBnBC,EAvBmB,KAwBlCC,EAAmBC,iBAAO,IAEhChL,mBAAQ,WACNmJ,EAAkB,CAChB,CACE9D,OAAQ,WACR4F,SAAU,gBAEZ,CACE5F,OAAQ,SACR4F,SAAU,SAEZ,CACE5F,OAAQ,WACR6F,KAAM,SAAAxH,GACOA,EAAMd,KAAKnD,IAAI0L,SAAS7L,GACnC,OACE,kBAAC8L,EAAA,EAAD,CAAQtI,KAAK,KAAKC,QAAQ,UAAUsI,OAAO,EAAMrI,QAAS,kBAAMsI,EAAc5H,EAAMd,KAAKnD,IAAI0L,YAA7F,gBAKR,IAEF,IAAMI,EAAwB,SAAA1L,GAE5B,IAAI2L,EAAUC,WAAW5L,EAAKqK,OAASrK,EAAKiK,SACxC4B,EAAaD,WAAW5L,EAAKqK,OAASuB,WAAW5L,EAAKgK,gBAAmB,IACzE8B,EAAmBH,EAAUE,EACjC,MAAO,CACHE,0BAA4BF,EAAYD,WAAW5L,EAAKqK,OACxD2B,YAAcL,EACdM,qBAAuBH,IAIvBI,EAA8B,SAAAlM,GAClC,IAAImM,EAAY,KAOhB,GALEA,EADwC,cAAvCnM,EAAKyK,8BACsC,eAAhCzK,EAAKwK,uBAA0CoB,WAAW5L,EAAKqK,OAAWuB,WAAW5L,EAAKqK,OAASuB,WAAW5L,EAAKuK,0BAA6B,IAAQqB,WAAW5L,EAAKqK,OAASuB,WAAW5L,EAAKuK,0BAEjK,eAAhCvK,EAAKwK,uBAA0CoB,WAAW5L,EAAKqK,OAAWuB,WAAW5L,EAAKqK,OAASuB,WAAW5L,EAAKuK,0BAA6B,IAAQqB,WAAW5L,EAAKqK,OAASuB,WAAW5L,EAAKuK,0BAG5MvK,EAAKgK,eAAe,CAErB,IAAI2B,EAAUC,WAAWO,GAAanM,EAAKiK,SACvC4B,EAAaD,WAAWO,GAAaP,WAAW5L,EAAKgK,gBAAmB,IACxE8B,EAAmBH,EAAUE,EAEjC,MAAO,CACLM,YACAJ,0BAA4BF,EAAYD,WAAWO,GACnDH,YAAcL,EACdM,qBAAuBH,GAIzB,MAAM,CACJK,YACAH,YAAcJ,WAAWO,GAAanM,EAAKiK,SAC3C8B,0BAA2B/L,EAAK+L,0BAChCE,qBAAsBjM,EAAKiM,uBAK3BG,EAAY,WAChBrB,EAAc,CACZjB,aAAc,GACdC,SAAS,EACTC,eAAgB,GAChBC,SAAU,GACVC,MAAO,EACPC,QAAS,GACTC,YAAa,GACbC,MAAO,GACPC,oBAAqB,GACrBC,yBAA0B,GAC1BC,uBAAwB,GACxBC,8BAA+B,GAC/BC,YAAa,GACbC,kBAAoB,GACpBC,qBAAqB,GACrBC,gBAAgB,IAGlBhB,EAAiB,MACjBJ,GAAe,GACfE,EAAmB,KAqCf0C,EAAqB,SAAAnN,GACzBA,EAAEoN,UACF,IAAIC,EAAczH,OAAOC,OAAO,GAAG+F,GAC/BiB,EAA4BQ,EAAYjC,oBACxC0B,EAAcO,EAAYP,YAC1BC,EAAuBM,EAAYN,qBACfM,EAAYlC,MAEpC,GAAqB,aAAlBnL,EAAEC,OAAO8F,MACP6F,EAAWT,MACZ,GAAGS,EAAWd,eAAe,CAE3BuC,EAAYtC,SAAW/K,EAAEC,OAAOH,MAChC,IAAIsH,EAASoF,EAAsBa,GACnCR,EAA4BzF,EAAOyF,0BACnCC,EAAc1F,EAAO0F,YACrBC,EAAwB3F,EAAO2F,yBAC5B,CAEHD,EADcJ,WAAWW,EAAYlC,OAASnL,EAAEC,OAAOH,MAM7D,GAAqB,UAAlBE,EAAEC,OAAO8F,KAAiB,CAC3B,GAAGsH,EAAYtC,SACb,GAAGsC,EAAYvC,eAAe,CAC5BuC,EAAYlC,MAAQnL,EAAEC,OAAOH,MAC7B,IAAIsH,EAASoF,EAAsBa,GACnCR,EAA4BzF,EAAOyF,0BACnCC,EAAc1F,EAAO0F,YACrBC,EAAwB3F,EAAO2F,yBAE5B,CAEHD,EADcJ,WAAW1M,EAAEC,OAAOH,OAASuN,EAAYtC,cAGrD,GAAGsC,EAAYvC,eAAe,CAElC+B,EADiBH,WAAW1M,EAAEC,OAAOH,OAAS4M,WAAWW,EAAYvC,gBAAmB,IAChD4B,WAAW1M,EAAEC,OAAOH,OAE9DuN,EAAY5B,kBAAoBzL,EAAEC,OAAOH,MAI3C,GAAqB,kCAAlBE,EAAEC,OAAO8F,MAA4CsH,EAAYhC,0BAA4BgC,EAAY/B,uBAAuB,CAEjI+B,EAAY9B,8BAAgCvL,EAAEC,OAAOH,MACrD,IAAIsH,EAAS4F,EAA4BK,GACzCR,EAA4BzF,EAAOyF,0BACnCC,EAAc1F,EAAO0F,YACrBC,EAAuB3F,EAAOsE,qBAC9B2B,EAAYlC,MAAQ/D,EAAO6F,eAEvB,GAAqB,6BAAlBjN,EAAEC,OAAO8F,MAAuCsH,EAAY9B,+BAAiC8B,EAAY/B,uBAAuB,CAEvI+B,EAAYhC,yBAA2BrL,EAAEC,OAAOH,MAChD,IAAIsH,EAAS4F,EAA4BK,GACzCR,EAA4BzF,EAAOyF,0BACnCC,EAAc1F,EAAO0F,YACrBC,EAAuB3F,EAAOsE,qBAC9B2B,EAAYlC,MAAQ/D,EAAO6F,eAEvB,GAAqB,2BAAlBjN,EAAEC,OAAO8F,MAAqCsH,EAAY9B,+BAAiC8B,EAAYhC,yBAAyB,CAEvIgC,EAAY/B,uBAAyBtL,EAAEC,OAAOH,MAC9C,IAAIsH,EAAS4F,EAA4BK,GACzCR,EAA4BzF,EAAOyF,0BACnCC,EAAc1F,EAAO0F,YACrBC,EAAuB3F,EAAOsE,qBAC9B2B,EAAYlC,MAAQ/D,EAAO6F,UAGR,YAAlBjN,EAAEC,OAAO8F,MACP/F,EAAEC,OAAOH,MAAMD,OAAS,KACzBG,EAAEC,OAAOH,MAASE,EAAEC,OAAOH,MAAMwN,UAAU,EAAEtN,EAAEC,OAAOH,MAAMD,OAAS,IAIzEwN,EAAYjC,oBAAsByB,EAClCQ,EAAY7B,YAAcsB,EAC1BO,EAAY3B,qBAAuBqB,EACnCM,EAAYrN,EAAEC,OAAO8F,MAAQ/F,EAAEC,OAAOH,MAEtC+L,EAAcwB,IAmBVd,EAAgB,SAAAzL,GACpB6J,EAAiB/E,OAAOC,OAAO,GAAG/E,IAClCyJ,GAAe,GACfgD,YAAW,WACNvB,EAAiBwB,SAClBxB,EAAiBwB,QAAQC,UAE3B,MAIJ,OACE,kBAACC,EAAA,EAAD,CACExH,KAAMvB,EAAMwB,OACZF,OAAQtB,EAAMsB,OACdlC,KAAK,KACLqC,kBAAgB,gCAChBC,UAAQ,EACRsH,SAAS,UAET,kBAACD,EAAA,EAAMpH,OAAP,CAAcC,aAAa,EAAMyD,MAAO,CAAE4D,gBAAiB,QAASC,MAAO,UACzE,kBAACH,EAAA,EAAMlH,MAAP,CAAajG,GAAG,iCAAhB,cAIF,kBAACmN,EAAA,EAAM3F,KAAP,KACE,kBAAC+F,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKhG,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAI/H,UAAU,IAC7C,kBAAC6N,EAAA,EAAD,CAAMC,iBAAiB,YAAY3N,GAAG,4BACpC,kBAAC4N,EAAA,EAAD,CAAKC,SAAS,YAAYC,MAAM,cAC5B/D,EAGA,kBAAC,IAAMgE,SAAP,KACE,6BAAK,6BACL,kBAACP,EAAA,EAAD,CAAK3N,UAAU,0BACb,kBAAC4N,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,2BAAO9H,UAAU,sBAAjB,YACA,2BAAOmO,IAAKvC,EAAkBjM,SAlJrC,SAAAC,GACfyK,EAAmBzK,EAAEC,OAAOH,QAiJ4CM,UAAU,eAAeN,MAAO0K,MAGtF,6BAAK,6BACL,kBAACuD,EAAA,EAAD,CAAK3N,UAAU,0BACb,kBAAC4N,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,kBAACmE,EAAA,EAAD,CAAQtI,KAAK,KAAKC,QAAQ,UAAUsI,OAAO,EAAMrI,QAtL7C,WACvBuG,GACDE,EAAcK,SAAWP,EACzB7F,EAAM6J,oBAAoB9D,GAC1BwC,KAEA7F,IAAMK,MAAM,sCAgLQ,cAbN,kBAACjD,EAAA,EAAD,CAAO3D,KAAM6D,EAAM8J,SAAU5N,QAASuJ,KAmB1C,kBAAC+D,EAAA,EAAD,CAAKC,SAAS,MAAMC,MAAM,kBACxB,6BACA,kBAACP,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKhG,GAAI,GAAIC,GAAI,GAAIC,GAAI,IACvB,kBAACwG,EAAA,EAAD,CAAMjI,SAjLP,SAAAzG,GAEnB,IAAM0G,EAAO1G,EAAE2G,cAEf,GADA3G,EAAE4G,kBAC2B,IAAzBF,EAAKG,gBAGP,OAFA7G,EAAE8G,uBACFiF,GAAgB,GAGlBpH,EAAM6J,oBAAoB5I,OAAOC,OAAO,GAAG+F,IAC3CsB,IACAnB,GAAgB,IAsKkClE,YAAU,EAACC,UAAWgE,GAClD,6BACA,kBAACiC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKhG,GAAI,GAAIC,GAAI,GAAIC,GAAI,IACvB,2BAAO9H,UAAU,sBAAjB,aAEF,kBAAC4N,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,2BAAO9H,UAAU,mBACf,2BAAO+D,KAAK,QAAQrE,OAAO,EAAO6O,SAAU/C,EAAWf,QAAS9E,KAAK,UAAUhG,SAAUoN,IAD3F,OAKF,kBAACa,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,2BAAO9H,UAAU,mBACf,2BAAO+D,KAAK,QAAQrE,OAAO,EAAM6O,QAAS/C,EAAWf,QAAS9E,KAAK,UAAUhG,SAAUoN,IADzF,OAKF,kBAAC,IAAD,iBACMxI,EAAMiK,iBADZ,CAEE9O,MAAO8L,EAAWhB,aAClBvC,aAAc8E,KAEhB,kBAAC,IAAD,iBACMxI,EAAMkK,kBADZ,CAEExG,aAAc8E,EACdrN,MAAO8L,EAAWd,iBAElB,4BAAQhL,MAAM,IAAd,kBAGJ,kBAACiO,EAAA,EAAD,KACE,kBAAC,IAAD,iBACMpJ,EAAMmK,cADZ,CAEEzG,aAAc8E,EACdrN,MAAO8L,EAAWb,YAEpB,kBAAC,IAAD,iBACMpG,EAAMoK,WADZ,CAEE1G,aAAc8E,EACdrN,MAAO8L,EAAWZ,QAElB,4BAAQlL,MAAO,GAAf,UACA,4BAAQA,MAAO,GAAf,aACA,4BAAQA,MAAO,GAAf,yCAEF,kBAAC,IAAD,iBACM6E,EAAMqK,aADZ,CAEE3G,aAAc8E,EACdrN,MAAO8L,EAAWX,YAGtB,kBAAC8C,EAAA,EAAD,KACE,kBAAC,IAAD,iBACMpJ,EAAMsK,iBADZ,CAEE5G,aAAc8E,EACdrN,MAAO8L,EAAWV,eAEpB,kBAAC,IAAD,iBACMvG,EAAMuK,eADZ,CAEE7G,aAAc8E,EACdrN,MAAO8L,EAAWT,SAEpB,kBAAC,IAAD,iBACMxG,EAAMwK,kBADZ,CAEE9G,aAAc8E,EACdrN,MAAO8L,EAAWR,wBAGtB,kBAAC2C,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKhG,GAAI,GAAIC,GAAI,GAAIC,GAAI,IACvB,wBAAI9H,UAAU,eAAd,yBACA,+BAGJ,kBAAC2N,EAAA,EAAD,KACE,kBAAC,IAAD,iBACMpJ,EAAMyK,gCADZ,CAEE/G,aAAc8E,EACdrN,MAAO8L,EAAWL,gCAElB,4BAAQzL,MAAM,IAAd,kBACA,4BAAQA,MAAM,aAAd,aACA,4BAAQA,MAAM,WAAd,YAGF,kBAAC,IAAD,iBACM6E,EAAM0K,4BADZ,CAEEhH,aAAc8E,EACdrN,MAAO8L,EAAWP,4BAEpB,kBAAC,IAAD,iBACM1G,EAAM2K,0BADZ,CAEEjH,aAAc8E,EACdrN,MAAO8L,EAAWN,yBAElB,4BAAQxL,MAAM,IAAd,kBACA,4BAAQA,MAAM,QAAd,QACA,4BAAQyP,KAAK,cAAb,gBAGJ,kBAACxB,EAAA,EAAD,CAAK3N,UAAU,0BACb,kBAAC,IAAD,iBACMuE,EAAM6K,gBADZ,CAEEnH,aAAc8E,EACdrN,MAAO8L,EAAWJ,eAEpB,kBAAC,IAAD,iBACM7G,EAAM8K,mBADZ,CAEEpH,aAAc8E,EACdrN,MAAO8L,EAAWF,yBAGtB,kBAACqC,EAAA,EAAD,CAAK3N,UAAU,0BACb,kBAAC4N,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,kBAACmE,EAAA,EAAD,CAAQtI,KAAK,KAAKI,KAAK,SAASH,QAAQ,UAAUsI,OAAO,GAAzD,WAEF,kBAAC0B,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,kBAACmE,EAAA,EAAD,CAAQtI,KAAK,KAAKI,KAAK,SAASH,QAAQ,SAASsI,OAAO,EAAMrI,QA9LzD,WAE/B,IAAIoJ,EAAczH,OAAOC,OAAO,GAAG+F,GAEnCyB,EAAYlC,MAAQkC,EAAY5B,kBAChC,IAAIrE,EAASoF,EAAsBa,GACnCA,EAAYjC,oBAAsBhE,EAAOyF,0BACzCQ,EAAY7B,YAAcpE,EAAO0F,YACjCO,EAAY3B,qBAAwBtE,EAAO2F,qBAC3CM,EAAY9B,8BAAgC,GAC5C8B,EAAYhC,yBAA2B,GACvCgC,EAAY/B,uBAAyB,GACrCO,EAAcwB,KAkLY,2CAaxB,kBAACK,EAAA,EAAM9E,OAAP,KACE,kBAACyD,EAAA,EAAD,CAAQtI,KAAK,KAAKC,QAAQ,YAAYC,QA1TzB,WACjBiJ,IACAvI,EAAMsB,WAwTF,aAYRoE,EAAuBxB,cAAvB,GACE+F,iBAAmB,CACjBzK,KAAM,OACN2E,UAAU,EACV/C,KAAM,eACNgD,MAAQ,kBACRE,cAAe,GAGfD,KAAK,uCAEP6F,kBAAoB,CAClB1K,KAAM,SACN2E,UAAU,EACV/C,KAAM,iBACNgD,MAAQ,qBACRE,cAAe,GAGfD,KAAK,uCAEP8F,cAAe,CACb3K,KAAM,SACN2E,UAAU,EACV/C,KAAM,WACNgD,MAAQ,WACRE,cAAe,CACb,cAEFD,KAAK,uCAEP+F,WAAW,CACT5K,KAAM,SACN2E,UAAU,EACV/C,KAAM,QACNgD,MAAQ,SACRE,cAAe,CACb,cAEFD,KAAK,uCAEPgG,aAAa,CACX7K,KAAM,WACN2E,UAAU,EACV/C,KAAM,UACNgD,MAAQ,WACRzI,KAAM,EACN2I,cAAe,CACb,cAEFD,KAAK,uCAEPiG,iBAAiB,CACf9K,KAAM,WACN2E,UAAU,EACV/C,KAAM,cACNgD,MAAQ,iBACRzI,KAAM,EACN2I,cAAe,GAGfD,KAAK,uCAEPkG,eAAe,CACb/K,KAAM,SACN2E,UAAU,EACV/C,KAAM,QACNgD,MAAQ,kBACRE,cAAe,CACb,cAEFD,KAAK,uCAEPmG,kBAAkB,CAChBhL,KAAM,SACN2E,UAAU,EACV/C,KAAM,sBACNgD,MAAQ,+BACRE,cAAe,GAGfD,KAAK,sCACL0G,UAAU,GAEZL,4BAA4B,CAC1BlL,KAAM,SACN2E,UAAU,EACV/C,KAAM,2BACNgD,MAAQ,4BACRE,cAAe,GAGfD,KAAK,uCAEP2G,0BAA0B,CACxBxL,KAAM,SACN2E,UAAU,EACV/C,KAAM,yBACNgD,MAAQ,8BACRE,cAAe,GAGfD,KAAK,wCAtGT,4CAwG8B,CAC1B7E,KAAM,SACN2E,UAAU,EACV/C,KAAM,2BACNgD,MAAQ,4BACRE,cAAe,GAGfD,KAAK,wCAhHT,gCAkHkB,CACd7E,KAAM,SACN2E,UAAU,EACV/C,KAAM,cACNgD,MAAQ,eACRE,cAAe,GAGfD,KAAK,sCACL0G,UAAS,IA3Hb,mCA6HqB,CACjBvL,KAAM,SACN2E,UAAU,EACV/C,KAAM,uBACNgD,MAAQ,4BACRE,cAAe,GAGfD,KAAK,sCACL0G,UAAS,IAtIb,gDAwIkC,CAC9BvL,KAAM,SACN2E,UAAU,EACV/C,KAAM,gCACNgD,MAAQ,oBACRE,cAAe,GAGfD,KAAK,wCAhJT,0CAkJ4B,CACxB7E,KAAM,SACN2E,UAAU,EACV/C,KAAM,yBACNgD,MAAQ,mBACRE,cAAe,GAGfD,KAAK,wCA1JT,GA8JeqB,Q,QCxmBTuF,EAAwB,SAACjL,GAAW,IAAD,EAEPC,mBAAS,CACvCsG,YAAa,GACb2E,OAAQ,KAJ6B,mBAEhCC,EAFgC,KAEtBC,EAFsB,OAMAnL,oBAAS,GANT,mBAMhCkH,EANgC,KAMnBC,EANmB,KAOjCiE,EAAe/D,mBAErBxG,qBAAU,WACLd,EAAMwB,QACPoH,YAAW,WACTyC,EAAaxC,QAAQC,UACrB,OAEJ,CAAC9I,EAAMwB,SAET,IA8BMpG,EAAW,SAAAC,GACf+P,EAAY,2BAAID,GAAL,kBAAgB9P,EAAEC,OAAO8F,KAAQ/F,EAAEC,OAAOH,UAIvD,OACE,kBAAC4N,EAAA,EAAD,CACExH,KAAMvB,EAAMwB,OACZF,OAAQtB,EAAMsB,OACdlC,KAAK,KACLqC,kBAAgB,gCAChBC,UAAQ,EACRsH,SAAS,UAET,kBAACD,EAAA,EAAMpH,OAAP,CAAcC,aAAW,EAACyD,MAAO,CAAE4D,gBAAiB,QAASC,MAAO,UAClE,kBAACH,EAAA,EAAMlH,MAAP,CAAajG,GAAG,iCAAhB,+BAIF,kBAACmN,EAAA,EAAM3F,KAAP,KACE,kBAAC2G,EAAA,EAAD,CAAMjI,SAzCS,SAAAzG,GAEnB,IAAM0G,EAAO1G,EAAE2G,cAEf,GADA3G,EAAE4G,kBAC2B,IAAzBF,EAAKG,gBAGP,OAFA7G,EAAE8G,uBACFiF,GAAgB,GAIlB,IAAIkE,EAAcrK,OAAOC,OAAO,GAAGiK,GACnCnL,EAAMuL,kBAAkBD,GACxBF,EAAY,CACV7E,YAAa,GACb2E,OAAQ,KAEVG,EAAaxC,QAAQC,QACrBpG,IAAMC,QAAQ,yCACdyE,GAAgB,IAuBkBlE,YAAU,EAACC,UAAWgE,GAClD,kBAACiC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,2BAAO9H,UAAU,sBAAjB,kBACA,yCAAOA,UAAU,gBACXuE,EAAMsK,iBADZ,CAEEnP,MAAOgQ,EAAS5E,YAChBnL,SAAUA,EACVwO,IAAKyB,KACL,kBAACtB,EAAA,EAAKyB,QAAQC,SAAd,CAAuBjM,KAAK,WAC1B,0BAAM/D,UAAU,eAAhB,kBAGN,kBAAC,IAAD,iBACMuE,EAAM0L,YADZ,CAEEvQ,MAAOgQ,EAASD,OAChBxH,aAActI,MAGlB,kBAACgO,EAAA,EAAD,CAAK3N,UAAU,0BACb,kBAAC4N,EAAA,EAAD,CAAKhG,GAAI,GAAIC,GAAI,GAAIC,GAAI,IACvB,kBAACmE,EAAA,EAAD,CAAQtI,KAAK,KAAKI,KAAK,SAASH,QAAQ,UAAUsI,OAAO,GAAzD,eAOR,kBAACoB,EAAA,EAAM9E,OAAP,KACE,kBAACyD,EAAA,EAAD,CAAQtI,KAAK,KAAKC,QAAQ,YAAYC,QA/EzB,WACjB8L,EAAY,CACV7E,YAAa,GACb2E,OAAQ,KAEV9D,GAAgB,GAChBpH,EAAMsB,WAyEF,aAaR2J,EAAsB/G,aAAe,CACnCoG,iBAAkB,CAChB9K,KAAM,OACN2E,UAAU,EACV/C,KAAM,eAERsK,YAAa,CACXlM,KAAM,SACN2E,UAAU,EACV/C,KAAM,SACNgD,MAAQ,QACRE,cAAe,CACb,cAEFD,KAAK,wCAIM4G,Q,QChIFU,EAAmB,CAC9B,CACEhK,OAAQ,iBACR4F,SAAU,eAEZ,CACE5F,OAAQ,QACR4F,SAAU,WCPVqE,EAAiB,KAyGNC,EAvGe,SAAC7L,GAAW,IAAD,EAEAC,mBAAS,IAFT,mBAEhC6L,EAFgC,KAEnBC,EAFmB,OAGG9L,oBAAS,GAHZ,mBAGhC+L,EAHgC,KAGjBC,EAHiB,KAIvCnL,qBAAU,WACR,OAAO,WACL8K,EAAiB,QAEnB,IAEFtP,mBAAQ,WACNsP,EAAiB,CACf,CACEjK,OAAQ,iBACR4F,SAAU,eAEZ,CACE5F,OAAQ,QACR4F,SAAU,SAEZ,CACE5F,OAAQ,YACR4F,SAAU,SAAA2E,GAAM,MAAI,CAACA,EAAO5L,cAAc,IAAI4L,EAAO3L,gBACrDiH,KAAM,SAAA0E,GACJ,OAAQA,EAAOhN,KAAKnD,IAAI0L,SAASnH,cAAc,KAAK4L,EAAOhN,KAAKnD,IAAI0L,SAASlH,gBAGjF,CACEoB,OAAQ,aACR6F,KAAM,SAAA0E,GACJ,OACE,2BAAO1M,KAAK,WAAWrE,MAAO+Q,EAAOhN,KAAKnD,IAAI0L,SAASpH,MAAQjF,SAAU+Q,EAAmB1Q,UAAU,oBAK9G,IAEF,IAAM0Q,EAAoB,SAAA9Q,GACxBA,EAAEoN,UACCpN,EAAEC,OAAO0O,QACV+B,GAAiB,SAAAnL,GAAM,4BAAQA,GAAR,CAAevF,EAAEC,OAAOH,WAE/C4Q,GAAiB,SAAA5N,GAAK,OAAIA,EAAM1B,QAAO,SAAA2P,GAAC,OAAIA,IAAM/Q,EAAEC,OAAOH,aAWzDkG,EAAe,WACnBrB,EAAMsB,UAiBR,OACE,kBAACyH,EAAA,EAAD,CACExH,KAAMvB,EAAMwB,OACZF,OAAQD,EACRjC,KAAK,KACLqC,kBAAgB,gCAChBC,UAAQ,GAER,kBAACqH,EAAA,EAAMpH,OAAP,CAAcC,aAAW,EAACnG,UAAU,eAClC,kBAACsN,EAAA,EAAMlH,MAAP,CAAajG,GAAG,iCAAhB,yBAIF,kBAACmN,EAAA,EAAM3F,KAAP,KACE,kBAACtD,EAAA,EAAD,CAAO3D,KAAM6D,EAAMqM,QAASnQ,QAAS0P,KAEvC,kBAAC7C,EAAA,EAAM9E,OAAP,KACE,kBAACyD,EAAA,EAAD,CAAQtI,KAAK,KAAKC,QAAQ,UAAUC,QA/BrB,WACjBU,EAAMsM,mBAAN,YAA6BR,IAC1BA,EAAa5Q,OAAS,GACvB6Q,EAAgB,IAbpBQ,SAASC,iBAAiB,eAAeC,SAAQ,SAAC3H,EAAM/F,GACtD+F,EAAKkF,SAAU,KAcbiC,GAAiB,GACjBrD,YAAW,WACTqD,GAAiB,KACjB,MAEFvJ,IAAMK,MAAM,wCAqB+CxD,SAAUyM,GAArE,UACA,kBAACtE,EAAA,EAAD,CAAQtI,KAAK,KAAKC,QAAQ,YAAYC,QAAS+B,EAAc9B,SAAUyM,GAAvE,aCnFJU,EAAmB,KAEjBC,EAAiB,SAAC3M,GAAW,IAAD,gBAEHC,mBAAS,IAFN,mBAEzBoM,EAFyB,KAEjBO,EAFiB,OAGO3M,mBAAS,IAHhB,mBAGzB4M,EAHyB,KAGZC,EAHY,OAIY7M,mBAAS,IAJrB,mBAIzB8M,EAJyB,KAITC,EAJS,OAKkB/M,oBAAS,GAL3B,mBAKzBgN,EALyB,KAKNC,EALM,OAMkBjN,oBAAS,GAN3B,mBAMzBkN,EANyB,KAMNC,EANM,OAOoBnN,oBAAS,GAP7B,oBAOzBoN,GAPyB,MAOLC,GAPK,SAQDrN,mBAAS,IARR,qBAQzB6J,GARyB,MAQhByD,GARgB,SASetN,oBAAS,GATxB,qBASzBuN,GATyB,MASRC,GATQ,SAUOxN,mBAAS,IAVhB,qBAUzByN,GAVyB,MAUZC,GAVY,SAWqB1N,oBAAS,GAX9B,qBAWzB2N,GAXyB,MAWLC,GAXK,SAYU5N,oBAAS,GAZnB,qBAYzB6N,GAZyB,MAYV7B,GAZU,SAakBhM,mBAAS,IAb3B,qBAazB8N,GAbyB,MAaNC,GAbM,MAehClN,qBAAU,WAMR,OALAmN,KACAC,KACGlO,EAAMmO,MAAMC,OAAOxS,IACpByS,KAEK,WACL3B,EAAmB,QAErB,IAEFpQ,mBAAQ,WAENoQ,EAAmB,CACjB,CACE/K,OAAQ,WACR4F,SAAU,gBAEZ,CACE5F,OAAQ,SACR4F,SAAU,SAAA6E,GAER,GAAGA,EAAElG,QACH,MAAO,CAACoI,YAAsBtO,EAAMuO,cAAcnC,EAAE5F,QAEpD,IAAIgI,EAAQpC,EAAE5F,MAAQxG,EAAMyO,YAAYD,IAAO,IAC3CE,EAAYtC,EAAE5F,MAAQgI,EAC1B,MAAO,CAACF,YAAsBtO,EAAMuO,cAAcG,MAKxD,CACE/M,OAAQ,WACR4F,SAAU,YAEZ,CACE5F,OAAQ,QACR4F,SAAU,SAAA6E,GACR,GAAGA,EAAElG,QACH,MAAO,CAACoI,YAAsBtO,EAAMuO,cAAcnC,EAAE5F,MAAQ4F,EAAEhG,WAE9D,IAAIoI,EAAQpC,EAAE5F,MAAQxG,EAAMyO,YAAYD,IAAO,IAC3CE,EAAYtC,EAAE5F,MAAQgI,EAC1B,MAAO,CAACF,YAAsBtO,EAAMuO,cAAcG,EAAYtC,EAAEhG,aAItE,CACEzE,OAAQ,WACR6F,KAAM,SAAAxH,GAAU,IAAD,EACFA,EAAMd,KAAKnD,IAAI0L,SAC1B,OACE,kBAACC,EAAA,GAAD,GAAQtI,KAAK,MAAb,qBAAuB,MAAvB,wBAAoC,WAApC,uBAAqD,GAArD,yBAAoE,kBAAMuP,GAAiB3O,EAAMd,KAAKnD,IAAI0L,aAA1G,iBAMLkE,EAAiBzQ,OAAS,GAC3ByQ,EAAiBiD,MAGnBjD,EAAiBkD,KAAK,CACpBlN,OAAQ,WACR6F,KAAM,SAAAxH,GAAU,IAAD,EACFA,EAAMd,KAAKnD,IAAI0L,SAAS7L,GACnC,OACE,kBAAC8L,EAAA,GAAD,GAAQtI,KAAK,MAAb,qBAAuB,MAAvB,wBAAoC,WAApC,uBAAqD,GAArD,yBAAoE,kBAAM0P,GAAkB9O,EAAMd,KAAKnD,IAAI0L,aAA3G,mBAKN,IAEF,IAAMsH,GAAY,WAChB/B,EAAkB,IAClBW,GAAgB,IAChBb,EAAgB,IAChBW,IAAoB,GACpB7E,YAAW,WACT6E,IAAoB,KACpB,MAGEY,GAAkB,WACtBhM,IAAM2M,IAAIzM,IAAQ,cAAcvC,EAAMmO,MAAMC,OAAOxS,IAAI4G,MAAK,SAAAC,GAC1DkL,GAAgBlL,EAAOtG,KAAK8S,QAC5B,IAAIC,EAAgB,GACpBzM,EAAOtG,KAAKgT,wBAAwB1C,SAAQ,SAAC3H,EAAM/F,GACjDmQ,EAAcL,KAAK/J,MAGrBrC,EAAOtG,KAAK2N,SAAS2C,SAAQ,SAAC3H,EAAM/F,GAClC+F,EAAKgF,SAAS1D,SAAWtB,EAAKsB,SAC9B8I,EAAcL,KAAK/J,EAAKgF,aAG1BkD,EAAkBkC,GAClBpC,GAAgB,SAAAlM,GACd,OAAO6B,EAAOtG,KAAKyE,OAAS6B,EAAOtG,KAAKyE,OAAS,SAGlDgC,OAAM,SAAAC,GACJA,EAAIC,SACLJ,IAAMK,MAAMF,EAAIC,SAAS3G,KAAK6G,SAE9BN,IAAMK,MAAM,mCAKZqM,GAAgB,WAClBpP,EAAMqP,QAAQC,QAAQ,oCAGpBC,GAAkB,WACpBvP,EAAMqP,QAAQC,QAAQ,2BAGpBE,GAAa,SAAAhQ,GAEjB,IAAIiQ,EAAc,CAChBC,QAAS3B,GACTjE,SAAU7I,OAAOC,OAAO,GAAG6L,GAC3BkC,OAAQhO,OAAOC,OAAO,GAAGwM,IACzB9M,OAAQK,OAAOC,OAAO,GAAG2L,GACzB8C,OAAQnQ,GAEVyM,IAAiB,GACdjM,EAAMmO,MAAMC,OAAOxS,GACpByG,IAAMC,IAAIC,IAAQ,cAAcvC,EAAMmO,MAAMC,OAAOxS,GAAG6T,GAAajN,MAAK,SAAAC,GACtEC,IAAMC,QAAQ,uCACdsJ,IAAiB,GACjB8C,KACY,IAATvP,EACD+P,KAEAH,QAEDxM,OAAM,SAAAC,GACPkM,KACA9C,IAAiB,GACdpJ,EAAIC,SACLJ,IAAMK,MAAMF,EAAIC,SAAS3G,KAAK6G,SAE9BN,IAAMK,MAAM,kCAIhBV,IAAMY,KAAKV,IAAQ,aAAakN,GAAajN,MAAK,SAAAC,GAChDC,IAAMC,QAAQ,uCACdsJ,IAAiB,GACjB8C,KACY,IAATvP,GACD+P,QAED3M,OAAM,SAAAC,GACPkM,KACA9C,IAAiB,GACdpJ,EAAIC,SACLJ,IAAMK,MAAMF,EAAIC,SAAS3G,KAAK6G,SAE9BN,IAAMK,MAAM,mCAkBd6M,GAAsB,WAC1B,IAAIC,EAAQ,EAwBZ,OAtBA9C,EAAeN,SAAQ,SAAC3H,EAAM/F,GAC5B,GAAG+F,EAAKkC,eACN,GAAGlC,EAAKqB,eACN,GAAIrB,EAAKoB,QAIP2J,GAAQ/K,EAAK2B,oBAAsB3B,EAAKsB,aAJzB,CACf,IAAIoI,EAAO1J,EAAK0B,MAAQxG,EAAMyO,YAAYD,IAAO,IACjDqB,IAAS/K,EAAK2B,oBAAsB+H,GAAO1J,EAAKsB,cAKlDyJ,GAAQ/K,EAAK0B,MAAQ1B,EAAKsB,cAG5B,GAAItB,EAAKoB,QAIP2J,GAAQ/K,EAAK0B,MAAQ1B,EAAKsB,aAJX,CACf,IAAIoI,EAAO1J,EAAK0B,MAAQxG,EAAMyO,YAAYD,IAAO,IACjDqB,IAAS/K,EAAK0B,MAAQgI,GAAO1J,EAAKsB,aAOjCyJ,GAGHC,GAAqB,WACzB,IAAID,EAAQ,EAKZ,OAJAnC,GAAajB,SAAQ,SAAC3H,EAAM/F,GAC1B8Q,GAAS9H,WAAWjD,EAAKoG,WAGpB2E,GASH5B,GAAe,WACnB5L,IAAM2M,IAAIzM,IAAQ,UAAUC,MAAK,SAAAC,GAC/BmK,EAAWnK,EAAOtG,SACjByG,OAAM,SAAAC,GACJA,EAAIC,SACLJ,IAAMK,MAAMF,EAAIC,SAAS3G,KAAK6G,SAE9BN,IAAMK,MAAM,mCAKZmL,GAAgB,WACpB7L,IAAM2M,IAAIzM,IAAQ,WAAWC,MAAK,SAAAC,GAChC8K,GAAY9K,EAAOtG,SAClByG,OAAM,SAAAC,GACJA,EAAIC,SACLJ,IAAMK,MAAMF,EAAIC,SAAS3G,KAAK6G,SAE9BN,IAAMK,MAAM,mCAoEZ2B,GAAyB,WAC7B+I,IAAqBD,KAoBjBmB,GAAmB,SAAAxS,GACvB6Q,GAAkB,SAAA+C,GAChB,OAAOA,EAAOtT,QAAO,SAAA2P,GAAC,OAAIA,EAAEnG,eAAiB9J,EAAK8J,oBAIhD6I,GAAoB,SAAA3S,GACxBwR,IAAgB,SAAAsB,GACf,OAAOA,EAAOxS,QAAO,SAAA2P,GAAC,OAAIA,EAAE7F,cAAgBpK,EAAKoK,mBAI9CyJ,GAAiB,SAAAxQ,GAErB,GAAY,IAATA,GAAgBqN,EAEjB,OADAnK,IAAMK,MAAM,wCACL,EAETyM,GAAWhQ,IAKb,OACE,kBAAC2J,EAAA,EAAD,CAAW1N,UAAU,gBACnB,kBAAC2N,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,wBAAI9H,UAAU,eAAd,WACCwF,OAAOnF,KAAK+Q,GAAc3R,OAAS,EAClC,kBAAC,IAAMyO,SAAP,KACE,wBAAIlO,UAAU,cACZ,wBAAIA,UAAU,mBAAkB,sCAAhC,IAAgDoR,EAAazM,YAA7D,IAA0E,6BAAK,iDAA/E,IAA0GyM,EAAavM,eACvH,wBAAI7E,UAAU,mBAAkB,yCAAhC,IAAmDoR,EAAatM,cAAhE,IAA+E,6BAA/E,IAAqF,2CAArF,IAAuGsM,EAAarM,SAIxH,kBAAC,IAAMmJ,SAAP,KACE,6BACA,wBAAIlO,UAAU,eAAd,iCAIN,kBAAC4N,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,kBAACgB,EAAA,EAAD,CACEQ,MAAOsH,EACP7G,YA9DiB,SAAArJ,GACzB,IAAIoE,EAAgBpE,EAAK8T,MAAM,KAAK,GAChCrP,EAASyL,EAAQ6D,MAAK,SAAA9D,GAAC,OAAIA,EAAE7L,gBAAkBA,KACnDuM,EAAgBlM,IA4DR8D,uBAAwBA,GACxBD,WAAY+I,KAEd,6BACCvM,OAAOnF,KAAK+Q,GAAc3R,OAAS,EAClC,kBAACkO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKhG,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAI9H,UAAU,eACrC,kBAACiM,EAAA,GAAD,GAAQtI,KAAK,MAAb,qBAAuB,MAAvB,wBAAoC,sBAApC,yBA1DO,WACnB0N,EAAgB,IAChBpI,QAwDY,GAAgF,kBAAC,IAAD,SAGlF,IAEN,kBAAC2E,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,kBAACmE,EAAA,GAAD,GAAQtI,KAAK,MAAb,qBAAuB,MAAvB,wBAAoC,aAApC,uBAAuD,GAAvD,yBAAsE,kBAAM8N,GAAqB,MAAjG,sBAGJ,6BAAK,6BACL,kBAAC9D,EAAA,EAAD,CAAK3N,UAAU,0BACb,kBAAC4N,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAC5B,kBAACkE,EAAA,GAAD,GAAQtI,KAAK,MAAb,qBAAuB,MAAvB,wBAAoC,QAApC,uBAAkD,GAAlD,yBAAiE,kBAAMkO,IAAsB,MAA7F,4CAGJ,kBAAClE,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKhG,GAAI,GAAIC,GAAI,GAAIC,GAAI,IACvB,kBAACzD,EAAA,EAAD,CAAO3D,KAAM4Q,EAAgB7Q,QAASwQ,MAG1C,6BACA,kBAACtD,EAAA,EAAD,CAAK3N,UAAU,0BACb,kBAAC4N,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,IAC5B,kBAACkE,EAAA,GAAD,GAAQtI,KAAK,MAAb,qBAAuB,MAAvB,wBAAoC,QAApC,uBAAkD,GAAlD,yBAAiE,kBAAMgO,GAAqB,MAA5F,0CAGJ,kBAAChE,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKhG,GAAI,GAAIC,GAAI,GAAIC,GAAI,IACvB,kBAACzD,EAAA,EAAD,CAAO3D,KAAMuR,GAAcxR,QAASyP,MAGxC,6BAAK,6BACL,kBAACvC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKhG,GAAI,GAAIC,GAAI,GAAIC,GAAI,IACvB,wBAAI9H,UAAU,eAAd,qBACA,6BACA,2BAAOA,UAAU,wBACf,+BACE,4BACE,wBAAIA,UAAU,eAAd,aACA,wBAAIA,UAAU,eAAd,UACA,wBAAIA,UAAU,eAAd,mBAGJ,2BAAOA,UAAU,eACf,4BACE,4BAAK6S,YAAsBtO,EAAMuO,cAAcqB,OAC/C,4BAAKtB,YAAsBtO,EAAMuO,cAAcuB,OAC/C,4BAAKxB,YAAsBtO,EAAMuO,cAtNzBqB,KACAE,YA2NlB,6BACA,kBAAC1G,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKhG,GAAI,GAAIC,GAAI,GAAIC,GAAI,IACvB,2BAAO4M,IAAI,IAAX,6CACA,8BAAUxU,KAAM,EAAGF,UAAU,eAAeL,SArJpB,SAAAC,GAC5B2S,GAAqB3S,EAAEC,OAAOH,QAoJqDA,MAAO4S,OAG1F,6BACA,kBAAC3E,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,kBAACmE,EAAA,GAAD,GAAQtI,KAAK,MAAb,qBAAuB,MAAvB,wBAAoC,WAApC,yBAAwD0O,IAAxD,uBAA+E,GAA/E,yBAA8F,kBAAMkC,GAAe,MAAnH,GAAwHlC,GAAiB,eAAiB,4BAA1J,IAAuL,kBAAC,IAAD,QAEzL,kBAACzE,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,kBAACmE,EAAA,GAAD,GAAQtI,KAAK,MAAb,qBAAuB,MAAvB,wBAAoC,WAApC,yBAAwD0O,IAAxD,uBAA+E,GAA/E,yBAA8F,kBAAMkC,GAAe,MAAnH,GAAwHlC,GAAiB,eAAiB,qBAA1J,IAAgL,kBAAC,IAAD,QAElL,kBAACzE,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,kBAACmE,EAAA,GAAD,GAAQtI,KAAK,MAAb,qBAAuB,MAAvB,wBAAoC,WAApC,yBAAwD0O,IAAxD,uBAA+E,GAA/E,yBAA8F,kBAAMkC,GAAe,MAAnH,GAAwHlC,GAAiB,eAAiB,UAA1J,IAAqK,kBAAC,IAAD,QAEvK,kBAACzE,EAAA,EAAD,CAAKhG,GAAI,EAAGC,GAAI,EAAGC,GAAI,GACrB,kBAAC6M,EAAA,EAAD,CAAgBhR,KAAK,KAAKxD,GAAI,OAAQ8N,MAAOoE,GAAiB,YAAc,YAAcrS,UAAU,iBAAiB8D,SAAUuO,IAC7H,kBAACuC,EAAA,EAASC,KAAV,CAAehR,QAAS,kBAAMuO,IAAuB,KAArD,mBACA,kBAACwC,EAAA,EAASC,KAAV,CAAehR,QAlSI,WAE3BiR,UAAUC,UAAUC,UAAU,wDAAwDjO,MAAK,WACzFE,IAAMC,QAAQ,8BACd6M,GAAW,MACV,WACDkB,QAAQC,IAAI,cA4RN,kBAIR,kBAAC5Q,EAAA,EAAD,CACEyB,OAAQyL,EACR3L,OApK0B,WAC5B4L,GAAqB,GACrBe,QAoKA,kBAAC,EAAD,CACEzM,OAAQ6L,GACR/L,OAnK2B,WAC7BgM,IAAsB,IAmKpBxD,SAAUA,GACVD,oBAvJwB,SAAA+G,GAE1B5D,EAAkB,GAAD,mBAAKD,GAAL,CAAqB6D,KACtCtD,IAAsB,MAsJtB,kBAAC,EAAD,CACE9L,OAAQ2L,EACR7L,OAAQ,kBAAM8L,GAAqB,IACnC7B,kBAnLsB,SAAApP,GAExBwR,GAAgB,GAAD,mBAAKD,IAAL,CAAkBvR,QAmLjC,kBAAC,EAAD,CACIkQ,QAASA,EACT7K,OAAQoM,GACRtM,OAAQ,kBAAMuM,IAAuB,IACrCvB,mBA3OqB,SAAAnQ,GAEzB,IAAIsT,EAAc,CAChBC,QAAS3B,GACTjE,SAAU7I,OAAOC,OAAO,GAAG6L,GAC3BkC,OAAQhO,OAAOC,OAAO,GAAGwM,IACzB9M,OAAQK,OAAOC,OAAO,GAAG2L,GACzBgE,YAAa1U,EACbwT,OAAQ,GAGV1D,IAAiB,GACdjM,EAAMmO,MAAMC,OAAOxS,GACpByG,IAAMC,IAAIC,IAAQ,cAAcvC,EAAMmO,MAAMC,OAAOxS,GAAG6T,GAAajN,MAAK,SAAAC,GACtEC,IAAMC,QAAQ,uCACdkL,IAAuB,GACvB5B,IAAiB,GACjB8C,KACAK,QACCxM,OAAM,SAAAC,GACPkM,KACA9C,IAAiB,GACdpJ,EAAIC,SACLJ,IAAMK,MAAMF,EAAIC,SAAS3G,KAAK6G,SAE9BN,IAAMK,MAAM,kCAIhBV,IAAMY,KAAKV,IAAQ,aAAakN,GAAajN,MAAK,SAAAC,GAChDC,IAAMC,QAAQ,uCACdkL,IAAuB,GACvB5B,IAAiB,GACjB8C,QACCnM,OAAM,SAAAC,GACPkM,KACA9C,IAAiB,GACdpJ,EAAIC,SACLJ,IAAMK,MAAMF,EAAIC,SAAS3G,KAAK6G,SAE9BN,IAAMK,MAAM,uCAwMtB4J,EAAezI,aAAe,CAC5BuK,YAAcqC,KAAKC,MAAMC,aAAaC,QAAQ,gBAC9C1C,cAAeuC,KAAKC,MAAMC,aAAaC,QAAQ,mBAGlCtE","file":"static/js/18.ff6f2084.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport { useTable, useSortBy, useFilters, usePagination} from 'react-table'\r\nimport matchSorter from 'match-sorter'\r\nimport { Button } from 'react-bootstrap'\r\n\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n\r\n  .button-pagination{\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .inputPage{\r\n    display: inline-block;\r\n    width: 150px;\r\n    height: 34px;\r\n    padding: 6px 12px;\r\n    font-size: 14px;\r\n    line-height: 1.42857143;\r\n    color: #555;\r\n    background-color: #fff;\r\n    background-image: none;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .inputPageFilter{\r\n    display: inline-block;\r\n    width: 80%;\r\n    height: 34px;\r\n    padding: 6px 12px;\r\n    font-size: 14px;\r\n    line-height: 1.42857143;\r\n    color: #555;\r\n    background-color: #fff;\r\n    background-image: none;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .pagination {\r\n    padding: 0.5rem;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n\r\n  .tr_cabecera{\r\n    background-color: rgb(218, 236, 242);\r\n    color: black;\r\n  }\r\n`\r\n\r\nfunction DefaultColumnFilter({\r\n  column: { filterValue, preFilteredRows, setFilter },\r\n}) {\r\n  const count = preFilteredRows.length\r\n\r\n  return (\r\n    <input\r\n      value={filterValue || ''}\r\n      onChange={e => {\r\n        setFilter(e.target.value || undefined) // Set undefined to remove the filter entirely\r\n      }}\r\n      placeholder={`Buscar en ${count} registros...`}\r\n      className=\"inputPageFilter\"\r\n    />\r\n  )\r\n}\r\n\r\nfunction fuzzyTextFilterFn(rows, id, filterValue) {\r\n  return matchSorter(rows, filterValue, { keys: [row => row.values[id]] })\r\n}\r\n\r\n// Let the table remove the filter if the string is empty\r\nfuzzyTextFilterFn.autoRemove = val => !val\r\n\r\nfunction DataTable({ columns, data }) {\r\n  // Use the state and functions returned from useTable to build your UI\r\n\r\n  const filterTypes = React.useMemo(\r\n    () => ({\r\n      // Add a new fuzzyTextFilterFn filter type.\r\n      fuzzyText: fuzzyTextFilterFn,\r\n      // Or, override the default text filter to use\r\n      // \"startWith\"\r\n      text: (rows, id, filterValue) => {\r\n        return rows.filter(row => {\r\n          const rowValue = row.values[id]\r\n          return rowValue !== undefined\r\n            ? String(rowValue)\r\n                .toLowerCase()\r\n                .startsWith(String(filterValue).toLowerCase())\r\n            : true\r\n        })\r\n      },\r\n    }),\r\n    []\r\n  )\r\n\r\n  const defaultColumn = React.useMemo(\r\n    () => ({\r\n      // Let's set up our default Filter UI\r\n      Filter: DefaultColumnFilter,\r\n    }),\r\n    []\r\n  )\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    page,\r\n    prepareRow,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize }\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn, // Be sure to pass the defaultColumn option\r\n      filterTypes,\r\n      initialState: { pageIndex: 0 },\r\n    },\r\n    useFilters,\r\n    useSortBy,\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table {...getTableProps()} className=\"table table-bordered\">\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()} className=\"text-center\">\r\n              {headerGroup.headers.map(column => (\r\n\r\n                <th {...column.getHeaderProps(column.getSortByToggleProps())} className=\"tr_cabecera\">\r\n                    {column.render('Header')}\r\n                    <span>\r\n                      {column.isSorted\r\n                        ? column.isSortedDesc\r\n                          ? ' 🔽'\r\n                          : ' 🔼'\r\n                        : ''}\r\n                    </span>\r\n                    <div>{column.canFilter ? column.render('Filter') : null}</div>\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()} className=\"text-center\">\r\n          {page.map(\r\n            (row, i) =>\r\n              prepareRow(row) || (\r\n                <tr {...row.getRowProps()}>\r\n                  {row.cells.map(cell => {\r\n                    return <td {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                  })}\r\n                </tr>\r\n              )\r\n          )}\r\n        </tbody>\r\n      </table>\r\n      <div className=\"pagination\">\r\n        <Button size=\"sm\" className=\"button-pagination\" variant=\"secondary\" onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </Button>{' '}\r\n        <Button size=\"sm\" className=\"button-pagination\" variant=\"secondary\" onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'<'}\r\n        </Button>{' '}\r\n        <Button size=\"sm\" className=\"button-pagination\" variant=\"secondary\" onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {'>'}\r\n        </Button>{' '}\r\n        <Button size=\"sm\" className=\"button-pagination\" variant=\"secondary\" onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </Button>{' '}\r\n        <span>\r\n          Página{' '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span className=\"ml-3\">\r\n          | <span className=\"ml-2\">Ir a la Página:{' '}</span>\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            className=\"inputPage\"\r\n            onChange={(e) => {\r\n              if(e.target.value > pageOptions.length){\r\n                e.target.value = 1\r\n              }\r\n            }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n          className=\"inputPage\"\r\n        >\r\n          {[10, 20, 30, 40, 50].map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Mostrar {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nconst Table = ({data,columns}) => {\r\n\r\n  return (\r\n    <Styles>\r\n      <DataTable data={data} columns={columns} />\r\n    </Styles>\r\n  )\r\n}\r\n\r\nTable.propTypes = {\r\n  data: PropTypes.array.isRequired,\r\n  columns : PropTypes.array.isRequired,\r\n}\r\n\r\nexport default Table\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n  Modal,\r\n  Button,\r\n  Form,\r\n  Row,\r\n  Col\r\n} from 'react-bootstrap'\r\nimport { FaUserCircle } from 'react-icons/fa';\r\nimport { API_URL } from 'utils/constants'\r\nimport 'styles/components/modalComponents.css'\r\nimport axios from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport InputField from 'components/input/InputComponent'\r\n\r\nconst FormClientModal = (props) => {\r\n\r\n  const [validate, setValidate] = useState(false)\r\n\r\n  const [client,setClient] = useState({\r\n    name_client: '',\r\n    email: '',\r\n    type_document: '',\r\n    data_document: '',\r\n    phone: '',\r\n    address: '',\r\n    observation: '',\r\n    picture: ''\r\n  })\r\n\r\n  useEffect(() => {\r\n    if(props.dataModify){\r\n      let updateClient = Object.assign({},props.dataModify)\r\n      setClient({\r\n        name_client : updateClient.name_client,\r\n        email: updateClient.email,\r\n        type_document: updateClient.type_document,\r\n        data_document: updateClient.data_document,\r\n        phone: updateClient.phone,\r\n        address: updateClient.address,\r\n        observation: updateClient.observation,\r\n        picture: updateClient.picture,\r\n        id: updateClient.id\r\n      })\r\n    }\r\n  },[props.dataModify])\r\n\r\n  const handleOnChange = e => {\r\n    setClient({...client, [e.target.name] : e.target.value})\r\n  }\r\n\r\n  const onSubmit = e => {\r\n\r\n    const form = e.currentTarget;\r\n    e.preventDefault();\r\n    if (form.checkValidity() === false) {\r\n      e.stopPropagation();\r\n      setValidate(true);\r\n      return\r\n    }\r\n\r\n    const dataSend = Object.assign({},client)\r\n\r\n    if(props.dataModify){\r\n      axios.put(API_URL+'client/'+dataSend.id,dataSend).then(result => {\r\n        toast.success('Cliente Modificado')\r\n        handleOnHide()\r\n      }).catch(err => {\r\n        if(err.response){\r\n          toast.error(err.response.data.message)\r\n        }else{\r\n          toast.error('Error, contacte con soporte')\r\n        }\r\n      })\r\n    }else{\r\n      axios.post(API_URL+'client',client).then(result => {\r\n        toast.success('Cliente Registrado')\r\n        handleOnHide()\r\n      }).catch(err => {\r\n        if(err.response){\r\n          toast.error(err.response.data.message)\r\n        }else{\r\n          toast.error('Error, contacte con soporte')\r\n        }\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  const handleOnHide = () => {\r\n    setClient({\r\n      name_client: '',\r\n      email: '',\r\n      type_document: '',\r\n      data_document: '',\r\n      phone: '',\r\n      address: '',\r\n      observation: '',\r\n      picture: ''\r\n    })\r\n    props.onHide()\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      show={props.isShow}\r\n      onHide={handleOnHide}\r\n      size=\"xl\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton className=\"header_dark\">\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Formulario de Clientes <FaUserCircle/>\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Form onSubmit={onSubmit} noValidate validated={validate}>\r\n      <Modal.Body>\r\n        <Row>\r\n          <Col sm={12} md={12} lg={12} xs={12}>\r\n              <Row>\r\n                <InputField\r\n                  {...props.inputName}\r\n                  handleChange={handleOnChange}\r\n                  value={client.name_client}\r\n                />\r\n                <InputField\r\n                  {...props.inputEmail}\r\n                  handleChange={handleOnChange}\r\n                  value={client.email}\r\n                />\r\n              </Row>\r\n              <Row>\r\n                <InputField\r\n                  {...props.inputTypeDocument}\r\n                  handleChange={handleOnChange}\r\n                  value={client.type_document}\r\n                >\r\n                  <option value=''>--Seleccione--</option>\r\n                  <option value={'Rut'}>Rut</option>\r\n                  <option value={'Id'}>Id</option>\r\n                  <option value={'Nro pasaporte'}>N° pasaporte</option>\r\n                </InputField>\r\n                <InputField\r\n                  {...props.inputDataDocument}\r\n                  handleChange={handleOnChange}\r\n                  value={client.data_document}\r\n                />\r\n              </Row>\r\n              <Row>\r\n                <InputField\r\n                  {...props.inputPhone}\r\n                  handleChange={handleOnChange}\r\n                  value={client.phone}\r\n                />\r\n                <InputField\r\n                  {...props.inputAddress}\r\n                  handleChange={handleOnChange}\r\n                  value={client.address}\r\n                />\r\n              </Row>\r\n              <Row>\r\n                <InputField\r\n                  {...props.inputObservation}\r\n                  handleChange={handleOnChange}\r\n                  value={client.observation}\r\n                />\r\n              </Row>\r\n          </Col>\r\n        </Row>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button size=\"sm\" variant=\"success\" type=\"submit\">Enviar</Button>\r\n        <Button size=\"sm\" onClick={handleOnHide}>Cerrar</Button>\r\n      </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nFormClientModal.propTypes = {\r\n  isShow : PropTypes.bool.isRequired,\r\n  onHide: PropTypes.func.isRequired,\r\n  dataModify: PropTypes.object,\r\n}\r\n\r\nFormClientModal.defaultProps = {\r\n  inputName: {\r\n    type: 'text',\r\n    required: true,\r\n    name: 'name_client',\r\n    label : 'Nombre Cliente',\r\n    cols:\"col-sm-6 col-md-6 col-lg-6 col-xs-6\",\r\n    messageErrors: [\r\n      'Requerido*'\r\n    ],\r\n  },\r\n  inputEmail: {\r\n    type: 'email',\r\n    required: false,\r\n    name: 'email',\r\n    label : 'Email',\r\n    cols:\"col-sm-6 col-md-6 col-lg-6 col-xs-6\",\r\n    messageErrors: [\r\n      'Requerido*, ','Formato Tipo Email*'\r\n    ],\r\n  },\r\n  inputPhone: {\r\n    type: 'phone',\r\n    required: false,\r\n    name: 'phone',\r\n    label : 'Teléfono',\r\n    cols:\"col-sm-6 col-md-6 col-lg-6 col-xs-6\",\r\n    messageErrors: [],\r\n  },\r\n  inputAddress: {\r\n    type: 'textarea',\r\n    required: false,\r\n    name: 'address',\r\n    label : 'Dirección',\r\n    cols:\"col-sm-6 col-md-6 col-lg-6 col-xs-6\",\r\n    rows: 3,\r\n    messageErrors: [],\r\n  },\r\n  inputTypeDocument: {\r\n    type: 'select',\r\n    required: false,\r\n    name: 'type_document',\r\n    label : 'Tipo de Documento',\r\n    cols:\"col-sm-6 col-md-6 col-lg-6 col-xs-6\",\r\n    messageErrors: [\r\n      'Requerido*'\r\n    ],\r\n  },\r\n  inputDataDocument: {\r\n    type: 'text',\r\n    required: false,\r\n    name: 'data_document',\r\n    label : 'Información Identidad',\r\n    cols:\"col-sm-6 col-md-6 col-lg-6 col-xs-6\",\r\n    placeholder: 'Introduzca su rut, id o su n° de pasaporte',\r\n    messageErrors: [\r\n      'Requerido*'\r\n    ],\r\n  },\r\n  inputObservation: {\r\n    type: 'textarea',\r\n    required: false,\r\n    name: 'observation',\r\n    label : 'Observación',\r\n    cols:\"col-sm-6 col-md-6 col-lg-6 col-xs-6\",\r\n    rows: 3,\r\n    messageErrors: [],\r\n  },\r\n\r\n}\r\n\r\nexport default FormClientModal\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Autocomplete from 'react-autocomplete'\r\nimport { FaSearch } from 'react-icons/fa'\r\nimport 'styles/components/autoComplete.css'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\r\nimport Tooltip from 'react-bootstrap/Tooltip';\r\n\r\nconst AutoCompleteClientComponent = (props) => {\r\n\r\n  const [value, setValue] = useState('')\r\n\r\n  useEffect(() => {\r\n    if(props.resetValue){\r\n      setValue('')\r\n      props.handleResetValueClient()\r\n    }\r\n  },[props.resetValue])\r\n  return (\r\n    <OverlayTrigger placement={'top'} overlay={<Tooltip id=\"tooltip-disabled\">Buscar Cliente</Tooltip>}>\r\n      <div className=\"input-search\">\r\n        <FaSearch />\r\n        <Autocomplete\r\n          getItemValue={(item) => item.name_client+'-'+item.data_document}\r\n          items={props.items}\r\n          shouldItemRender={(item, value) =>{\r\n            return !item.name_client.toLowerCase().indexOf(value.toString().toLowerCase()) || !item.data_document.toLowerCase().indexOf(value.toString().toLowerCase())\r\n          }}\r\n\r\n          renderItem={ (item, isHighlighted) =>\r\n            <div style={{ background: isHighlighted ? 'lightgray' : 'white' }} key={item.id} >\r\n              { item.name_client}\r\n            </div>\r\n          }\r\n          value={value}\r\n          onChange={(e) =>setValue(e.target.value) }\r\n          onSelect={(val) =>{\r\n            setValue(val)\r\n            props.returnValue(val)\r\n          }}\r\n        />\r\n      </div>\r\n    </OverlayTrigger>\r\n\r\n  )\r\n}\r\n\r\nAutoCompleteClientComponent.propTypes = {\r\n  items: PropTypes.array.isRequired,\r\n  returnValue: PropTypes.func.isRequired,\r\n  resetValue: PropTypes.bool.isRequired,\r\n  handleResetValueClient: PropTypes.func.isRequired\r\n}\r\n\r\nexport default AutoCompleteClientComponent\r\n","import React, { useState, useEffect, useMemo, useRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Tab,\r\n  Tabs,\r\n  Modal,\r\n  Button,\r\n  Dropdown,\r\n  DropdownButton,\r\n  Form\r\n} from 'react-bootstrap'\r\n\r\nimport { toast } from 'react-toastify'\r\nimport { API_URL } from 'utils/constants'\r\nimport Table from 'components/Table'\r\nimport InputField from 'components/input/InputComponent'\r\nlet table_inventary = null\r\n\r\nconst ModalCotizacionProduct = (props) => {\r\n\r\n  const [showSection, setShowSection] = useState(false)\r\n  const [cantidadProduct,setCantidadProduct] = useState('')\r\n  const [productChoice,setProductChoice] = useState(null)\r\n  const [productNew, setProductNew] = useState({\r\n    name_product: '',\r\n    is_neto: true,\r\n    tax_additional: '',\r\n    quantity: '',\r\n    unity: 1,\r\n    concept: '',\r\n    description: '',\r\n    price: '',\r\n    unit_price_with_tax: '',\r\n    amount_discount_recharge: '',\r\n    type_discount_recharge: '',\r\n    type_amount_discount_recharge: '',\r\n    price_total: '',\r\n    price_backup_unit : '',\r\n    price_total_with_tax:'',\r\n    not_registered: true,\r\n  })\r\n  const [validateForm, setValidateForm] = useState(false)\r\n  const inputRefQuantity = useRef('')\r\n\r\n  useMemo(() => {\r\n    table_inventary = [\r\n      {\r\n        Header: 'Producto',\r\n        accessor: 'name_product',\r\n      },\r\n      {\r\n        Header: 'Precio',\r\n        accessor: 'price'\r\n      },\r\n      {\r\n        Header: 'Acciones',\r\n        Cell: props => {\r\n          const id = props.cell.row.original.id\r\n          return (\r\n            <Button size=\"sm\" variant=\"primary\" block={true} onClick={() => selectProduct(props.cell.row.original)}>Agregar</Button>\r\n          )\r\n        }\r\n      }\r\n    ]\r\n  },[])\r\n\r\n  const calculatePriceWithTax = data => {\r\n\r\n    let calculo = parseFloat(data.price) * data.quantity\r\n    let tax_extra = (parseFloat(data.price) * parseFloat(data.tax_additional)) / 100\r\n    let calculo_with_tax = calculo + tax_extra\r\n    return {\r\n        total_price_unit_with_tax : tax_extra + parseFloat(data.price),\r\n        total_price : calculo,\r\n        total_price_with_tax : calculo_with_tax\r\n    }\r\n  }\r\n\r\n  const calculateDiscountOrRecharge = data => {\r\n    let price_new = null\r\n    if(data.type_amount_discount_recharge === \"Descuento\"){\r\n      price_new = data.type_discount_recharge === \"Porcentaje\" ? parseFloat(data.price) - ((parseFloat(data.price) * parseFloat(data.amount_discount_recharge)) / 100)  : parseFloat(data.price) - parseFloat(data.amount_discount_recharge)\r\n    }else{\r\n      price_new = data.type_discount_recharge === \"Porcentaje\" ? parseFloat(data.price) + ((parseFloat(data.price) * parseFloat(data.amount_discount_recharge)) / 100)  : parseFloat(data.price) + parseFloat(data.amount_discount_recharge)\r\n    }\r\n\r\n    if(data.tax_additional){\r\n\r\n      let calculo = parseFloat(price_new) * data.quantity\r\n      let tax_extra = (parseFloat(price_new) * parseFloat(data.tax_additional)) / 100\r\n      let calculo_with_tax = calculo + tax_extra\r\n\r\n      return {\r\n        price_new,\r\n        total_price_unit_with_tax : tax_extra + parseFloat(price_new),\r\n        total_price : calculo,\r\n        total_price_with_tax : calculo_with_tax\r\n      }\r\n\r\n    }else{\r\n      return{\r\n        price_new,\r\n        total_price : parseFloat(price_new) * data.quantity,\r\n        total_price_unit_with_tax: data.total_price_unit_with_tax,\r\n        total_price_with_tax: data.total_price_with_tax\r\n      }\r\n    }\r\n  }\r\n\r\n  const cleanData = () => {\r\n    setProductNew({\r\n      name_product: '',\r\n      is_neto: true,\r\n      tax_additional: '',\r\n      quantity: '',\r\n      unity: 1,\r\n      concept: '',\r\n      description: '',\r\n      price: '',\r\n      unit_price_with_tax: '',\r\n      amount_discount_recharge: '',\r\n      type_discount_recharge: '',\r\n      type_amount_discount_recharge: '',\r\n      price_total: '',\r\n      price_backup_unit : '',\r\n      price_total_with_tax:'',\r\n      not_registered: true,\r\n    })\r\n\r\n    setProductChoice(null)\r\n    setShowSection(false)\r\n    setCantidadProduct('')\r\n  }\r\n\r\n  const finishSelectProduct = () => {\r\n    if(cantidadProduct){\r\n      productChoice.quantity = cantidadProduct\r\n      props.handleSelectProduct(productChoice)\r\n      cleanData()\r\n    }else{\r\n      toast.error('La cantidad no puede estar vacia')\r\n    }\r\n\r\n  }\r\n\r\n  const handleHide = () => {\r\n    cleanData()\r\n    props.onHide()\r\n  }\r\n\r\n  const handleSubmit = e => {\r\n\r\n    const form = e.currentTarget;\r\n    e.preventDefault();\r\n    if (form.checkValidity() === false) {\r\n      e.stopPropagation();\r\n      setValidateForm(true);\r\n      return\r\n    }\r\n    props.handleSelectProduct(Object.assign({},productNew))\r\n    cleanData()\r\n    setValidateForm(false)\r\n  }\r\n\r\n  const onChange = e => {\r\n    setCantidadProduct(e.target.value)\r\n  }\r\n\r\n  const onChangeNewProduct = e => {\r\n    e.persist()\r\n    let productCopy = Object.assign({},productNew)\r\n    let total_price_unit_with_tax = productCopy.unit_price_with_tax\r\n    let total_price = productCopy.total_price\r\n    let total_price_with_tax = productCopy.total_price_with_tax\r\n    let price_backup_unit = productCopy.price\r\n\r\n    if(e.target.name === 'quantity'){\r\n      if(productNew.price){\r\n        if(productNew.tax_additional){\r\n\r\n          productCopy.quantity = e.target.value\r\n          let result = calculatePriceWithTax(productCopy)\r\n          total_price_unit_with_tax = result.total_price_unit_with_tax\r\n          total_price = result.total_price\r\n          total_price_with_tax =  result.total_price_with_tax\r\n        }else{\r\n          let calculo = parseFloat(productCopy.price) * e.target.value\r\n          total_price = calculo\r\n        }\r\n      }\r\n    }\r\n\r\n    if(e.target.name === 'price'){\r\n      if(productCopy.quantity){\r\n        if(productCopy.tax_additional){\r\n          productCopy.price = e.target.value\r\n          let result = calculatePriceWithTax(productCopy)\r\n          total_price_unit_with_tax = result.total_price_unit_with_tax\r\n          total_price = result.total_price\r\n          total_price_with_tax =  result.total_price_with_tax\r\n\r\n        }else{\r\n          let calculo = parseFloat(e.target.value) * productCopy.quantity\r\n          total_price = calculo\r\n        }\r\n      }else if(productCopy.tax_additional){\r\n        let tax_extra = (parseFloat(e.target.value) * parseFloat(productCopy.tax_additional)) / 100\r\n        total_price_unit_with_tax = tax_extra + parseFloat(e.target.value)\r\n      }\r\n      productCopy.price_backup_unit = e.target.value\r\n    }\r\n\r\n\r\n    if(e.target.name === \"type_amount_discount_recharge\" && productCopy.amount_discount_recharge && productCopy.type_discount_recharge){\r\n\r\n      productCopy.type_amount_discount_recharge = e.target.value\r\n      let result = calculateDiscountOrRecharge(productCopy)\r\n      total_price_unit_with_tax = result.total_price_unit_with_tax\r\n      total_price = result.total_price\r\n      total_price_with_tax = result.price_total_with_tax\r\n      productCopy.price = result.price_new\r\n\r\n    }else if(e.target.name === \"amount_discount_recharge\" && productCopy.type_amount_discount_recharge && productCopy.type_discount_recharge){\r\n\r\n      productCopy.amount_discount_recharge = e.target.value\r\n      let result = calculateDiscountOrRecharge(productCopy)\r\n      total_price_unit_with_tax = result.total_price_unit_with_tax\r\n      total_price = result.total_price\r\n      total_price_with_tax = result.price_total_with_tax\r\n      productCopy.price = result.price_new\r\n\r\n    }else if(e.target.name === \"type_discount_recharge\" && productCopy.type_amount_discount_recharge && productCopy.amount_discount_recharge){\r\n\r\n      productCopy.type_discount_recharge = e.target.value\r\n      let result = calculateDiscountOrRecharge(productCopy)\r\n      total_price_unit_with_tax = result.total_price_unit_with_tax\r\n      total_price = result.total_price\r\n      total_price_with_tax = result.price_total_with_tax\r\n      productCopy.price = result.price_new\r\n    }\r\n\r\n    if(e.target.name === \"concept\"){\r\n      if(e.target.value.length > 15){\r\n        e.target.value  = e.target.value.substring(0,e.target.value.length - 1)\r\n      }\r\n    }\r\n\r\n    productCopy.unit_price_with_tax = total_price_unit_with_tax\r\n    productCopy.price_total = total_price\r\n    productCopy.price_total_with_tax = total_price_with_tax\r\n    productCopy[e.target.name] = e.target.value\r\n\r\n    setProductNew(productCopy)\r\n  }\r\n\r\n  const removeDiscountOrRecharge = () => {\r\n\r\n    let productCopy = Object.assign({},productNew)\r\n\r\n    productCopy.price = productCopy.price_backup_unit\r\n    let result = calculatePriceWithTax(productCopy)\r\n    productCopy.unit_price_with_tax = result.total_price_unit_with_tax\r\n    productCopy.price_total = result.total_price\r\n    productCopy.price_total_with_tax =  result.total_price_with_tax\r\n    productCopy.type_amount_discount_recharge = \"\"\r\n    productCopy.amount_discount_recharge = \"\"\r\n    productCopy.type_discount_recharge = \"\"\r\n    setProductNew(productCopy)\r\n\r\n  }\r\n\r\n  const selectProduct = data => {\r\n    setProductChoice(Object.assign({},data))\r\n    setShowSection(true)\r\n    setTimeout(() => {\r\n      if(inputRefQuantity.current){\r\n        inputRefQuantity.current.focus()\r\n      }\r\n    },300)\r\n  }\r\n\r\n\r\n  return (\r\n    <Modal\r\n      show={props.isShow}\r\n      onHide={props.onHide}\r\n      size=\"xl\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n      backdrop='static'\r\n    >\r\n      <Modal.Header closeButton={true} style={{ backgroundColor: 'black', color: 'white'}}>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n           Productos\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Container>\r\n          <Row>\r\n            <Col sm={12} md={12} lg={12} xs={12} className=\"\">\r\n              <Tabs defaultActiveKey=\"inventary\" id=\"uncontrolled-tab-example\">\r\n                <Tab eventKey=\"inventary\" title=\"Inventario\">\r\n                  {!showSection ? (\r\n                    <Table data={props.products} columns={table_inventary} />\r\n                  ) : (\r\n                    <React.Fragment>\r\n                      <br/><br/>\r\n                      <Row className=\"justify-content-center\">\r\n                        <Col sm={6} md={6} lg={6}>\r\n                          <label className=\"form-control-label\">Cantidad</label>\r\n                          <input ref={inputRefQuantity} onChange={onChange} className=\"form-control\" value={cantidadProduct} />\r\n                        </Col>\r\n                      </Row>\r\n                      <br/><br/>\r\n                      <Row className=\"justify-content-center\">\r\n                        <Col sm={6} md={6} lg={6}>\r\n                          <Button size=\"sm\" variant=\"primary\" block={true} onClick={finishSelectProduct}>Aceptar</Button>\r\n                        </Col>\r\n                      </Row>\r\n                    </React.Fragment>\r\n                  )}\r\n                </Tab>\r\n                <Tab eventKey=\"new\" title=\"Nuevo Producto\">\r\n                  <br/>\r\n                  <Container>\r\n                    <Row>\r\n                      <Col sm={12} md={12} lg={12}>\r\n                        <Form onSubmit={handleSubmit} noValidate validated={validateForm}>\r\n                          <br/>\r\n                          <Row>\r\n                            <Col sm={12} md={12} lg={12}>\r\n                              <label className=\"form-control-label\">Es Neto?</label>\r\n                            </Col>\r\n                            <Col sm={1} md={1} lg={1}>\r\n                              <label className=\"checkbox-inline\">\r\n                                <input type=\"radio\" value={false} checked={!productNew.is_neto} name=\"is_neto\" onChange={onChangeNewProduct} />\r\n                                No\r\n                              </label>\r\n                            </Col>\r\n                            <Col sm={1} md={1} lg={1}>\r\n                              <label className=\"checkbox-inline\">\r\n                                <input type=\"radio\" value={true} checked={productNew.is_neto} name=\"is_neto\" onChange={onChangeNewProduct} />\r\n                                Si\r\n                              </label>\r\n                            </Col>\r\n                            <InputField\r\n                              {...props.inputNameProduct}\r\n                              value={productNew.name_product}\r\n                              handleChange={onChangeNewProduct}\r\n                            />\r\n                            <InputField\r\n                              {...props.inputTaxAditional}\r\n                              handleChange={onChangeNewProduct}\r\n                              value={productNew.tax_additional}\r\n                            >\r\n                              <option value=''>--Seleccione</option>\r\n                            </InputField>\r\n                          </Row>\r\n                          <Row>\r\n                            <InputField\r\n                              {...props.inputQuantity}\r\n                              handleChange={onChangeNewProduct}\r\n                              value={productNew.quantity}\r\n                            />\r\n                            <InputField\r\n                              {...props.inputUnity}\r\n                              handleChange={onChangeNewProduct}\r\n                              value={productNew.unity}\r\n                            >\r\n                              <option value={1}>Unidad</option>\r\n                              <option value={2}>Mayorista</option>\r\n                              <option value={3}>(Kilos,Litros,Metros,Entre Otros...)</option>\r\n                            </InputField>\r\n                            <InputField\r\n                              {...props.inputConcept}\r\n                              handleChange={onChangeNewProduct}\r\n                              value={productNew.concept}\r\n                            />\r\n                          </Row>\r\n                          <Row>\r\n                            <InputField\r\n                              {...props.inputDescription}\r\n                              handleChange={onChangeNewProduct}\r\n                              value={productNew.description}\r\n                            />\r\n                            <InputField\r\n                              {...props.inputUnitPrice}\r\n                              handleChange={onChangeNewProduct}\r\n                              value={productNew.price}\r\n                            />\r\n                            <InputField\r\n                              {...props.inputUnitPriceTax}\r\n                              handleChange={onChangeNewProduct}\r\n                              value={productNew.unit_price_with_tax}\r\n                            />\r\n                          </Row>\r\n                          <Row>\r\n                            <Col sm={12} md={12} lg={12}>\r\n                              <h4 className=\"text-center\">Descuentos y Recargos</h4>\r\n                              <br/>\r\n                            </Col>\r\n                          </Row>\r\n                          <Row>\r\n                            <InputField\r\n                              {...props.inputTypeAmountRechargeDiscount}\r\n                              handleChange={onChangeNewProduct}\r\n                              value={productNew.type_amount_discount_recharge}\r\n                            >\r\n                              <option value=''>--Seleccione--</option>\r\n                              <option value='Descuento'>Descuento</option>\r\n                              <option value='Recargo'>Recargo</option>\r\n\r\n                            </InputField>\r\n                            <InputField\r\n                              {...props.inputAmountDiscountRecharge}\r\n                              handleChange={onChangeNewProduct}\r\n                              value={productNew.amount_discount_recharge}\r\n                            />\r\n                            <InputField\r\n                              {...props.inputTypeRechargeDiscount}\r\n                              handleChange={onChangeNewProduct}\r\n                              value={productNew.type_discount_recharge}\r\n                            >\r\n                              <option value=''>--Seleccione--</option>\r\n                              <option value='Fijo'>Fijo</option>\r\n                              <option vale='Porcentaje'>Porcentaje</option>\r\n                            </InputField>\r\n                          </Row>\r\n                          <Row className=\"justify-content-center\">\r\n                            <InputField\r\n                              {...props.inputPriceTotal}\r\n                              handleChange={onChangeNewProduct}\r\n                              value={productNew.price_total}\r\n                            />\r\n                            <InputField\r\n                              {...props.inputPriceTotalTax}\r\n                              handleChange={onChangeNewProduct}\r\n                              value={productNew.price_total_with_tax}\r\n                            />\r\n                          </Row>\r\n                          <Row className=\"justify-content-center\">\r\n                            <Col sm={4} md={4} lg={4}>\r\n                              <Button size=\"sm\" type=\"submit\" variant=\"primary\" block={true}>Enviar</Button>\r\n                            </Col>\r\n                            <Col sm={4} md={4} lg={4}>\r\n                              <Button size=\"sm\" type=\"button\" variant=\"danger\" block={true} onClick={removeDiscountOrRecharge} >Remover Descuento o Recargo</Button>\r\n                            </Col>\r\n                          </Row>\r\n                        </Form>\r\n                      </Col>\r\n                    </Row>\r\n                  </Container>\r\n                </Tab>\r\n              </Tabs>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button size=\"sm\" variant=\"secondary\" onClick={handleHide}>Cerrar</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalCotizacionProduct.propTypes = {\r\n  handleSelectProduct: PropTypes.func.isRequired,\r\n  handleSelectProductNotRegistered: PropTypes.func.isRequired,\r\n  products: PropTypes.array.isRequired\r\n}\r\n\r\nModalCotizacionProduct.defaultProps = {\r\n  inputNameProduct : {\r\n    type: 'text',\r\n    required: false,\r\n    name: 'name_product',\r\n    label : 'Nombre Producto',\r\n    messageErrors: [\r\n      //'Requerido*'\r\n    ],\r\n    cols:\"col-sm-5 col-md-5 col-lg-5 col-xs-5\"\r\n  },\r\n  inputTaxAditional : {\r\n    type: 'select',\r\n    required: false,\r\n    name: 'tax_additional',\r\n    label : 'Impuesto Adicional',\r\n    messageErrors: [\r\n      //'Requerido*'\r\n    ],\r\n    cols:\"col-sm-5 col-md-5 col-lg-5 col-xs-5\"\r\n  },\r\n  inputQuantity: {\r\n    type: 'number',\r\n    required: true,\r\n    name: 'quantity',\r\n    label : 'Cantidad',\r\n    messageErrors: [\r\n      'Requerido*'\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\"\r\n  },\r\n  inputUnity:{\r\n    type: 'select',\r\n    required: true,\r\n    name: 'unity',\r\n    label : 'Unidad',\r\n    messageErrors: [\r\n      'Requerido*'\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\"\r\n  },\r\n  inputConcept:{\r\n    type: 'textarea',\r\n    required: true,\r\n    name: 'concept',\r\n    label : 'Concepto',\r\n    rows: 2,\r\n    messageErrors: [\r\n      'Requerido*'\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\"\r\n  },\r\n  inputDescription:{\r\n    type: 'textarea',\r\n    required: false,\r\n    name: 'description',\r\n    label : 'Descripción',\r\n    rows: 2,\r\n    messageErrors: [\r\n\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\"\r\n  },\r\n  inputUnitPrice:{\r\n    type: 'number',\r\n    required: true,\r\n    name: 'price',\r\n    label : 'Precio Unitario',\r\n    messageErrors: [\r\n      'Requerido*'\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\"\r\n  },\r\n  inputUnitPriceTax:{\r\n    type: 'number',\r\n    required: false,\r\n    name: 'unit_price_with_tax',\r\n    label : 'Precio Unitario con Impuesto',\r\n    messageErrors: [\r\n\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\",\r\n    readonly: true\r\n  },\r\n  inputAmountDiscountRecharge:{\r\n    type: 'number',\r\n    required: false,\r\n    name: 'amount_discount_recharge',\r\n    label : 'Monto Recargo o Descuento',\r\n    messageErrors: [\r\n\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\"\r\n  },\r\n  inputTypeDiscountRecharge:{\r\n    type: 'select',\r\n    required: false,\r\n    name: 'type_discount_recharge',\r\n    label : 'Tipo de Descuento o Recargo',\r\n    messageErrors: [\r\n\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\"\r\n  },\r\n  inputAmountDiscountRecharge:{\r\n    type: 'number',\r\n    required: false,\r\n    name: 'amount_discount_recharge',\r\n    label : 'Monto Recargo o Descuento',\r\n    messageErrors: [\r\n\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\"\r\n  },\r\n  inputPriceTotal:{\r\n    type: 'number',\r\n    required: false,\r\n    name: 'price_total',\r\n    label : 'Precio Total',\r\n    messageErrors: [\r\n\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\",\r\n    readonly:true\r\n  },\r\n  inputPriceTotalTax:{\r\n    type: 'number',\r\n    required: false,\r\n    name: 'price_total_with_tax',\r\n    label : 'Precio Total con Impuesto',\r\n    messageErrors: [\r\n\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\",\r\n    readonly:true\r\n  },\r\n  inputTypeAmountRechargeDiscount:{\r\n    type: 'select',\r\n    required: false,\r\n    name: 'type_amount_discount_recharge',\r\n    label : 'Tipo de Acción',\r\n    messageErrors: [\r\n\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\",\r\n  },\r\n  inputTypeRechargeDiscount:{\r\n    type: 'select',\r\n    required: false,\r\n    name: 'type_discount_recharge',\r\n    label : 'Porcetaje o Fijo',\r\n    messageErrors: [\r\n\r\n    ],\r\n    cols:\"col-sm-4 col-md-4 col-lg-4 col-xs-4\",\r\n  },\r\n}\r\n\r\nexport default ModalCotizacionProduct\r\n","import React, { useState, useEffect, useMemo, useRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Modal,\r\n  Button,\r\n  Form\r\n} from 'react-bootstrap'\r\n\r\nimport { toast } from 'react-toastify'\r\nimport { API_URL } from 'utils/constants'\r\nimport Table from 'components/Table'\r\nimport InputField from 'components/input/InputComponent'\r\n\r\nconst ModalGastosCotizacion = (props) => {\r\n\r\n  const [gastoNew, setGastoNew] = useState({\r\n    description: '',\r\n    amount: '',\r\n  })\r\n  const [validateForm,setValidateForm] = useState(false)\r\n  const inputElement = useRef()\r\n\r\n  useEffect(() => {\r\n    if(props.isShow){\r\n      setTimeout(() => {\r\n        inputElement.current.focus()\r\n      },300)\r\n    }\r\n  },[props.isShow])\r\n\r\n  const handleHide = () => {\r\n    setGastoNew({\r\n      description: '',\r\n      amount: '',\r\n    })\r\n    setValidateForm(false)\r\n    props.onHide()\r\n  }\r\n\r\n  const handleSubmit = e => {\r\n\r\n    const form = e.currentTarget;\r\n    e.preventDefault();\r\n    if (form.checkValidity() === false) {\r\n      e.stopPropagation();\r\n      setValidateForm(true);\r\n      return\r\n    }\r\n\r\n    let gastoSubmit = Object.assign({},gastoNew)\r\n    props.handleGastoSubmit(gastoSubmit)\r\n    setGastoNew({\r\n      description: '',\r\n      amount: '',\r\n    })\r\n    inputElement.current.focus()\r\n    toast.success('Gasto Agregado, agregue otro si desea')\r\n    setValidateForm(false)\r\n  }\r\n\r\n  const onChange = e => {\r\n    setGastoNew({...gastoNew, [e.target.name] : e.target.value })\r\n  }\r\n\r\n\r\n  return (\r\n    <Modal\r\n      show={props.isShow}\r\n      onHide={props.onHide}\r\n      size=\"xl\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n      backdrop='static'\r\n    >\r\n      <Modal.Header closeButton style={{ backgroundColor: 'black', color: 'white'}}>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n           Gastos de la Cotización\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form onSubmit={handleSubmit} noValidate validated={validateForm}>\r\n          <Row>\r\n            <Col sm={6} md={6} lg={6}>\r\n              <label className=\"form-control-label\">Descripción</label>\r\n              <input className=\"form-control\"\r\n                {...props.inputDescription}\r\n                value={gastoNew.description}\r\n                onChange={onChange}\r\n                ref={inputElement} />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  <span className=\"error-input\">'Requerido*'</span>\r\n                </Form.Control.Feedback>\r\n            </Col>\r\n            <InputField\r\n              {...props.inputAmount}\r\n              value={gastoNew.amount}\r\n              handleChange={onChange}\r\n            />\r\n          </Row>\r\n          <Row className=\"justify-content-center\">\r\n            <Col sm={12} md={12} lg={12}>\r\n              <Button size=\"sm\" type=\"submit\" variant=\"primary\" block={true}>\r\n                Agregar\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button size=\"sm\" variant=\"secondary\" onClick={handleHide}>Cerrar</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\n\r\nModalGastosCotizacion.propTypes = {\r\n  handleGastoSubmit: PropTypes.func.isRequired,\r\n  onHide: PropTypes.func.isRequired,\r\n  isShow: PropTypes.bool.isRequired\r\n}\r\n\r\nModalGastosCotizacion.defaultProps = {\r\n  inputDescription: {\r\n    type: 'text',\r\n    required: true,\r\n    name: 'description',\r\n  },\r\n  inputAmount: {\r\n    type: 'number',\r\n    required: true,\r\n    name: 'amount',\r\n    label : 'Monto',\r\n    messageErrors: [\r\n      'Requerido*'\r\n    ],\r\n    cols:\"col-sm-6 col-md-6 col-lg-6 col-xs-6\"\r\n  }\r\n}\r\n\r\nexport default ModalGastosCotizacion\r\n","export const ColumnsCotization = [\r\n\r\n      {\r\n        Header: 'Nro Cotización',\r\n        accessor: 'correlative'\r\n      },\r\n      {\r\n        Header: 'Cliente',\r\n        accessor: props => props.client.name_client\r\n      },\r\n      {\r\n        Header: 'Estado',\r\n        accessor: 'status'\r\n      },\r\n]\r\n\r\nexport const GastosCotizacion = [\r\n  {\r\n    Header: 'Descripción',\r\n    accessor: 'description'\r\n  },\r\n  {\r\n    Header: 'Monto',\r\n    accessor: 'amount'\r\n  }\r\n]\r\n","import React, { useState, useMemo, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport {\r\n  Modal,\r\n  Button,\r\n  Form,\r\n  Row,\r\n  Col,\r\n  DropdownButton,\r\n  Dropdown\r\n} from 'react-bootstrap'\r\n\r\nimport InputField from 'components/input/InputComponent'\r\nimport { toast } from 'react-toastify'\r\nimport Table from 'components/Table'\r\nlet client_columns = null\r\n\r\nconst ModalClientCotizacion = (props) => {\r\n\r\n  const [clientSelect,setClientSelect] = useState([])\r\n  const [disableButton, setDisableButton] = useState(false)\r\n  useEffect(() => {\r\n    return () => {\r\n      client_columns = null\r\n    }\r\n  },[])\r\n\r\n  useMemo(() => {\r\n    client_columns = [\r\n      {\r\n        Header: 'Nombre Cliente',\r\n        accessor: 'name_client'\r\n      },\r\n      {\r\n        Header: 'Email',\r\n        accessor: 'email'\r\n      },\r\n      {\r\n        Header: 'Documento',\r\n        accessor: props1 => [props1.type_document+' '+props1.data_document],\r\n        Cell: props1 => {\r\n          return (props1.cell.row.original.type_document+'\\n'+props1.cell.row.original.data_document)\r\n        }\r\n      },\r\n      {\r\n        Header: 'Seleccione',\r\n        Cell: props1 => {\r\n          return (\r\n            <input type=\"checkbox\" value={props1.cell.row.original.email}  onChange={addOrRemoveClient} className=\"checkTable\" />\r\n          )\r\n        }\r\n      }\r\n    ]\r\n  },[])\r\n\r\n  const addOrRemoveClient = e => {\r\n    e.persist()\r\n    if(e.target.checked){\r\n      setClientSelect( client => [...client,e.target.value])\r\n    }else{\r\n      setClientSelect( state => state.filter(v => v !== e.target.value) )\r\n    }\r\n  }\r\n\r\n  const descheck = () => {\r\n    document.querySelectorAll('.checkTable').forEach((item, i) => {\r\n      item.checked = false\r\n    });\r\n\r\n  }\r\n\r\n  const handleOnHide = () => {\r\n    props.onHide()\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n      props.handleClientSubmit([...clientSelect])\r\n      if(clientSelect.length > 0){\r\n        setClientSelect([])\r\n        descheck()\r\n        setDisableButton(true)\r\n        setTimeout(() => {\r\n          setDisableButton(false)\r\n        },5000)\r\n      }else{\r\n        toast.error('Debe seleccionar al menos 1 cliente')\r\n      }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      show={props.isShow}\r\n      onHide={handleOnHide}\r\n      size=\"xl\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton className=\"header_dark\">\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Clientes registrados\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Table data={props.clients} columns={client_columns} />\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button size=\"sm\" variant=\"primary\" onClick={handleSubmit} disabled={disableButton}>Enviar</Button>\r\n        <Button size=\"sm\" variant=\"secondary\" onClick={handleOnHide} disabled={disableButton}>cerrar</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalClientCotizacion.propTypes = {\r\n  clients: PropTypes.array.isRequired,\r\n  isShow: PropTypes.bool.isRequired,\r\n  onHide: PropTypes.func.isRequired,\r\n  handleClientSubmit: PropTypes.func.isRequired\r\n}\r\n\r\nexport default ModalClientCotizacion\r\n","import React, { useState, useEffect, useMemo } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport axios from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport {\r\n  Row,\r\n  Col,\r\n  Container,\r\n  Button,\r\n  Dropdown,\r\n  DropdownButton\r\n} from 'react-bootstrap'\r\nimport { API_URL, FRONT_URL } from 'utils/constants'\r\nimport { FaShareAltSquare,FaLocationArrow, FaPlusCircle, FaMailBulk, FaTrashAlt } from 'react-icons/fa'\r\nimport { MdPrint } from 'react-icons/md'\r\nimport Table from 'components/Table'\r\nimport AutoCompleteClientComponent from 'components/AutoCompleteClientComponent'\r\nimport FormClientModal from 'components/modals/FormClientModal'\r\nimport ModalCotizacionProduct from 'components/modals/ModalCotizacionProduct'\r\nimport ModalGastosCotizacion from 'components/modals/ModalGastosCotizacion'\r\nimport { showPriceWithDecimals } from 'utils/functions'\r\n\r\nimport { ColumnsCotization, GastosCotizacion } from 'utils/columns/cotization'\r\nimport ModalClientCotizacion from 'components/modals/ModalClientCotizacion'\r\n\r\nlet DetailCotizacion = null\r\n\r\nconst CotizationPage = (props) => {\r\n\r\n  const [clients,setClients] = useState([])\r\n  const [clientDetail,setClientDetail] = useState({})\r\n  const [detailProducts, setDetailProducts] = useState([])\r\n  const [isShowModalClient, setIsShowModalClient] = useState(false)\r\n  const [isShowModalGastos, setIsShowModalGastos] = useState(false)\r\n  const [isShowModalProduct, setIsShowModalProduct] = useState(false)\r\n  const [products,setProducts] = useState([])\r\n  const [resetValueClient,setResetValueClient] = useState(false)\r\n  const [gastosDetail,setGastosDetail] = useState([])\r\n  const [openModalClientMail,setOpenModalClientMail] = useState(false)\r\n  const [disableButtons,setDisableButton] = useState(false)\r\n  const [commentCotizacion, setCommentCotizacion] = useState('')\r\n\r\n  useEffect(() => {\r\n    fetchClients()\r\n    fetchProducts()\r\n    if(props.match.params.id){\r\n      fetchDataUpdate()\r\n    }\r\n    return () => {\r\n      DetailCotizacion = null\r\n    }\r\n  },[])\r\n\r\n  useMemo(() => {\r\n\r\n    DetailCotizacion = [\r\n      {\r\n        Header: 'Producto',\r\n        accessor: 'name_product'\r\n      },\r\n      {\r\n        Header: 'Precio',\r\n        accessor: v => {\r\n\r\n          if(v.is_neto){\r\n            return [showPriceWithDecimals(props.configGeneral,v.price)]\r\n          }else{\r\n            let tax =  (v.price * props.configStore.tax) / 100\r\n            let new_price = v.price + tax\r\n            return [showPriceWithDecimals(props.configGeneral,new_price)]\r\n          }\r\n\r\n        }\r\n      },\r\n      {\r\n        Header: 'Cantidad',\r\n        accessor: 'quantity'\r\n      },\r\n      {\r\n        Header: 'Total',\r\n        accessor: v =>{\r\n          if(v.is_neto){\r\n            return [showPriceWithDecimals(props.configGeneral,v.price * v.quantity)]\r\n          }else{\r\n            let tax =  (v.price * props.configStore.tax) / 100\r\n            let new_price = v.price + tax\r\n            return [showPriceWithDecimals(props.configGeneral,new_price * v.quantity)]\r\n          }\r\n        }\r\n      },\r\n      {\r\n        Header: 'Acciones',\r\n        Cell: props => {\r\n          const id = props.cell.row.original\r\n          return(\r\n            <Button size=\"sm\" size=\"sm\" variant=\"primary\" block={true} onClick={() => removeItemDetail(props.cell.row.original) }>Remover</Button>\r\n          )\r\n        }\r\n      }\r\n    ]\r\n\r\n    if(GastosCotizacion.length > 2){\r\n      GastosCotizacion.pop()\r\n    }\r\n\r\n    GastosCotizacion.push({\r\n      Header: 'Acciones',\r\n      Cell: props => {\r\n        const id = props.cell.row.original.id\r\n        return(\r\n          <Button size=\"sm\" size=\"sm\" variant=\"primary\" block={true} onClick={() => removeGastoDetail(props.cell.row.original) }>Remover</Button>\r\n        )\r\n      }\r\n    })\r\n\r\n  },[])\r\n\r\n  const clearData = () => {\r\n    setDetailProducts([])\r\n    setGastosDetail([])\r\n    setClientDetail({})\r\n    setResetValueClient(true)\r\n    setTimeout(() => {\r\n      setResetValueClient(false)\r\n    },300)\r\n  }\r\n\r\n  const fetchDataUpdate = () => {\r\n    axios.get(API_URL+'cotizacion/'+props.match.params.id).then(result => {\r\n      setGastosDetail(result.data.gastos)\r\n      let productsArray = []\r\n      result.data.products_not_registered.forEach((item, i) => {\r\n        productsArray.push(item)\r\n      });\r\n\r\n      result.data.products.forEach((item, i) => {\r\n        item.products.quantity = item.quantity\r\n        productsArray.push(item.products)\r\n      });\r\n\r\n      setDetailProducts(productsArray)\r\n      setClientDetail(client => {\r\n        return result.data.client ? result.data.client : {}\r\n      })\r\n\r\n    }).catch(err => {\r\n      if(err.response){\r\n        toast.error(err.response.data.message)\r\n      }else{\r\n        toast.error('Error, contacte con soporte')\r\n      }\r\n    })\r\n  }\r\n\r\n  const goToDashboard = () => {\r\n      props.history.replace('/quotitation/search_quotitation')\r\n  }\r\n\r\n  const goToFacturation = () => {\r\n      props.history.replace('/facturation/dashboard')\r\n  }\r\n\r\n  const submitData = type => {\r\n\r\n    let object_post = {\r\n      comment: commentCotizacion,\r\n      products: Object.assign({},detailProducts),\r\n      gastos: Object.assign({},gastosDetail),\r\n      client: Object.assign({},clientDetail),\r\n      status: type,\r\n    }\r\n    setDisableButton(true)\r\n    if(props.match.params.id){\r\n      axios.put(API_URL+'cotizacion/'+props.match.params.id,object_post).then(result => {\r\n        toast.success('Operación realizada con éxito')\r\n        setDisableButton(false)\r\n        clearData()\r\n        if(type === 4){\r\n          goToFacturation()\r\n        }else{\r\n          goToDashboard()\r\n        }\r\n      }).catch(err => {\r\n        clearData()\r\n        setDisableButton(false)\r\n        if(err.response){\r\n          toast.error(err.response.data.message)\r\n        }else{\r\n          toast.error('Error, contacte con soporte')\r\n        }\r\n      })\r\n    }else{\r\n      axios.post(API_URL+'cotizacion',object_post).then(result => {\r\n        toast.success('Operación realizada con éxito')\r\n        setDisableButton(false)\r\n        clearData()\r\n        if(type === 4){\r\n          goToFacturation()\r\n        }\r\n      }).catch(err => {\r\n        clearData()\r\n        setDisableButton(false)\r\n        if(err.response){\r\n          toast.error(err.response.data.message)\r\n        }else{\r\n          toast.error('Error, contacte con soporte')\r\n        }\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  const copyLinkOfCotizacion = () => {\r\n\r\n    navigator.clipboard.writeText(\"http://localhost:3000/quotitation/create_quotitation\").then(function() {\r\n      toast.success('Url Copiada y Guardando...')\r\n      submitData(2)\r\n    }, function() {\r\n      console.log('error')\r\n    });\r\n\r\n  }\r\n\r\n  const displayTotalProduct = () => {\r\n    let total = 0\r\n\r\n    detailProducts.forEach((item, i) => {\r\n      if(item.not_registered){\r\n        if(item.tax_additional){\r\n          if(!item.is_neto){\r\n            let tax = (item.price * props.configStore.tax ) /100\r\n            total+= (item.unit_price_with_tax + tax) * item.quantity\r\n          }else{\r\n            total+= item.unit_price_with_tax * item.quantity\r\n          }\r\n        }else{\r\n          total+= item.price * item.quantity\r\n        }\r\n      }else{\r\n        if(!item.is_neto){\r\n          let tax = (item.price * props.configStore.tax ) /100\r\n          total+= (item.price + tax) * item.quantity\r\n        }else{\r\n          total+= item.price * item.quantity\r\n        }\r\n      }\r\n    });\r\n\r\n    return total\r\n  }\r\n\r\n  const displayTotalGastos = () => {\r\n    let total = 0\r\n    gastosDetail.forEach((item, i) => {\r\n      total += parseFloat(item.amount)\r\n    });\r\n\r\n    return total\r\n  }\r\n\r\n  const displayTotalTotal = () => {\r\n    let total_product = displayTotalProduct()\r\n    let total_gastos  = displayTotalGastos()\r\n    return total_product - total_gastos\r\n  }\r\n\r\n  const fetchClients = () => {\r\n    axios.get(API_URL+'client').then(result => {\r\n      setClients(result.data)\r\n    }).catch(err => {\r\n      if(err.response){\r\n        toast.error(err.response.data.message)\r\n      }else{\r\n        toast.error('Error, contacte con soporte')\r\n      }\r\n    })\r\n  }\r\n\r\n  const fetchProducts = () => {\r\n    axios.get(API_URL+'product').then(result => {\r\n      setProducts(result.data)\r\n    }).catch(err => {\r\n      if(err.response){\r\n        toast.error(err.response.data.message)\r\n      }else{\r\n        toast.error('Error, contacte con soporte')\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleClientSubmit = data => {\r\n    // funcion para manejar el envio de correos a los clientes con la cotización\r\n    let object_post = {\r\n      comment: commentCotizacion,\r\n      products: Object.assign({},detailProducts),\r\n      gastos: Object.assign({},gastosDetail),\r\n      client: Object.assign({},clientDetail),\r\n      client_mail: data,\r\n      status: 3,\r\n    }\r\n\r\n    setDisableButton(true)\r\n    if(props.match.params.id){\r\n      axios.put(API_URL+'cotizacion/'+props.match.params.id,object_post).then(result => {\r\n        toast.success('Operación realizada con éxito')\r\n        setOpenModalClientMail(false)\r\n        setDisableButton(false)\r\n        clearData()\r\n        goToDashboard()\r\n      }).catch(err => {\r\n        clearData()\r\n        setDisableButton(false)\r\n        if(err.response){\r\n          toast.error(err.response.data.message)\r\n        }else{\r\n          toast.error('Error, contacte con soporte')\r\n        }\r\n      })\r\n    }else{\r\n      axios.post(API_URL+'cotizacion',object_post).then(result => {\r\n        toast.success('Operación realizada con éxito')\r\n        setOpenModalClientMail(false)\r\n        setDisableButton(false)\r\n        clearData()\r\n      }).catch(err => {\r\n        clearData()\r\n        setDisableButton(false)\r\n        if(err.response){\r\n          toast.error(err.response.data.message)\r\n        }else{\r\n          toast.error('Error, contacte con soporte')\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleCommentCotizacion = e => {\r\n      setCommentCotizacion(e.target.value)\r\n  }\r\n\r\n  const handleGastoSubmit = data => {\r\n    // funcion para manejar el submit de los gastos y agglos a la tabla de gastos\r\n    setGastosDetail([...gastosDetail,data])\r\n  }\r\n  const handleHideModalClient = () => {\r\n    setIsShowModalClient(false)\r\n    fetchClients()\r\n  }\r\n\r\n  const handleHideModalProduct = () => {\r\n    setIsShowModalProduct(false)\r\n  }\r\n\r\n  const handleResetValueClient = () => {\r\n    setResetValueClient(!resetValueClient)\r\n  }\r\n\r\n  const handleSelectClient = data => {\r\n    let data_document = data.split('-')[1]\r\n    let client = clients.find(v => v.data_document === data_document)\r\n    setClientDetail(client)\r\n  }\r\n\r\n  const handleSelectProduct = product => {\r\n    // metodo para manejar la escogencia del producto en la modal de productos para el detalle de la cotizacion\r\n    setDetailProducts([...detailProducts, product])\r\n    setIsShowModalProduct(false)\r\n  }\r\n\r\n  const removeCLient = () => {\r\n    setClientDetail({})\r\n    handleResetValueClient()\r\n  }\r\n\r\n  const removeItemDetail = data => {\r\n    setDetailProducts(detail => {\r\n      return detail.filter(v => v.name_product !== data.name_product)\r\n    })\r\n  }\r\n\r\n  const removeGastoDetail = data => {\r\n    setGastosDetail(gastos =>{\r\n     return gastos.filter(v => v.description !== data.description)\r\n    })\r\n  }\r\n\r\n  const saveCotizacion = type => {\r\n    //\r\n    if(type === 1 && !!clientDetail){\r\n      toast.error('Debe seleccionar al menos 1 cliente')\r\n      return false\r\n    }\r\n    submitData(type)\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <Container className=\"containerDiv\">\r\n      <Row>\r\n        <Col sm={4} md={4} lg={4}>\r\n          <h4 className=\"text-center\">Cliente</h4>\r\n          {Object.keys(clientDetail).length > 0 ? (\r\n            <React.Fragment>\r\n              <ul className=\"list-group\">\r\n                <li className=\"list-group-item\"><b>Nombre:</b> {clientDetail.name_client} <br/><b>Tipo de Documento:</b> {clientDetail.type_document}</li>\r\n                <li className=\"list-group-item\"><b>Documento:</b> {clientDetail.data_document} <br/> <b>Teléfono:</b> {clientDetail.phone}</li>\r\n              </ul>\r\n            </React.Fragment>\r\n          ) : (\r\n            <React.Fragment>\r\n              <br/>\r\n              <h5 className=\"text-center\">No hay cliente seleccionado</h5>\r\n            </React.Fragment>\r\n          )}\r\n        </Col>\r\n        <Col sm={4} md={4} lg={4}>\r\n          <AutoCompleteClientComponent\r\n            items={clients}\r\n            returnValue={handleSelectClient}\r\n            handleResetValueClient={handleResetValueClient}\r\n            resetValue={resetValueClient}\r\n          />\r\n          <br/>\r\n          {Object.keys(clientDetail).length > 0 ? (\r\n            <Row>\r\n              <Col sm={12} md={12} lg={12} className=\"text-center\">\r\n                <Button size=\"sm\" size=\"sm\" variant=\"danger text-center\" onClick={removeCLient}><FaTrashAlt /></Button>\r\n              </Col>\r\n            </Row>\r\n          ) : ''}\r\n        </Col>\r\n        <Col sm={4} md={4} lg={4}>\r\n          <Button size=\"sm\" size=\"sm\" variant=\"secondary\" block={true} onClick={() => setIsShowModalClient(true)}>Crear Cliente</Button>\r\n        </Col>\r\n      </Row>\r\n      <br/><br/>\r\n      <Row className=\"justify-content-center\">\r\n        <Col sm={6} md={6} lg={6} xs={12}>\r\n          <Button size=\"sm\" size=\"sm\" variant=\"info\" block={true} onClick={() => setIsShowModalProduct(true)}>Agregar Producto a la Cotización</Button>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col sm={12} md={12} lg={12}>\r\n          <Table data={detailProducts} columns={DetailCotizacion} />\r\n        </Col>\r\n      </Row>\r\n      <hr/>\r\n      <Row className=\"justify-content-center\">\r\n        <Col sm={6} md={6} lg={6} xs={12}>\r\n          <Button size=\"sm\" size=\"sm\" variant=\"info\" block={true} onClick={() => setIsShowModalGastos(true)}>Agregar Gastos a la Cotización</Button>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col sm={12} md={12} lg={12}>\r\n          <Table data={gastosDetail} columns={GastosCotizacion} />\r\n        </Col>\r\n      </Row>\r\n      <br/><br/>\r\n      <Row>\r\n        <Col sm={12} md={12} lg={12}>\r\n          <h3 className=\"text-center\">Resumen y Totales</h3>\r\n          <br/>\r\n          <table className=\"table table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th className=\"text-center\">Productos</th>\r\n                <th className=\"text-center\">Gastos</th>\r\n                <th className=\"text-center\">Balance Total</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"text-center\">\r\n              <tr>\r\n                <td>{showPriceWithDecimals(props.configGeneral,displayTotalProduct())}</td>\r\n                <td>{showPriceWithDecimals(props.configGeneral,displayTotalGastos())}</td>\r\n                <td>{showPriceWithDecimals(props.configGeneral,displayTotalTotal())}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </Col>\r\n      </Row>\r\n      <br/>\r\n      <Row>\r\n        <Col sm={12} md={12} lg={12}>\r\n          <label for=\"\">Comentario de la cotización (Opcional)</label>\r\n          <textarea rows={3} className=\"form-control\" onChange={handleCommentCotizacion} value={commentCotizacion} />\r\n        </Col>\r\n      </Row>\r\n      <br/>\r\n      <Row>\r\n        <Col sm={3} md={3} lg={3}>\r\n          <Button size=\"sm\" size=\"sm\" variant=\"primary\" disabled={disableButtons} block={true} onClick={() => saveCotizacion(1)}>{disableButtons ? 'Guardando...' : 'Guardar y Enviar por Mail'} <FaMailBulk /></Button>\r\n        </Col>\r\n        <Col sm={3} md={3} lg={3}>\r\n          <Button size=\"sm\" size=\"sm\" variant=\"primary\" disabled={disableButtons} block={true} onClick={() => saveCotizacion(4)}>{disableButtons ? 'Guardando...' : 'Guardar y Facturar'} <MdPrint /></Button>\r\n        </Col>\r\n        <Col sm={3} md={3} lg={3}>\r\n          <Button size=\"sm\" size=\"sm\" variant=\"primary\" disabled={disableButtons} block={true} onClick={() => saveCotizacion(2)}>{disableButtons ? 'Guardando...' : 'Guardar'} <FaLocationArrow /></Button>\r\n        </Col>\r\n        <Col sm={3} md={3} lg={3}>\r\n          <DropdownButton size=\"sm\" id={'drop'} title={disableButtons ? 'Guardando' : \"Compartir\"}  className=\"dropdown_block\" disabled={disableButtons}>\r\n            <Dropdown.Item onClick={() => setOpenModalClientMail(true) }>Enviar por Mail</Dropdown.Item>\r\n            <Dropdown.Item onClick={ copyLinkOfCotizacion } >Copiar Link</Dropdown.Item>\r\n          </DropdownButton>\r\n        </Col>\r\n      </Row>\r\n    <FormClientModal\r\n      isShow={isShowModalClient}\r\n      onHide={handleHideModalClient}\r\n    />\r\n    <ModalCotizacionProduct\r\n      isShow={isShowModalProduct}\r\n      onHide={handleHideModalProduct}\r\n      products={products}\r\n      handleSelectProduct={handleSelectProduct}\r\n    />\r\n    <ModalGastosCotizacion\r\n      isShow={isShowModalGastos}\r\n      onHide={() => setIsShowModalGastos(false)}\r\n      handleGastoSubmit={handleGastoSubmit}\r\n    />\r\n    <ModalClientCotizacion\r\n        clients={clients}\r\n        isShow={openModalClientMail}\r\n        onHide={() => setOpenModalClientMail(false)}\r\n        handleClientSubmit={handleClientSubmit}\r\n    />\r\n    </Container>\r\n  )\r\n}\r\nCotizationPage.defaultProps = {\r\n  configStore : JSON.parse(localStorage.getItem('configStore')),\r\n  configGeneral: JSON.parse(localStorage.getItem('configGeneral'))\r\n}\r\n\r\nexport default CotizationPage\r\n"],"sourceRoot":""}