(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[54],{618:function(e,a,t){"use strict";var n=t(51),r=t(126),l=t(1),c=t.n(l),o=t(127),s=t(626),i=t(627),d=t(305);function u(){var e=Object(r.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .table_responsive_eddit{\n    overflow-x: auto;\n  }\n"]);return u=function(){return e},e}var m=o.a.div(u());function b(e){var a=e.column,t=a.filterValue,n=a.preFilteredRows,r=a.setFilter,l=n.length;return c.a.createElement("input",{value:t||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(l," registros..."),className:"inputPageFilter"})}function p(e,a,t){return Object(i.a)(e,t,{keys:[function(e){return e.values[a]}]})}function g(e){var a=e.columns,t=e.data,r=e.menuTop,l=e.headerColor,o=e.headerFontColor,i=e.pageSizeHandler,u=c.a.useMemo((function(){return{fuzzyText:p,text:function(e,a,t){return e.filter((function(e){var n=e.values[a];return void 0===n||String(n).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),m=c.a.useMemo((function(){return{Filter:b}}),[]),g=Object(s.useTable)({columns:a,data:t,defaultColumn:m,filterTypes:u,initialState:{pageIndex:0,pageSize:i[0]}},s.useFilters,s.useSortBy,s.usePagination),E=g.getTableProps,f=g.getTableBodyProps,h=g.headerGroups,v=g.page,y=g.prepareRow,C=g.canPreviousPage,N=g.canNextPage,k=g.pageOptions,x=g.pageCount,O=g.gotoPage,j=g.nextPage,_=g.previousPage,P=g.setPageSize,S=g.state,w=S.pageIndex,T=S.pageSize;return c.a.createElement("div",{className:"table_responsive_eddit"},r?c.a.createElement("div",{className:"pagination"},c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O(0)},disabled:!C},"<<")," ",c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return _()},disabled:!C},"<")," ",c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return j()},disabled:!N},">")," ",c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O(x-1)},disabled:!N},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,w+1," de ",k.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:w+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;O(a)},className:"inputPage"},"onChange",(function(e){e.target.value>k.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:T,onChange:function(e){P(Number(e.target.value))},className:"inputPage"},i.map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",c.a.createElement("table",Object.assign({},E(),{className:"table table-bordered"}),c.a.createElement("thead",null,h.map((function(e){return c.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return c.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{style:{backgroundColor:l||"rgb(218, 236, 242)",color:o||"black"}}),e.render("Header"),c.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),c.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),c.a.createElement("tbody",Object.assign({},f(),{className:"text-center"}),v.map((function(e,a){return y(e)||c.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return c.a.createElement("td",Object.assign({style:{position:"relative"}},e.getCellProps()),e.render("Cell"))})))})))),c.a.createElement("div",{className:"pagination"},c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O(0)},disabled:!C},"<<")," ",c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return _()},disabled:!C},"<")," ",c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return j()},disabled:!N},">")," ",c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O(x-1)},disabled:!N},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,w+1," de ",k.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:w+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;O(a)},className:"inputPage"},"onChange",(function(e){e.target.value>k.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:T,onChange:function(e){P(Number(e.target.value))},className:"inputPage"},i.map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}p.autoRemove=function(e){return!e};a.a=function(e){var a=e.data,t=e.columns,n=e.menuTop,r=e.headerColor,l=e.headerFontColor,o=e.pageSizeHandler;return o=o||[10,20,30,40,50],c.a.createElement(m,null,c.a.createElement(g,{pageSizeHandler:o,data:a,columns:t,menuTop:n,headerFontColor:l,headerColor:r}))}},658:function(e,a,t){"use strict";var n=t(2),r=t(4),l=t(5),c=t.n(l),o=t(1),s=t.n(o),i=t(7),d=t(36),u=t(221),m=t(220),b=s.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,o=e.variant,d=e.as,u=void 0===d?"img":d,m=Object(r.a)(e,["bsPrefix","className","variant","as"]),b=Object(i.a)(t,"card-img");return s.a.createElement(u,Object(n.a)({ref:a,className:c()(o?b+"-"+o:b,l)},m))}));b.displayName="CardImg",b.defaultProps={variant:null};var p=b,g=Object(u.a)("h5"),E=Object(u.a)("h6"),f=Object(d.a)("card-body"),h=Object(d.a)("card-title",{Component:g}),v=Object(d.a)("card-subtitle",{Component:E}),y=Object(d.a)("card-link",{Component:"a"}),C=Object(d.a)("card-text",{Component:"p"}),N=Object(d.a)("card-header"),k=Object(d.a)("card-footer"),x=Object(d.a)("card-img-overlay"),O=s.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,d=e.bg,u=e.text,b=e.border,p=e.body,g=e.children,E=e.as,h=void 0===E?"div":E,v=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),y=Object(i.a)(t,"card"),C=Object(o.useMemo)((function(){return{cardHeaderBsPrefix:y+"-header"}}),[y]);return s.a.createElement(m.a.Provider,{value:C},s.a.createElement(h,Object(n.a)({ref:a},v,{className:c()(l,y,d&&"bg-"+d,u&&"text-"+u,b&&"border-"+b)}),p?s.a.createElement(f,null,g):g))}));O.displayName="Card",O.defaultProps={body:!1},O.Img=p,O.Title=h,O.Subtitle=v,O.Body=f,O.Link=y,O.Text=C,O.Header=N,O.Footer=k,O.ImgOverlay=x;a.a=O},660:function(e,a,t){"use strict";var n=t(2),r=t(4),l=t(5),c=t.n(l),o=t(1),s=t.n(o),i=t(70),d=t(7),u=t(30),m=s.a.createContext(null);m.displayName="AccordionContext";var b=m;var p=s.a.forwardRef((function(e,a){var t=e.as,l=void 0===t?"button":t,c=e.children,i=e.eventKey,d=e.onClick,m=Object(r.a)(e,["as","children","eventKey","onClick"]),p=function(e,a){var t=Object(o.useContext)(b),n=Object(o.useContext)(u.a);return function(r){n&&n(e===t?null:e,r),a&&a(r)}}(i,d);return"button"===l&&(m.type="button"),s.a.createElement(l,Object(n.a)({ref:a,onClick:p},m),c)})),g=t(222),E=s.a.forwardRef((function(e,a){var t=e.children,l=e.eventKey,c=Object(r.a)(e,["children","eventKey"]),i=Object(o.useContext)(b);return s.a.createElement(g.a,Object(n.a)({ref:a,in:i===l},c),s.a.createElement("div",null,s.a.Children.only(t)))}));E.displayName="AccordionCollapse";var f=E,h=s.a.forwardRef((function(e,a){var t=Object(i.a)(e,{activeKey:"onSelect"}),l=t.as,o=void 0===l?"div":l,m=t.activeKey,p=t.bsPrefix,g=t.children,E=t.className,f=t.onSelect,h=Object(r.a)(t,["as","activeKey","bsPrefix","children","className","onSelect"]),v=c()(E,Object(d.a)(p,"accordion"));return s.a.createElement(b.Provider,{value:m||null},s.a.createElement(u.a.Provider,{value:f||null},s.a.createElement(o,Object(n.a)({ref:a},h,{className:v}),g)))}));h.displayName="Accordion",h.Toggle=p,h.Collapse=f;a.a=h},843:function(e,a,t){"use strict";t.r(a);var n,r,l=t(1),c=t.n(l),o=t(37),s=t(20),i=t(3),d=t.n(i),u=(Object(s.a)(Object(s.a)({},d.a),{},{ID:d.a.oneOfType([d.a.string,d.a.number]).isRequired,component:d.a.oneOfType([d.a.string,d.a.func]),date:d.a.oneOfType([d.a.instanceOf(Date),d.a.string])}),t(5)),m=t.n(u),b=(n="cr",{create:function(e){var a=e;return"string"===typeof n&&(a="".concat(n,"-").concat(e)),{b:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m()(a,t)},e:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m()("".concat(a,"__").concat(e),n)},m:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m()("".concat(a,"--").concat(e),n)}}}}),p=t(2),g=t(4);function E(e,a){return void 0===e&&(e=""),void 0===a&&(a=r),a?e.split(" ").map((function(e){return a[e]||e})).join(" "):e}var f="object"===typeof window&&window.Element||function(){};d.a.oneOfType([d.a.string,d.a.func,function(e,a,t){if(!(e[a]instanceof f))return new Error("Invalid prop `"+a+"` supplied to `"+t+"`. Expected prop to be an instance of Element. Validation failed.")},d.a.shape({current:d.a.any})]);var h=d.a.oneOfType([d.a.func,d.a.string,d.a.shape({$$typeof:d.a.symbol,render:d.a.func}),d.a.arrayOf(d.a.oneOfType([d.a.func,d.a.string,d.a.shape({$$typeof:d.a.symbol,render:d.a.func})]))]);"undefined"===typeof window||!window.document||window.document.createElement;var v={tag:h,listTag:h,className:d.a.string,listClassName:d.a.string,cssModule:d.a.object,children:d.a.node,"aria-label":d.a.string},y=function(e){var a=e.className,t=e.listClassName,n=e.cssModule,r=e.children,l=e.tag,o=e.listTag,s=e["aria-label"],i=Object(g.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),d=E(m()(a),n),u=E(m()("breadcrumb",t),n);return c.a.createElement(l,Object(p.a)({},i,{className:d,"aria-label":s}),c.a.createElement(o,{className:u},r))};y.propTypes=v,y.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"};var C=y,N={tag:h,active:d.a.bool,className:d.a.string,cssModule:d.a.object},k=function(e){var a=e.className,t=e.cssModule,n=e.active,r=e.tag,l=Object(g.a)(e,["className","cssModule","active","tag"]),o=E(m()(a,!!n&&"active","breadcrumb-item"),t);return c.a.createElement(r,Object(p.a)({},l,{className:o,"aria-current":n?"page":void 0}))};k.propTypes=N,k.defaultProps={tag:"li"};var x=k,O=t(51),j={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"},_=function(e){var a,t=e.tag,n=e.className,r=e.type,l=Object(o.a)(e,["tag","className","type"]),s=m()(Object(O.a)({},r,!!r),n);return a=t||(!t&&j[r]?j[r]:"p"),c.a.createElement(a,Object.assign({},l,{className:s}))};_.defaultProps={type:"p"};var P=_,S=b.create("page"),w=function(e){var a=e.title,t=e.breadcrumbs,n=e.tag,r=e.className,l=e.children,s=Object(o.a)(e,["title","breadcrumbs","tag","className","children"]),i=S.b("px-3",r);return c.a.createElement(n,Object.assign({className:i},s),c.a.createElement("div",{className:S.e("header")},a&&"string"===typeof a?c.a.createElement(P,{type:"h1",className:S.e("title")},a):a,t&&c.a.createElement(C,{className:S.e("breadcrumb")},c.a.createElement(x,null,"Home"),t.length&&t.map((function(e,a){var t=e.name,n=e.active;return c.a.createElement(x,{key:a,active:n},t)})))),l)};w.defaultProps={tag:"div",title:""};var T=w,B=t(16),F=t(604),A=t(205),I=t(613),z=t(660),H=t(658),R=t(305),D=t(615),M=function(e){return c.a.createElement(A.a,null,c.a.createElement(H.a,null,c.a.createElement(H.a.Body,null,c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("div",{className:e.styleInline+" display-4 text-"+e.colorFont}),c.a.createElement("div",{className:"ml-3"},c.a.createElement("div",{className:"text-muted small"},e.title),c.a.createElement("div",{className:"text-large"},e.value))))))},K=t(9),G=t.n(K),V=t(10),W=t(18),L=t(657),U={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},q={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0},$={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},maintainAspectRatio:!1},J={labels:[],datasets:[{label:"Pagos Pendientes",backgroundColor:"rgb(15, 13, 74)",borderColor:"rgb(27, 13, 74)",borderWidth:1,hoverBackgroundColor:"rgb(15, 13, 74)",hoverBorderColor:"rgb(27, 13, 74)",data:[]}]},X={labels:[],datasets:[{label:"Productos m\xe1s vendidos",backgroundColor:"#0c0f5d",borderColor:"#0c0f5d",borderWidth:1,hoverBackgroundColor:"#c50747",hoverBorderColor:"#0c0f5d",data:[]}]},Z={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"rgb(125, 81, 52)",borderColor:"rgb(99, 56, 21)"}]},Y=function(e){var a=Object(l.useState)(null),n=Object(B.a)(a,2),r=n[0],o=n[1],s=Object(l.useState)(!0),i=Object(B.a)(s,2),d=i[0],u=i[1],m=Object(l.useState)(!1),b=Object(B.a)(m,2),p=b[0],g=b[1];Object(l.useEffect)((function(){f()}),[e.id_branch_office]),Object(l.useEffect)((function(){r&&E()}),[r]);var E=function(){U.labels=[],U.datasets[0].data=[],U.datasets[0].backgroundColor=[],U.datasets[0].hoverBackgroundColor=[],J.labels=[],J.datasets[0].data=[],X.labels=[],X.datasets[0].data=[],Z.labels=[],Z.datasets[0].data=[],r.totalPayments.forEach((function(e,a){U.labels.push(e.label),U.datasets[0].data.push(parseFloat(e.total)),U.datasets[0].backgroundColor.push(V.c[a]),U.datasets[0].hoverBackgroundColor.push(V.c[a])})),r.totalDebt.forEach((function(e,a){J.labels.push(e.label),J.datasets[0].data.push(e.total)})),r.mostSales.forEach((function(e,a){X.labels.push(e.name_product),X.datasets[0].data.push(e.total)})),r.totalCharged.forEach((function(e,a){Z.labels.push(e.year),Z.datasets[0].data.push(e.total)})),g(!0),setTimeout((function(){g(!1)}),1500)};Object(l.useEffect)((function(){return function(){U={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},J={labels:[],datasets:[{label:"Pagos Pendientes",backgroundColor:"rgb(15, 13, 74)",borderColor:"rgb(27, 13, 74)",borderWidth:1,hoverBackgroundColor:"rgb(15, 13, 74)",hoverBorderColor:"rgb(27, 13, 74)",data:[]}]},X={labels:[],datasets:[{label:"Productos m\xe1s vendidos",backgroundColor:"#0c0f5d",borderColor:"#0c0f5d",borderWidth:1,hoverBackgroundColor:"#c50747",hoverBorderColor:"#0c0f5d",data:[]}]},Z={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"rgb(125, 81, 52)",borderColor:"rgb(99, 56, 21)"}]}}}),[]);var f=function(){G.a.get(V.b+"dashboard_stadistics").then((function(e){o(e.data),u(!1)})).catch((function(a){e.tokenExpired(a)}))},h=function(a){e.history.replace(a)};return c.a.createElement(c.a.Fragment,null,d?c.a.createElement(F.a,{className:"justify-content-center"},c.a.createElement(A.a,{sm:4,lg:4,md:4,className:"text-center"},c.a.createElement(I.a,{src:t(314)}),c.a.createElement("p",{className:"title_principal"},"Cargando..."))):c.a.createElement(F.a,{className:"animate__animated animate__fadeInUp"},c.a.createElement(A.a,{sm:12,md:12,lg:12},c.a.createElement(F.a,null,c.a.createElement(A.a,null,c.a.createElement(z.a,null,c.a.createElement(H.a,null,c.a.createElement(z.a.Toggle,{as:H.a.Header,eventKey:"1",className:"header_card"},c.a.createElement("b",null,"Accesos directos")," ( hacer click para desplegar )"),c.a.createElement(z.a.Collapse,{eventKey:"1"},c.a.createElement(H.a.Body,null,c.a.createElement(F.a,null,c.a.createElement(A.a,{sm:3,md:3,lg:3},c.a.createElement(R.a,{variant:"dark",block:!0,size:"sm",type:"button",onClick:function(){return h("/quotitation/search_quotitation")}},"Cotizaciones")),c.a.createElement(A.a,{sm:3,md:3,lg:3},c.a.createElement(R.a,{variant:"dark",block:!0,size:"sm",type:"button",onClick:function(){return h("/invoice/invoice_search")}},"Facturaciones")),c.a.createElement(A.a,{sm:3,md:3,lg:3},c.a.createElement(R.a,{variant:"dark",block:!0,size:"sm",type:"button",onClick:function(){return h("/sale_note/sale_note_search")}},"Notas de Venta")),c.a.createElement(A.a,{sm:3,md:3,lg:3},c.a.createElement(R.a,{variant:"dark",block:!0,size:"sm",type:"button",onClick:function(){return h("/src/bill/bill_search")}},"Boletas"))),c.a.createElement("br",null),c.a.createElement(F.a,null,c.a.createElement(A.a,{sm:3,md:3,lg:3},c.a.createElement(R.a,{variant:"dark",block:!0,size:"sm",type:"button",onClick:function(){return h("/guide/guide_search")}},"Guias de Despacho"))))))))),c.a.createElement("br",null),c.a.createElement(F.a,{className:"animate__animated animate__fadeInLeft"},c.a.createElement(M,{value:r.cardStadistics.total_cotizacion,styleInline:"lnr lnr-book",colorFont:"success",title:"Cotizaciones"}),c.a.createElement(M,{value:r.cardStadistics.total_invoice,styleInline:"lnr lnr-book",colorFont:"warning",title:"Facturacion"}),c.a.createElement(M,{value:r.cardStadistics.total_sale_note,styleInline:"lnr lnr-book",colorFont:"danger",title:"Notas de Ventas"}),c.a.createElement(M,{value:r.cardStadistics.total_bill,styleInline:"lnr lnr-book",colorFont:"primary",title:"Boletas"}),c.a.createElement(M,{value:r.cardStadistics.total_guide,styleInline:"lnr lnr-book",colorFont:"dark",title:"Guias"})),c.a.createElement("br",null),c.a.createElement(F.a,null,c.a.createElement(A.a,{style:{height:"200px"}},c.a.createElement(L.b,{data:U,redraw:p,options:q})),c.a.createElement(A.a,null,c.a.createElement("table",{className:"table table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",{style:{backgroundColor:"#ca3428",color:"white"}},c.a.createElement("th",{colSpan:"2",className:"text-center"},"Total pagado")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Nombre"),c.a.createElement("th",{className:"text-center"},"Cantidad"))),c.a.createElement("tbody",{className:"text-center"},r.totalPayments.map((function(a,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,a.label),c.a.createElement("td",null,c.a.createElement(D.a,{variant:"danger",className:"font-badge",style:{color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(W.a)(a.total,2,",","."))))})))))),c.a.createElement(F.a,{className:"animate__animated animate__fadeInRight"},c.a.createElement(A.a,null,c.a.createElement("table",{className:"table table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",{style:{backgroundColor:"#262463",color:"white"}},c.a.createElement("th",{colSpan:"2",className:"text-center"},"Total Pendiente")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Nombre"),c.a.createElement("th",{className:"text-center"},"Cantidad"))),c.a.createElement("tbody",{className:"text-center"},r.totalDebt.map((function(a,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,a.label),c.a.createElement("td",null,c.a.createElement(D.a,{variant:"danger",className:"font-badge",style:{color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(W.a)(a.total,2,",","."))))}))))),c.a.createElement(A.a,{style:{height:"260px"}},c.a.createElement(L.a,{data:J,options:q,redraw:p}))),c.a.createElement(F.a,null,c.a.createElement(A.a,{style:{height:"260px"}},c.a.createElement(L.a,{data:X,options:q,redraw:p})),c.a.createElement(A.a,null,c.a.createElement("table",{className:"table table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",{style:{backgroundColor:"#07610b",color:"white"}},c.a.createElement("th",{colSpan:"2",className:"text-center"},"Los 5 productos con menor stock")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Nombre"),c.a.createElement("th",{className:"text-center"},"Cantidad"))),c.a.createElement("tbody",{className:"text-center"},r.minimunStock.map((function(e,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,e.name_product),c.a.createElement("td",null,c.a.createElement(D.a,{variant:"danger",className:"font-badge",style:{color:"white"}},e.total)))})))))),c.a.createElement(F.a,{className:"animate__animated animate__fadeInLeft"},c.a.createElement(A.a,{style:{height:"200px"}},c.a.createElement(L.d,{data:Z,options:$}))))))},Q=t(614),ee=t(618),ae=t(55),te=[],ne=[],re=[],le={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},ce={labels:[],datasets:[{label:"Acumulado en facturas de planes este mes",backgroundColor:"#bb3a65",borderColor:"#8e1525",borderWidth:1,hoverBackgroundColor:"#bb3a65",hoverBorderColor:"#8e1525",data:[]}]},oe={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"#e91e63",borderColor:"#a9093f"}]},se={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0},ie={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},maintainAspectRatio:!1},de=function(e){var a=Object(l.useState)(null),n=Object(B.a)(a,2),r=n[0],o=n[1],s=Object(l.useState)(!0),i=Object(B.a)(s,2),d=i[0],u=i[1],m=Object(l.useState)(!1),b=Object(B.a)(m,2),p=b[0],g=b[1];Object(l.useEffect)((function(){return E(),ae.a.toggleCollapsed(),function(){ce={labels:[],datasets:[{label:"Acumulado en facturas de planes este mes",backgroundColor:"#bb3a65",borderColor:"#8e1525",borderWidth:1,hoverBackgroundColor:"#bb3a65",hoverBorderColor:"#8e1525",data:[]}]},le={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},oe={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"#e91e63",borderColor:"#a9093f"}]},ae.a.toggleCollapsed()}}),[]),Object(l.useEffect)((function(){r&&f()}),[r]),Object(l.useMemo)((function(){te=[{Header:"EMPRESAS EXPIRADAS",columns:[{Header:"Empresa",accessor:"bussines_name"},{Header:"Ultima fecha de Pago",accessor:"last_day_payment"},{Header:"Estado",accessor:function(e){return["cerrada"]},Cell:function(e){return c.a.createElement(D.a,{className:"font-badge",variant:"danger"},"Cerrada")}}]}],[{Header:"CONEXIONES MAS RECIENTES",columns:[{Header:"Usuario",accessor:"name"},{Header:"Rut",accessor:"rut",Cell:function(e){var a=e.cell.row.original;return c.a.createElement(D.a,{variant:"danger",className:"font-badge"},a.rut)}},{Header:"Empresa",accessor:"name_enterprise"},{Header:"Fecha Conexion",accessor:"last_connection"}]}],ne=[{Header:"EMPRESAS EN DIAS DE PRUEBA",columns:[{Header:"Empresa",accessor:"bussines_name"},{Header:"Ultima fecha de pago",accessor:"last_day_payment"}]}],re=[{Header:"EMPRESAS EN PERIODOS DE VENCIMIENTO",columns:[{Header:"Empresa",accessor:"bussines_name"},{Header:"Ultima fecha de pago",accessor:"last_day_payment"}]}]}),[]);var E=function(){G.a.get(V.b+"dashboard_stadistics_master").then((function(e){o(e.data),u(!1)})).catch((function(a){e.tokenExpired(a)}))},f=function(){le.labels=[],le.datasets[0].data=[],le.datasets[0].backgroundColor=[],le.datasets[0].hoverBackgroundColor=[],ce.labels=[],ce.datasets[0].data=[],oe.labels=[],oe.datasets[0].data=[],r.countEnterpriseStatus.forEach((function(e,a){le.labels.push(e.label),le.datasets[0].data.push(parseFloat(e.total)),le.datasets[0].backgroundColor.push(V.c[a]),le.datasets[0].hoverBackgroundColor.push(V.c[a])})),r.totalAmountInvoices.forEach((function(e,a){ce.labels.push(e.label),ce.datasets[0].data.push(e.total)})),r.totalAmountInvoicesByYear.forEach((function(e,a){oe.labels.push(e.year),oe.datasets[0].data.push(e.total)})),g(!0),setTimeout((function(){g(!1)}),1500)};return c.a.createElement(Q.a,{fluid:!0},d?c.a.createElement(F.a,{className:"justify-content-center"},c.a.createElement(A.a,{sm:4,lg:4,md:4,className:"text-center"},c.a.createElement(I.a,{src:t(314)}),c.a.createElement("p",{className:"title_principal"},"Cargando..."))):c.a.createElement(F.a,null,c.a.createElement(A.a,null,c.a.createElement(F.a,null,c.a.createElement(A.a,null,c.a.createElement(z.a,null,c.a.createElement(H.a,null,c.a.createElement(z.a.Toggle,{as:H.a.Header,eventKey:"0",className:"header_card"},c.a.createElement("b",null,"Estad\xedsticas")," ( hacer click para desplegar )"),c.a.createElement(z.a.Collapse,{eventKey:"0"},c.a.createElement(H.a.Body,null,c.a.createElement(F.a,null,c.a.createElement(A.a,{style:{height:"200px"}},c.a.createElement(L.b,{data:le,redraw:p,options:se})),c.a.createElement(A.a,null,c.a.createElement("table",{className:"table table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",{style:{backgroundColor:"#bb3a65",color:"white"}},c.a.createElement("th",{colSpan:"4",className:"text-center"},"Conexiones m\xe1s recientes")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Nombre"),c.a.createElement("th",{className:"text-center"},"Rut"),c.a.createElement("th",{className:"text-center"},"Empresa"),c.a.createElement("th",{className:"text-center"},"Fecha Conexi\xf3n"))),c.a.createElement("tbody",{className:"text-center"},r.lastConnecteds.map((function(e,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.rut),c.a.createElement("td",null,e.name_enterprise),c.a.createElement("td",null,e.last_connection))})))))),c.a.createElement(F.a,null,c.a.createElement(A.a,{style:{height:"200px"}},c.a.createElement(L.c,{data:ce,options:se}))),c.a.createElement(F.a,null,c.a.createElement(A.a,{style:{height:"200px"}},c.a.createElement(L.d,{data:oe,options:ie}))))))))),c.a.createElement(F.a,null,c.a.createElement(A.a,null,c.a.createElement(ee.a,{headerColor:"#c78681",headerFontColor:"white",data:r.enterpriseAboutToExpire,columns:re}))),c.a.createElement(F.a,null,c.a.createElement(A.a,{sm:12,md:6,lg:6,xl:6},c.a.createElement(ee.a,{headerColor:"#c78681",headerFontColor:"white",data:r.enterpriseTestPeriod,columns:ne})),c.a.createElement(A.a,{sm:12,md:6,lg:6,xl:6},c.a.createElement(ee.a,{headerColor:"#c78681",headerFontColor:"white",data:r.enterpriseExpiredPayment,columns:te}))))))},ue=t(29);a.default=Object(ue.b)((function(e){return{user:e.auth.user,configGeneral:e.configs.config,id_branch_office:e.enterpriseSucursal.id_branch_office,id_enterprise:e.enterpriseSucursal.id_enterprise}}),{})((function(e){return c.a.createElement(T,{className:"DashboardPage",title:"Dashboard",breadcrumbs:[{name:"Dashboard",active:!0}]},e.user.id_rol>1?c.a.createElement(c.a.Fragment,null,e.id_enterprise?c.a.createElement(c.a.Fragment,null,e.id_branch_office?c.a.createElement(c.a.Fragment,null,e.user.id_rol>=2?c.a.createElement(Q.a,{fluid:!0},c.a.createElement(Y,e)):""):c.a.createElement(F.a,{className:"align-items-center"},c.a.createElement(A.a,null,c.a.createElement("p",{className:"alert alert-info text-center"},"Escoja una sucursal para trabajar")))):c.a.createElement(F.a,{className:"justify-content-center"},c.a.createElement(A.a,{sm:8,md:6,lg:6,xl:6},c.a.createElement(R.a,{type:"button",size:"sm",onClick:function(){return a="/enterprise/form",void e.history.replace(a);var a},block:!0},"Crear Empresa")))):c.a.createElement(de,e))}))}}]);