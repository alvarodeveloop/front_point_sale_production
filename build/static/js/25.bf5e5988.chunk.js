(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[25],{654:function(e,t,n){"use strict";var a=n(45),r=n(659),o=n(1),i=n.n(o),c=n(661),l=n(660),s=n(664),u=n(319);function d(){var e=Object(r.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .tr_cabecera{\n    background-color: rgb(218, 236, 242);\n    color: black;\n  }\n"]);return d=function(){return e},e}var p=c.a.div(d());function f(e){var t=e.column,n=t.filterValue,a=t.preFilteredRows,r=t.setFilter,o=a.length;return i.a.createElement("input",{value:n||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(o," registros..."),className:"inputPageFilter"})}function m(e,t,n){return Object(s.a)(e,n,{keys:[function(e){return e.values[t]}]})}function g(e){var t=e.columns,n=e.data,r=i.a.useMemo((function(){return{fuzzyText:m,text:function(e,t,n){return e.filter((function(e){var a=e.values[t];return void 0===a||String(a).toLowerCase().startsWith(String(n).toLowerCase())}))}}}),[]),o=i.a.useMemo((function(){return{Filter:f}}),[]),c=Object(l.useTable)({columns:t,data:n,defaultColumn:o,filterTypes:r,initialState:{pageIndex:0}},l.useFilters,l.useSortBy,l.usePagination),s=c.getTableProps,d=c.getTableBodyProps,p=c.headerGroups,g=c.page,b=c.prepareRow,v=c.canPreviousPage,h=c.canNextPage,E=c.pageOptions,w=c.pageCount,y=c.gotoPage,x=c.nextPage,k=c.previousPage,O=c.setPageSize,C=c.state,j=C.pageIndex,P=C.pageSize;return i.a.createElement("div",{className:"table-responsive"},i.a.createElement("table",Object.assign({},s(),{className:"table table-bordered"}),i.a.createElement("thead",null,p.map((function(e){return i.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return i.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"tr_cabecera"}),e.render("Header"),i.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),i.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),i.a.createElement("tbody",Object.assign({},d(),{className:"text-center"}),g.map((function(e,t){return b(e)||i.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return i.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),i.a.createElement("div",{className:"pagination"},i.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return y(0)},disabled:!v},"<<")," ",i.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return k()},disabled:!v},"<")," ",i.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x()},disabled:!h},">")," ",i.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return y(w-1)},disabled:!h},">>")," ",i.a.createElement("span",null,"P\xe1gina"," ",i.a.createElement("strong",null,j+1," de ",E.length)," "),i.a.createElement("span",{className:"ml-3"},"| ",i.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),i.a.createElement("input",Object(a.a)({type:"number",defaultValue:j+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;y(t)},className:"inputPage"},"onChange",(function(e){e.target.value>E.length&&(e.target.value=1)}))))," ",i.a.createElement("select",{value:P,onChange:function(e){O(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return i.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}m.autoRemove=function(e){return!e};t.a=function(e){var t=e.data,n=e.columns;return i.a.createElement(p,null,i.a.createElement(g,{data:t,columns:n}))}},666:function(e,t,n){(function(n){var a,r,o;r=[],void 0===(o="function"===typeof(a=function(){"use strict";function t(e,t,n){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){i(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(e,n,i){var c=o.URL||o.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):a(l.href)?t(e,n,i):r(l,l.target="_blank")):(l.href=c.createObjectURL(e),setTimeout((function(){c.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),n);else if(a(e))t(e,n,o);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){r(i)}))}}:function(e,n,a,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,a);var i="application/octet-stream"===e.type,c=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&c)&&"object"==typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,d=u.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});o.saveAs=i.saveAs=i,e.exports=i})?a.apply(t,r):a)||(e.exports=o)}).call(this,n(70))},671:function(e,t,n){"use strict";var a=n(3),r=n(4),o=n(1),i=n.n(o),c=n(2),l=n.n(c),s=n(618),u=n(214),d=n(213),p={id:l.a.any,href:l.a.string,onClick:l.a.func,title:l.a.node.isRequired,disabled:l.a.bool,menuRole:l.a.string,renderMenuOnMount:l.a.bool,rootCloseEvent:l.a.string,bsPrefix:l.a.string,variant:l.a.string,size:l.a.string},f=i.a.forwardRef((function(e,t){var n=e.title,o=e.children,c=e.bsPrefix,l=e.rootCloseEvent,p=e.variant,f=e.size,m=e.menuRole,g=e.renderMenuOnMount,b=e.disabled,v=e.href,h=e.id,E=Object(r.a)(e,["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id"]);return i.a.createElement(s.a,Object(a.a)({ref:t},E),i.a.createElement(u.a,{id:h,href:v,size:f,variant:p,disabled:b,childBsPrefix:c},n),i.a.createElement(d.a,{role:m,renderOnMount:g,rootCloseEvent:l},o))}));f.displayName="DropdownButton",f.propTypes=p,t.a=f},674:function(e,t,n){"use strict";var a=n(3),r=n(4),o=n(5),i=n.n(o),c=n(1),l=n.n(c),s=n(8),u=l.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.variant,c=e.pill,u=e.className,d=e.as,p=void 0===d?"span":d,f=Object(r.a)(e,["bsPrefix","variant","pill","className","as"]),m=Object(s.a)(n,"badge");return l.a.createElement(p,Object(a.a)({ref:t},f,{className:i()(u,m,c&&m+"-pill",o&&m+"-"+o)}))}));u.displayName="Badge",u.defaultProps={pill:!1},t.a=u},820:function(e,t,n){"use strict";n.r(t);var a=n(61),r=n(1),o=n.n(r),i=n(319),c=n(671),l=n(618),s=n(626),u=n(627),d=n(318),p=n(674),f=n(654),m=n(21),g=n.n(m),b=n(31),v=n(15),h=n(29),E=n(32),w=n(666),y=n.n(w),x=null,k=function(e){var t=Object(r.useState)([]),n=Object(a.a)(t,2),m=n[0],w=n[1];Object(r.useMemo)((function(){x=[{Header:"Referencia",accessor:"ref",Cell:function(e){var t=e.cell.row.original.id;return o.a.createElement(i.a,{size:"sm",variant:"link",block:!0,onClick:function(){return O(t)}},e.cell.row.original.ref," ")}},{Header:"Cliente",accessor:function(e){return e.client?[e.client.name_client]:[]}},{Header:"Total Productos",accessor:"total_product",Cell:function(e){return Object(h.f)(e.configGeneral,e.cell.row.original.total_product)}},{Header:"Total gastos",accessor:"total_gastos",Cell:function(e){return Object(h.f)(e.configGeneral,e.cell.row.original.total_gastos)}},{Header:"Total Balance",accessor:"total_balance",Cell:function(e){return Object(h.f)(e.configGeneral,e.cell.row.original.total_balance)}},{Header:"Acciones",Cell:function(e){var t=e.cell.row.original.id;return o.a.createElement(c.a,{size:"sm",id:"drop"+t,title:"Seleccione",block:"true"},o.a.createElement(l.a.Item,{onClick:function(){return O(t)}},"Modificar | Ver detalle"),o.a.createElement(l.a.Item,{onClick:function(){return C(t)}},"Eliminar"),o.a.createElement(l.a.Item,{onClick:function(){return j(t)}},"Imprimir Cotizacion"))}}]}),[]),Object(r.useEffect)((function(){return k(),function(){x=null}}),[]);var k=function(){g.a.get(b.a+"cotizacion").then((function(e){w(e.data)})).catch((function(e){e.response?v.b.error(e.response.data.message):v.b.error("Error, contacte con soporte")}))},O=function(t){e.history.replace("/quotitation/create_quotitation/"+t)},C=function(e){g.a.delete(b.a+"cotizacion/"+e).then((function(e){v.b.success("Proceso completado"),k()})).catch((function(e){e.response?v.b.error(e.response.data.messsage):v.b.error("Error, contacte con soporte")}))},j=function(e){g.a.get(b.a+"cotizacion_print/"+e,{responseType:"blob"}).then((function(e){y.a.saveAs(e.data,"test.pdf")})).catch((function(e){e.response?v.b.error(e.response.data.message):v.b.error("Error, contacte con soporte")}))};return o.a.createElement(s.a,{className:"containerDiv"},o.a.createElement(u.a,null,o.a.createElement(d.a,{sm:6,md:6,lg:6,className:"text-center"},o.a.createElement("h4",{className:"title_principal"},"Tabla de Cotizaciones"),o.a.createElement(i.a,{variant:"success",onClick:function(){e.history.replace("/quotitation/create_quotitation")},size:"sm"},"Nuevo Registro ",o.a.createElement(E.o,null))),o.a.createElement(d.a,{sm:6,md:6,lg:6,className:"text-center title_principal"},o.a.createElement("h4",null,"Total Cotizaciones Realizadas"),o.a.createElement(p.a,{variant:"danger"},m.length))),o.a.createElement("hr",null),o.a.createElement(u.a,null,o.a.createElement(d.a,{sm:12,md:12,lg:12,xs:12},o.a.createElement(f.a,{columns:x,data:m}))))};k.defaultProps={configGeneral:JSON.parse(localStorage.getItem("configGeneral"))},t.default=k}}]);
//# sourceMappingURL=25.bf5e5988.chunk.js.map