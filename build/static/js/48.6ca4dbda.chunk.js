(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[48],{690:function(e,a,t){"use strict";var n=t(34),r=t(136),l=t(1),c=t.n(l),o=t(135),s=t(702),i=t(704),d=t(132);function u(){var e=Object(r.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .table_responsive_eddit{\n    overflow-x: auto;\n  }\n"]);return u=function(){return e},e}var m=o.a.div(u());function b(e){var a=e.column,t=a.filterValue,n=a.preFilteredRows,r=a.setFilter,l=n.length;return c.a.createElement("input",{value:t||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(l," registros..."),className:"inputPageFilter"})}function p(e,a,t){return Object(i.a)(e,t,{keys:[function(e){return e.values[a]}]})}function g(e){var a=e.columns,t=e.data,r=e.menuTop,l=e.headerColor,o=e.headerFontColor,i=c.a.useMemo((function(){return{fuzzyText:p,text:function(e,a,t){return e.filter((function(e){var n=e.values[a];return void 0===n||String(n).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),u=c.a.useMemo((function(){return{Filter:b}}),[]),m=Object(s.useTable)({columns:a,data:t,defaultColumn:u,filterTypes:i,initialState:{pageIndex:0}},s.useFilters,s.useSortBy,s.usePagination),g=m.getTableProps,E=m.getTableBodyProps,h=m.headerGroups,f=m.page,v=m.prepareRow,C=m.canPreviousPage,y=m.canNextPage,N=m.pageOptions,k=m.pageCount,x=m.gotoPage,j=m.nextPage,O=m.previousPage,P=m.setPageSize,_=m.state,S=_.pageIndex,w=_.pageSize;return c.a.createElement("div",{className:"table-responsive"},r?c.a.createElement("div",{className:"pagination"},c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(0)},disabled:!C},"<<")," ",c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O()},disabled:!C},"<")," ",c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return j()},disabled:!y},">")," ",c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(k-1)},disabled:!y},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,S+1," de ",N.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:S+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;x(a)},className:"inputPage"},"onChange",(function(e){e.target.value>N.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:w,onChange:function(e){P(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",c.a.createElement("table",Object.assign({},g(),{className:"table table-bordered"}),c.a.createElement("thead",null,h.map((function(e){return c.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return c.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{style:{backgroundColor:l||"rgb(218, 236, 242)",color:o||"black"}}),e.render("Header"),c.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),c.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),c.a.createElement("tbody",Object.assign({},E(),{className:"text-center"}),f.map((function(e,a){return v(e)||c.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return c.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),c.a.createElement("div",{className:"pagination"},c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(0)},disabled:!C},"<<")," ",c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O()},disabled:!C},"<")," ",c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return j()},disabled:!y},">")," ",c.a.createElement(d.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(k-1)},disabled:!y},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,S+1," de ",N.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:S+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;x(a)},className:"inputPage"},"onChange",(function(e){e.target.value>N.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:w,onChange:function(e){P(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}p.autoRemove=function(e){return!e};a.a=function(e){var a=e.data,t=e.columns,n=e.menuTop,r=e.headerColor,l=e.headerFontColor;return c.a.createElement(m,null,c.a.createElement(g,{data:a,columns:t,menuTop:n,headerFontColor:l,headerColor:r}))}},738:function(e,a,t){"use strict";var n=t(3),r=t(1),l=t.n(r),c=t(5),o=t.n(c);a.a=function(e){return l.a.forwardRef((function(a,t){return l.a.createElement("div",Object(n.a)({},a,{ref:t,className:o()(a.className,e)}))}))}},741:function(e,a,t){"use strict";var n=t(3),r=t(4),l=t(5),c=t.n(l),o=t(1),s=t.n(o),i=t(71),d=t(8),u=t(37),m=s.a.createContext(null);m.displayName="AccordionContext";var b=m;var p=s.a.forwardRef((function(e,a){var t=e.as,l=void 0===t?"button":t,c=e.children,i=e.eventKey,d=e.onClick,m=Object(r.a)(e,["as","children","eventKey","onClick"]),p=function(e,a){var t=Object(o.useContext)(b),n=Object(o.useContext)(u.a);return function(r){n&&n(e===t?null:e,r),a&&a(r)}}(i,d);return"button"===l&&(m.type="button"),s.a.createElement(l,Object(n.a)({ref:a,onClick:p},m),c)})),g=t(231),E=s.a.forwardRef((function(e,a){var t=e.children,l=e.eventKey,c=Object(r.a)(e,["children","eventKey"]),i=Object(o.useContext)(b);return s.a.createElement(g.a,Object(n.a)({ref:a,in:i===l},c),s.a.createElement("div",null,s.a.Children.only(t)))}));E.displayName="AccordionCollapse";var h=E,f=s.a.forwardRef((function(e,a){var t=Object(i.a)(e,{activeKey:"onSelect"}),l=t.as,o=void 0===l?"div":l,m=t.activeKey,p=t.bsPrefix,g=t.children,E=t.className,h=t.onSelect,f=Object(r.a)(t,["as","activeKey","bsPrefix","children","className","onSelect"]),v=c()(E,Object(d.a)(p,"accordion"));return s.a.createElement(b.Provider,{value:m||null},s.a.createElement(u.a.Provider,{value:h||null},s.a.createElement(o,Object(n.a)({ref:a},f,{className:v}),g)))}));f.displayName="Accordion",f.Toggle=p,f.Collapse=h;a.a=f},742:function(e,a,t){"use strict";var n=t(3),r=t(4),l=t(5),c=t.n(l),o=t(1),s=t.n(o),i=t(8),d=t(73),u=t(738),m=t(232),b=s.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,o=e.variant,d=e.as,u=void 0===d?"img":d,m=Object(r.a)(e,["bsPrefix","className","variant","as"]),b=Object(i.a)(t,"card-img");return s.a.createElement(u,Object(n.a)({ref:a,className:c()(o?b+"-"+o:b,l)},m))}));b.displayName="CardImg",b.defaultProps={variant:null};var p=b,g=Object(u.a)("h5"),E=Object(u.a)("h6"),h=Object(d.a)("card-body"),f=Object(d.a)("card-title",{Component:g}),v=Object(d.a)("card-subtitle",{Component:E}),C=Object(d.a)("card-link",{Component:"a"}),y=Object(d.a)("card-text",{Component:"p"}),N=Object(d.a)("card-header"),k=Object(d.a)("card-footer"),x=Object(d.a)("card-img-overlay"),j=s.a.forwardRef((function(e,a){var t=e.bsPrefix,l=e.className,d=e.bg,u=e.text,b=e.border,p=e.body,g=e.children,E=e.as,f=void 0===E?"div":E,v=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),C=Object(i.a)(t,"card"),y=Object(o.useMemo)((function(){return{cardHeaderBsPrefix:C+"-header"}}),[C]);return s.a.createElement(m.a.Provider,{value:y},s.a.createElement(f,Object(n.a)({ref:a},v,{className:c()(l,C,d&&"bg-"+d,u&&"text-"+u,b&&"border-"+b)}),p?s.a.createElement(h,null,g):g))}));j.displayName="Card",j.defaultProps={body:!1},j.Img=p,j.Title=f,j.Subtitle=v,j.Body=h,j.Link=C,j.Text=y,j.Header=N,j.Footer=k,j.ImgOverlay=x;a.a=j},911:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(18),c=(t(55),t(105)),o=t(3),s=t(4),i=t(2),d=t.n(i),u=t(5),m=t.n(u),b=t(6),p={tag:b.k,listTag:b.k,className:d.a.string,listClassName:d.a.string,cssModule:d.a.object,children:d.a.node,"aria-label":d.a.string},g=function(e){var a=e.className,t=e.listClassName,n=e.cssModule,l=e.children,c=e.tag,i=e.listTag,d=e["aria-label"],u=Object(s.a)(e,["className","listClassName","cssModule","children","tag","listTag","aria-label"]),p=Object(b.h)(m()(a),n),g=Object(b.h)(m()("breadcrumb",t),n);return r.a.createElement(c,Object(o.a)({},u,{className:p,"aria-label":d}),r.a.createElement(i,{className:g},l))};g.propTypes=p,g.defaultProps={tag:"nav",listTag:"ol","aria-label":"breadcrumb"};var E=g,h={tag:b.k,active:d.a.bool,className:d.a.string,cssModule:d.a.object},f=function(e){var a=e.className,t=e.cssModule,n=e.active,l=e.tag,c=Object(s.a)(e,["className","cssModule","active","tag"]),i=Object(b.h)(m()(a,!!n&&"active","breadcrumb-item"),t);return r.a.createElement(l,Object(o.a)({},c,{className:i,"aria-current":n?"page":void 0}))};f.propTypes=h,f.defaultProps={tag:"li"};var v=f,C=t(34),y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6","display-1":"h1","display-2":"h1","display-3":"h1","display-4":"h1",p:"p",lead:"p",blockquote:"blockquote"},N=function(e){var a,t=e.tag,n=e.className,c=e.type,o=Object(l.a)(e,["tag","className","type"]),s=m()(Object(C.a)({},c,!!c),n);return a=t||(!t&&y[c]?y[c]:"p"),r.a.createElement(a,Object.assign({},o,{className:s}))};N.defaultProps={type:"p"};var k=N,x=c.a.create("page"),j=function(e){var a=e.title,t=e.breadcrumbs,n=e.tag,c=e.className,o=e.children,s=Object(l.a)(e,["title","breadcrumbs","tag","className","children"]),i=x.b("px-3",c);return r.a.createElement(n,Object.assign({className:i},s),r.a.createElement("div",{className:x.e("header")},a&&"string"===typeof a?r.a.createElement(k,{type:"h1",className:x.e("title")},a):a,t&&r.a.createElement(E,{className:x.e("breadcrumb")},r.a.createElement(v,null,"Home"),t.length&&t.map((function(e,a){var t=e.name,n=e.active;return r.a.createElement(v,{key:a,active:n},t)})))),o)};j.defaultProps={tag:"div",title:""};var O=j,P=t(20),_=t(134),S=t(87),w=t(686),B=t(741),F=t(742),T=t(132),A=t(687),z=function(e){return r.a.createElement(S.a,null,r.a.createElement(F.a,null,r.a.createElement(F.a.Body,null,r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("div",{className:e.styleInline+" display-4 text-"+e.colorFont}),r.a.createElement("div",{className:"ml-3"},r.a.createElement("div",{className:"text-muted small"},e.title),r.a.createElement("div",{className:"text-large"},e.value))))))},H=t(12),I=t.n(H),R=t(15),M=t(23),D=t(740),K={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},G={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0},W={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},maintainAspectRatio:!1},U={labels:[],datasets:[{label:"Pagos Pendientes",backgroundColor:"rgb(15, 13, 74)",borderColor:"rgb(27, 13, 74)",borderWidth:1,hoverBackgroundColor:"rgb(15, 13, 74)",hoverBorderColor:"rgb(27, 13, 74)",data:[]}]},V={labels:[],datasets:[{label:"Productos m\xe1s vendidos",backgroundColor:"#0c0f5d",borderColor:"#0c0f5d",borderWidth:1,hoverBackgroundColor:"#c50747",hoverBorderColor:"#0c0f5d",data:[]}]},q={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"rgb(125, 81, 52)",borderColor:"rgb(99, 56, 21)"}]},L=function(e){var a=Object(n.useState)(null),l=Object(P.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(!0),i=Object(P.a)(s,2),d=i[0],u=i[1],m=Object(n.useState)(!1),b=Object(P.a)(m,2),p=b[0],g=b[1];Object(n.useEffect)((function(){h()}),[e.id_branch_office]),Object(n.useEffect)((function(){c&&E()}),[c]);var E=function(){K.labels=[],K.datasets[0].data=[],K.datasets[0].backgroundColor=[],K.datasets[0].hoverBackgroundColor=[],U.labels=[],U.datasets[0].data=[],V.labels=[],V.datasets[0].data=[],q.labels=[],q.datasets[0].data=[],c.totalPayments.forEach((function(e,a){K.labels.push(e.label),K.datasets[0].data.push(parseFloat(e.total)),K.datasets[0].backgroundColor.push(R.c[a]),K.datasets[0].hoverBackgroundColor.push(R.c[a])})),c.totalDebt.forEach((function(e,a){U.labels.push(e.label),U.datasets[0].data.push(e.total)})),c.mostSales.forEach((function(e,a){V.labels.push(e.name_product),V.datasets[0].data.push(e.total)})),c.totalCharged.forEach((function(e,a){q.labels.push(e.year),q.datasets[0].data.push(e.total)})),g(!0),setTimeout((function(){g(!1)}),1500)};Object(n.useEffect)((function(){return function(){K={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},U={labels:[],datasets:[{label:"Pagos Pendientes",backgroundColor:"rgb(15, 13, 74)",borderColor:"rgb(27, 13, 74)",borderWidth:1,hoverBackgroundColor:"rgb(15, 13, 74)",hoverBorderColor:"rgb(27, 13, 74)",data:[]}]},V={labels:[],datasets:[{label:"Productos m\xe1s vendidos",backgroundColor:"#0c0f5d",borderColor:"#0c0f5d",borderWidth:1,hoverBackgroundColor:"#c50747",hoverBorderColor:"#0c0f5d",data:[]}]},q={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"rgb(125, 81, 52)",borderColor:"rgb(99, 56, 21)"}]}}}),[]);var h=function(){I.a.get(R.b+"dashboard_stadistics").then((function(e){o(e.data),u(!1)})).catch((function(a){e.tokenExpired(a)}))},f=function(a){e.history.replace(a)};return r.a.createElement(r.a.Fragment,null,d?r.a.createElement(_.a,{className:"justify-content-center"},r.a.createElement(S.a,{sm:4,lg:4,md:4,className:"text-center"},r.a.createElement(w.a,{src:t(345)}),r.a.createElement("p",{className:"title_principal"},"Cargando..."))):r.a.createElement(_.a,{className:"animate__animated animate__fadeInUp"},r.a.createElement(S.a,{sm:12,md:12,lg:12},r.a.createElement(_.a,null,r.a.createElement(S.a,null,r.a.createElement(B.a,null,r.a.createElement(F.a,null,r.a.createElement(B.a.Toggle,{as:F.a.Header,eventKey:"1",className:"header_card"},r.a.createElement("b",null,"Accesos directos")," ( hacer click para desplegar )"),r.a.createElement(B.a.Collapse,{eventKey:"1"},r.a.createElement(F.a.Body,null,r.a.createElement(_.a,null,r.a.createElement(S.a,{sm:3,md:3,lg:3},r.a.createElement(T.a,{variant:"dark",block:!0,size:"sm",type:"button",onClick:function(){return f("/quotitation/search_quotitation")}},"Cotizaciones")),r.a.createElement(S.a,{sm:3,md:3,lg:3},r.a.createElement(T.a,{variant:"dark",block:!0,size:"sm",type:"button",onClick:function(){return f("/invoice/invoice_search")}},"Facturaciones")),r.a.createElement(S.a,{sm:3,md:3,lg:3},r.a.createElement(T.a,{variant:"dark",block:!0,size:"sm",type:"button",onClick:function(){return f("/sale_note/sale_note_search")}},"Notas de Venta")),r.a.createElement(S.a,{sm:3,md:3,lg:3},r.a.createElement(T.a,{variant:"dark",block:!0,size:"sm",type:"button",onClick:function(){return f("/src/bill/bill_search")}},"Boletas"))),r.a.createElement("br",null),r.a.createElement(_.a,null,r.a.createElement(S.a,{sm:3,md:3,lg:3},r.a.createElement(T.a,{variant:"dark",block:!0,size:"sm",type:"button",onClick:function(){return f("/guide/guide_search")}},"Guias de Despacho"))))))))),r.a.createElement("br",null),r.a.createElement(_.a,null,r.a.createElement(z,{value:c.cardStadistics.total_cotizacion,styleInline:"lnr lnr-book",colorFont:"success",title:"Cotizaciones"}),r.a.createElement(z,{value:c.cardStadistics.total_invoice,styleInline:"lnr lnr-book",colorFont:"warning",title:"Facturacion"}),r.a.createElement(z,{value:c.cardStadistics.total_sale_note,styleInline:"lnr lnr-book",colorFont:"danger",title:"Notas de Ventas"}),r.a.createElement(z,{value:c.cardStadistics.total_bill,styleInline:"lnr lnr-book",colorFont:"primary",title:"Boletas"}),r.a.createElement(z,{value:c.cardStadistics.total_guide,styleInline:"lnr lnr-book",colorFont:"dark",title:"Guias"})),r.a.createElement("br",null),r.a.createElement(_.a,null,r.a.createElement(S.a,{style:{height:"200px"}},r.a.createElement(D.b,{data:K,redraw:p,options:G})),r.a.createElement(S.a,null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{backgroundColor:"#ca3428",color:"white"}},r.a.createElement("th",{colSpan:"2",className:"text-center"},"Total pagado")),r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Nombre"),r.a.createElement("th",{className:"text-center"},"Cantidad"))),r.a.createElement("tbody",{className:"text-center"},c.totalPayments.map((function(a,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a.label),r.a.createElement("td",null,r.a.createElement(A.a,{variant:"danger",className:"font-badge",style:{color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(M.a)(a.total,2,",","."))))})))))),r.a.createElement(_.a,null,r.a.createElement(S.a,null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{backgroundColor:"#262463",color:"white"}},r.a.createElement("th",{colSpan:"2",className:"text-center"},"Total Pendiente")),r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Nombre"),r.a.createElement("th",{className:"text-center"},"Cantidad"))),r.a.createElement("tbody",{className:"text-center"},c.totalDebt.map((function(a,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a.label),r.a.createElement("td",null,r.a.createElement(A.a,{variant:"danger",className:"font-badge",style:{color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(M.a)(a.total,2,",","."))))}))))),r.a.createElement(S.a,{style:{height:"260px"}},r.a.createElement(D.a,{data:U,options:G,redraw:p}))),r.a.createElement(_.a,null,r.a.createElement(S.a,{style:{height:"260px"}},r.a.createElement(D.a,{data:V,options:G,redraw:p})),r.a.createElement(S.a,null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{backgroundColor:"#07610b",color:"white"}},r.a.createElement("th",{colSpan:"2",className:"text-center"},"Los 5 productos con menor stock")),r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Nombre"),r.a.createElement("th",{className:"text-center"},"Cantidad"))),r.a.createElement("tbody",{className:"text-center"},c.minimunStock.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.name_product),r.a.createElement("td",null,r.a.createElement(A.a,{variant:"danger",className:"font-badge",style:{color:"white"}},e.total)))})))))),r.a.createElement(_.a,null,r.a.createElement(S.a,{style:{height:"200px"}},r.a.createElement(D.d,{data:q,options:W}))))))},J=t(654),X=t(690),Z=(t(176),t(59)),Y=[],Q=[],$=[],ee={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},ae={labels:[],datasets:[{label:"Acumulado en facturas de planes este mes",backgroundColor:"#bb3a65",borderColor:"#8e1525",borderWidth:1,hoverBackgroundColor:"#bb3a65",hoverBorderColor:"#8e1525",data:[]}]},te={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"#e91e63",borderColor:"#a9093f"}]},ne={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0},re={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},maintainAspectRatio:!1},le=function(e){var a=Object(n.useState)(null),l=Object(P.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(!0),i=Object(P.a)(s,2),d=i[0],u=i[1],m=Object(n.useState)(!1),b=Object(P.a)(m,2),p=b[0],g=b[1];Object(n.useEffect)((function(){return E(),Z.a.toggleCollapsed(),function(){ae={labels:[],datasets:[{label:"Acumulado en facturas de planes este mes",backgroundColor:"#bb3a65",borderColor:"#8e1525",borderWidth:1,hoverBackgroundColor:"#bb3a65",hoverBorderColor:"#8e1525",data:[]}]},ee={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},te={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"#e91e63",borderColor:"#a9093f"}]},Z.a.toggleCollapsed()}}),[]),Object(n.useEffect)((function(){c&&h()}),[c]),Object(n.useMemo)((function(){Y=[{Header:"EMPRESAS EXPIRADAS",columns:[{Header:"Empresa",accessor:"bussines_name"},{Header:"Ultima fecha de Pago",accessor:"last_day_payment"},{Header:"Estado",accessor:function(e){return["cerrada"]},Cell:function(e){return r.a.createElement(A.a,{className:"font-badge",variant:"danger"},"Cerrada")}}]}],[{Header:"CONEXIONES MAS RECIENTES",columns:[{Header:"Usuario",accessor:"name"},{Header:"Rut",accessor:"rut",Cell:function(e){var a=e.cell.row.original;return r.a.createElement(A.a,{variant:"danger",className:"font-badge"},a.rut)}},{Header:"Empresa",accessor:"name_enterprise"},{Header:"Fecha Conexion",accessor:"last_connection"}]}],Q=[{Header:"EMPRESAS EN DIAS DE PRUEBA",columns:[{Header:"Empresa",accessor:"bussines_name"},{Header:"Ultima fecha de pago",accessor:"last_day_payment"}]}],$=[{Header:"EMPRESAS EN PERIODOS DE VENCIMIENTO",columns:[{Header:"Empresa",accessor:"bussines_name"},{Header:"Ultima fecha de pago",accessor:"last_day_payment"}]}]}),[]);var E=function(){I.a.get(R.b+"dashboard_stadistics_master").then((function(e){o(e.data),u(!1)})).catch((function(a){e.tokenExpired(a)}))},h=function(){ee.labels=[],ee.datasets[0].data=[],ee.datasets[0].backgroundColor=[],ee.datasets[0].hoverBackgroundColor=[],ae.labels=[],ae.datasets[0].data=[],te.labels=[],te.datasets[0].data=[],c.countEnterpriseStatus.forEach((function(e,a){ee.labels.push(e.label),ee.datasets[0].data.push(parseFloat(e.total)),ee.datasets[0].backgroundColor.push(R.c[a]),ee.datasets[0].hoverBackgroundColor.push(R.c[a])})),c.totalAmountInvoices.forEach((function(e,a){ae.labels.push(e.label),ae.datasets[0].data.push(e.total)})),c.totalAmountInvoicesByYear.forEach((function(e,a){te.labels.push(e.year),te.datasets[0].data.push(e.total)})),g(!0),setTimeout((function(){g(!1)}),1500)};return r.a.createElement(J.a,{fluid:!0},d?r.a.createElement(_.a,{className:"justify-content-center"},r.a.createElement(S.a,{sm:4,lg:4,md:4,className:"text-center"},r.a.createElement(w.a,{src:t(345)}),r.a.createElement("p",{className:"title_principal"},"Cargando..."))):r.a.createElement(_.a,null,r.a.createElement(S.a,null,r.a.createElement(_.a,null,r.a.createElement(S.a,null,r.a.createElement(B.a,null,r.a.createElement(F.a,null,r.a.createElement(B.a.Toggle,{as:F.a.Header,eventKey:"0",className:"header_card"},r.a.createElement("b",null,"Estad\xedsticas")," ( hacer click para desplegar )"),r.a.createElement(B.a.Collapse,{eventKey:"0"},r.a.createElement(F.a.Body,null,r.a.createElement(_.a,null,r.a.createElement(S.a,{style:{height:"200px"}},r.a.createElement(D.b,{data:ee,redraw:p,options:ne})),r.a.createElement(S.a,null,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{backgroundColor:"#bb3a65",color:"white"}},r.a.createElement("th",{colSpan:"4",className:"text-center"},"Conexiones m\xe1s recientes")),r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Nombre"),r.a.createElement("th",{className:"text-center"},"Rut"),r.a.createElement("th",{className:"text-center"},"Empresa"),r.a.createElement("th",{className:"text-center"},"Fecha Conexi\xf3n"))),r.a.createElement("tbody",{className:"text-center"},c.lastConnecteds.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.rut),r.a.createElement("td",null,e.name_enterprise),r.a.createElement("td",null,e.last_connection))})))))),r.a.createElement(_.a,null,r.a.createElement(S.a,{style:{height:"200px"}},r.a.createElement(D.c,{data:ae,options:ne}))),r.a.createElement(_.a,null,r.a.createElement(S.a,{style:{height:"200px"}},r.a.createElement(D.d,{data:te,options:re}))))))))),r.a.createElement(_.a,null,r.a.createElement(S.a,null,r.a.createElement(X.a,{headerColor:"#c78681",headerFontColor:"white",data:c.enterpriseAboutToExpire,columns:$}))),r.a.createElement(_.a,null,r.a.createElement(S.a,{sm:12,md:6,lg:6,xl:6},r.a.createElement(X.a,{headerColor:"#c78681",headerFontColor:"white",data:c.enterpriseTestPeriod,columns:Q})),r.a.createElement(S.a,{sm:12,md:6,lg:6,xl:6},r.a.createElement(X.a,{headerColor:"#c78681",headerFontColor:"white",data:c.enterpriseExpiredPayment,columns:Y}))))))},ce=t(29);a.default=Object(ce.b)((function(e){return{user:e.auth.user,configGeneral:e.configs.config,id_branch_office:e.enterpriseSucursal.id_branch_office,id_enterprise:e.enterpriseSucursal.id_enterprise}}),{})((function(e){return r.a.createElement(O,{className:"DashboardPage",title:"Dashboard",breadcrumbs:[{name:"Dashboard",active:!0}]},e.user.id_rol>1?r.a.createElement(r.a.Fragment,null,e.id_enterprise?r.a.createElement(r.a.Fragment,null,e.id_branch_office?r.a.createElement(r.a.Fragment,null,e.user.id_rol>=2?r.a.createElement(J.a,{fluid:!0},r.a.createElement(L,e)):""):r.a.createElement(_.a,{className:"align-items-center"},r.a.createElement(S.a,null,r.a.createElement("p",{className:"alert alert-info text-center"},"Escoja una sucursal para trabajar")))):r.a.createElement(_.a,{className:"justify-content-center"},r.a.createElement(S.a,{sm:8,md:6,lg:6,xl:6},r.a.createElement(T.a,{type:"button",size:"sm",onClick:function(){return a="/enterprise/form",void e.history.replace(a);var a},block:!0},"Crear Empresa")))):r.a.createElement(le,e))}))}}]);
//# sourceMappingURL=48.6ca4dbda.chunk.js.map