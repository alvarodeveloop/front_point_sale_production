(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[20],{618:function(e,a,t){"use strict";var n=t(51),r=t(126),c=t(1),l=t.n(c),o=t(127),i=t(626),s=t(627),m=t(305);function u(){var e=Object(r.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .table_responsive_eddit{\n    overflow-x: auto;\n  }\n"]);return u=function(){return e},e}var d=o.a.div(u());function p(e){var a=e.column,t=a.filterValue,n=a.preFilteredRows,r=a.setFilter,c=n.length;return l.a.createElement("input",{value:t||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(c," registros..."),className:"inputPageFilter"})}function g(e,a,t){return Object(s.a)(e,t,{keys:[function(e){return e.values[a]}]})}function b(e){var a=e.columns,t=e.data,r=e.menuTop,c=e.headerColor,o=e.headerFontColor,s=e.pageSizeHandler,u=l.a.useMemo((function(){return{fuzzyText:g,text:function(e,a,t){return e.filter((function(e){var n=e.values[a];return void 0===n||String(n).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),d=l.a.useMemo((function(){return{Filter:p}}),[]),b=Object(i.useTable)({columns:a,data:t,defaultColumn:d,filterTypes:u,initialState:{pageIndex:0,pageSize:s[0]}},i.useFilters,i.useSortBy,i.usePagination),E=b.getTableProps,_=b.getTableBodyProps,h=b.headerGroups,f=b.page,y=b.prepareRow,v=b.canPreviousPage,C=b.canNextPage,O=b.pageOptions,j=b.pageCount,x=b.gotoPage,z=b.nextPage,q=b.previousPage,k=b.setPageSize,D=b.state,N=D.pageIndex,R=D.pageSize;return l.a.createElement("div",{className:"table_responsive_eddit"},r?l.a.createElement("div",{className:"pagination"},l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(0)},disabled:!v},"<<")," ",l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return q()},disabled:!v},"<")," ",l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return z()},disabled:!C},">")," ",l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(j-1)},disabled:!C},">>")," ",l.a.createElement("span",null,"P\xe1gina"," ",l.a.createElement("strong",null,N+1," de ",O.length)," "),l.a.createElement("span",{className:"ml-3"},"| ",l.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),l.a.createElement("input",Object(n.a)({type:"number",defaultValue:N+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;x(a)},className:"inputPage"},"onChange",(function(e){e.target.value>O.length&&(e.target.value=1)}))))," ",l.a.createElement("select",{value:R,onChange:function(e){k(Number(e.target.value))},className:"inputPage"},s.map((function(e){return l.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",l.a.createElement("table",Object.assign({},E(),{className:"table table-bordered"}),l.a.createElement("thead",null,h.map((function(e){return l.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return l.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{style:{backgroundColor:c||"rgb(218, 236, 242)",color:o||"black"}}),e.render("Header"),l.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),l.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),l.a.createElement("tbody",Object.assign({},_(),{className:"text-center"}),f.map((function(e,a){return y(e)||l.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return l.a.createElement("td",Object.assign({style:{position:"relative"}},e.getCellProps()),e.render("Cell"))})))})))),l.a.createElement("div",{className:"pagination"},l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(0)},disabled:!v},"<<")," ",l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return q()},disabled:!v},"<")," ",l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return z()},disabled:!C},">")," ",l.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(j-1)},disabled:!C},">>")," ",l.a.createElement("span",null,"P\xe1gina"," ",l.a.createElement("strong",null,N+1," de ",O.length)," "),l.a.createElement("span",{className:"ml-3"},"| ",l.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),l.a.createElement("input",Object(n.a)({type:"number",defaultValue:N+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;x(a)},className:"inputPage"},"onChange",(function(e){e.target.value>O.length&&(e.target.value=1)}))))," ",l.a.createElement("select",{value:R,onChange:function(e){k(Number(e.target.value))},className:"inputPage"},s.map((function(e){return l.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}g.autoRemove=function(e){return!e};a.a=function(e){var a=e.data,t=e.columns,n=e.menuTop,r=e.headerColor,c=e.headerFontColor,o=e.pageSizeHandler;return o=o||[10,20,30,40,50],l.a.createElement(d,null,l.a.createElement(b,{pageSizeHandler:o,data:a,columns:t,menuTop:n,headerFontColor:c,headerColor:r}))}},622:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(70),l=t(208),o=t(30);a.a=function(e){var a=Object(c.a)(e,{activeKey:"onSelect"}),t=a.id,i=a.generateChildId,s=a.onSelect,m=a.activeKey,u=a.transition,d=a.mountOnEnter,p=a.unmountOnExit,g=a.children,b=Object(n.useMemo)((function(){return i||function(e,a){return t?t+"-"+a+"-"+e:null}}),[t,i]),E=Object(n.useMemo)((function(){return{onSelect:s,activeKey:m,transition:u,mountOnEnter:d||!1,unmountOnExit:p||!1,getControlledId:function(e){return b(e,"tabpane")},getControllerId:function(e){return b(e,"tab")}}}),[s,m,u,d,p,b]);return r.a.createElement(l.a.Provider,{value:E},r.a.createElement(o.a.Provider,{value:s||null},g))}},623:function(e,a,t){"use strict";var n=t(2),r=t(4),c=t(5),l=t.n(c),o=t(1),i=t.n(o),s=t(7),m=i.a.forwardRef((function(e,a){var t=e.bsPrefix,c=e.as,o=void 0===c?"div":c,m=e.className,u=Object(r.a)(e,["bsPrefix","as","className"]),d=Object(s.a)(t,"tab-content");return i.a.createElement(o,Object(n.a)({ref:a},u,{className:l()(m,d)}))}));a.a=m},624:function(e,a,t){"use strict";var n=t(2),r=t(4),c=t(5),l=t.n(c),o=t(1),i=t.n(o),s=t(7),m=t(208),u=t(30),d=t(166);var p=i.a.forwardRef((function(e,a){var t=function(e){var a=Object(o.useContext)(m.a);if(!a)return e;var t=a.activeKey,c=a.getControlledId,l=a.getControllerId,i=Object(r.a)(a,["activeKey","getControlledId","getControllerId"]),s=!1!==e.transition&&!1!==i.transition,p=Object(u.b)(e.eventKey);return Object(n.a)({},e,{active:null==e.active&&null!=p?Object(u.b)(t)===p:e.active,id:c(e.eventKey),"aria-labelledby":l(e.eventKey),transition:s&&(e.transition||i.transition||d.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:i.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:i.unmountOnExit})}(e),c=t.bsPrefix,p=t.className,g=t.active,b=t.onEnter,E=t.onEntering,_=t.onEntered,h=t.onExit,f=t.onExiting,y=t.onExited,v=t.mountOnEnter,C=t.unmountOnExit,O=t.transition,j=t.as,x=void 0===j?"div":j,z=(t.eventKey,Object(r.a)(t,["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"])),q=Object(s.a)(c,"tab-pane");if(!g&&!O&&C)return null;var k=i.a.createElement(x,Object(n.a)({},z,{ref:a,role:"tabpanel","aria-hidden":!g,className:l()(p,q,{active:g})}));return O&&(k=i.a.createElement(O,{in:g,onEnter:b,onEntering:E,onEntered:_,onExit:h,onExiting:f,onExited:y,mountOnEnter:v,unmountOnExit:C},k)),i.a.createElement(m.a.Provider,{value:null},i.a.createElement(u.a.Provider,{value:null},k))}));p.displayName="TabPane",a.a=p},625:function(e,a,t){e.exports=t.p+"static/media/empty_logo.258d3697.jpg"},629:function(e,a,t){},630:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(658),l=t(660),o=t(604),i=t(32),s=t(82),m=t(83);a.a=function(e){return Object(n.useEffect)((function(){setTimeout((function(){e.setCotizationData((function(a){return Object.assign({},a,{business_name_transmitter:e.configGeneral&&!a.bussines_name?e.configGeneral.enterprise.bussines_name:a.bussines_name,rut_transmitter:e.configGeneral&&!a.rut_transmitter?e.configGeneral.enterprise.rut:a.rut_transmitter,address_transmitter:e.configGeneral&&!a.address_transmitter?e.configGeneral.enterprise.address:a.address_transmitter,city_transmitter:e.configGeneral&&!a.city_transmitter?e.configGeneral.enterprise.city:a.city_transmitter,comuna_transmitter:e.configGeneral&&!a.comuna_transmitter?e.configGeneral.enterprise.comuna:a.comuna_transmitter,spin_transmitter:e.configGeneral&&!a.spin_transmitter?e.configGeneral.enterprise.spin:a.spin_transmitter,email_transmitter:e.configGeneral&&!a.email_transmitter?e.configGeneral.enterprise.email_enterprise:a.email_transmitter,actividad_economica_transmitter:e.configGeneral&&!a.actividad_economica_transmitter?e.configGeneral.enterprise.actividad_economica:a.actividad_economica_transmitter,phone_transmitter:e.configGeneral&&!a.phone_transmitter?e.configGeneral.enterprise.phone:a.phone_transmitter})}))}),1500)}),[]),r.a.createElement(c.a,null,r.a.createElement(l.a.Toggle,{as:c.a.Header,eventKey:"0",className:"header_card"},r.a.createElement("b",null,"Datos del Emisor")," ",r.a.createElement(i.R,null)," (hacer click para desplegar campos)"),r.a.createElement(l.a.Collapse,{eventKey:"0"},"cotizacion"==e.isType||"boleta"==e.isType?r.a.createElement(c.a.Body,null,"boleta"==e.isType&&e.cotizationData.fetchTransmitter?r.a.createElement(m.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement(s.a,{type:"text",label:"Raz\xf3n Social",name:"business_name_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.business_name_transmitter,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Rut",name:"rut_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.rut_transmitter,handleChange:e.onChange}),e.cotizationData.address_transmitter_array.length>0?r.a.createElement(s.a,{type:"select",label:"Direccion",name:"address_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_transmitter,handleChange:e.onChange},r.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.address_transmitter_array.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)}))):r.a.createElement(s.a,{type:"text",label:"Direccion",name:"address_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_transmitter,handleChange:e.onChange})),r.a.createElement(o.a,null,r.a.createElement(s.a,{type:"text",label:"Ciudad",name:"city_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.city_transmitter,handleChange:e.onChange}),"boleta"===e.isType?r.a.createElement(s.a,{type:"text",label:"Comuna",name:"comuna_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.comuna_transmitter,handleChange:e.onChange}):r.a.createElement(s.a,{type:"text",label:"Giro",name:"spin_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_transmitter,handleChange:e.onChange}),r.a.createElement(s.a,{type:"email",label:"Email",name:"email_transmitter",required:!1,messageErrors:["Requerido*","Formato tipo email*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.email_transmitter,handleChange:e.onChange})),"boleta"===e.isType?r.a.createElement(o.a,null,r.a.createElement(s.a,{type:"text",label:"Actividad Econ\xf3mica",name:"actividad_economica_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.actividad_economica_transmitter,handleChange:e.onChange})):r.a.createElement(o.a,null,r.a.createElement(s.a,{type:"text",label:"Fono",name:"phone_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.phone_transmitter,handleChange:e.onChange})))):"facturacion"==e.isType||"sale_note"==e.isType?r.a.createElement(c.a.Body,null,r.a.createElement(o.a,null,r.a.createElement(s.a,{type:"text",label:"Raz\xf3n Social",name:"business_name_transmitter",required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.business_name_transmitter,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Rut",name:"rut_transmitter",required:"facturacion"!==e.isType||!e.cotizationData.type_invoicing,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.rut_transmitter,handleChange:e.onChange}),e.cotizationData.address_transmitter_array.length>0?r.a.createElement(s.a,{type:"select",label:"Direccion",name:"address_transmitter",required:!e.cotizationData.type_invoicing&&"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_transmitter,handleChange:e.onChange},r.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.address_transmitter_array.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)}))):r.a.createElement(s.a,{type:"text",label:"Direccion",name:"address_transmitter",required:"facturacion"===e.isType&&!e.cotizationData.type_invoicing,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_transmitter,handleChange:e.onChange})),r.a.createElement(o.a,null,r.a.createElement(s.a,{type:"text",label:"Ciudad",name:"city_transmitter",required:"facturacion"===e.isType&&!e.cotizationData.type_invoicing,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.city_transmitter,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Comuna",name:"comuna_transmitter",required:"facturacion"===e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.comuna_transmitter,handleChange:e.onChange}),e.cotizationData.actividad_economica_transmitter_array.length>0?r.a.createElement(s.a,{type:"select",label:"Actividad Econ\xf3mica",name:"actividad_economica_transmitter",required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.actividad_economica_transmitter,handleChange:e.onChange},r.a.createElement("option",null,"--Seleccione--"),e.cotizationData.actividad_economica_transmitter_array.map((function(e,a){return r.a.createElement("option",{value:e[0],key:a},e[1])}))):r.a.createElement(s.a,{type:"text",label:"Actividad Econ\xf3mica",name:"actividad_economica_transmitter",required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.actividad_economica_transmitter,handleChange:e.onChange})),r.a.createElement(o.a,null,e.cotizationData.type_sale_transmitter_array.length>0?r.a.createElement(s.a,{type:"select",label:"Tipo de Venta",name:"type_sale_transmitter",required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_sale_transmitter,handleChange:e.onChange},r.a.createElement("option",{vcalue:""},"--Seleccione--"),e.cotizationData.type_sale_transmitter_array.map((function(e,a){return r.a.createElement("option",{value:e[0],key:a},e[1])}))):r.a.createElement(s.a,{type:"text",label:"Tipo de Venta",name:"type_sale_transmitter",required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_sale_transmitter,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Giro",name:"spin_transmitter",required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_transmitter,handleChange:e.onChange}))):"guide"==e.isType?r.a.createElement(c.a.Body,null,r.a.createElement(o.a,null,r.a.createElement(s.a,{type:"text",label:"Raz\xf3n Social",name:"business_name_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.business_name_transmitter,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Rut",name:"rut_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.rut_transmitter,handleChange:e.onChange}),e.cotizationData.address_transmitter_array.length>0?r.a.createElement(s.a,{type:"select",label:"Direccion",name:"address_transmitter",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_transmitter,handleChange:e.onChange},e.cotizationData.address_transmitter_array.map((function(e,a){return r.a.createElement("option",{value:e,key:a},e)}))):r.a.createElement(s.a,{type:"text",label:"Direccion",name:"address_transmitter",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_transmitter,handleChange:e.onChange})),r.a.createElement(o.a,null,r.a.createElement(s.a,{type:"text",label:"Ciudad",name:"city_transmitter",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.city_transmitter,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Comuna",name:"comuna_transmitter",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.comuna_transmitter,handleChange:e.onChange}),e.cotizationData.actividad_economica_transmitter_array.length>0?r.a.createElement(s.a,{type:"select",label:"Actividad Econ\xf3mica",name:"actividad_economica_transmitter",required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.actividad_economica_transmitter,handleChange:e.onChange},r.a.createElement("option",null,"--Seleccione--"),e.cotizationData.actividad_economica_transmitter_array.map((function(e,a){return r.a.createElement("option",{value:e[0],key:a},e[1])}))):r.a.createElement(s.a,{type:"text",label:"Actividad Econ\xf3mica",name:"actividad_economica_transmitter",required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.actividad_economica_transmitter,handleChange:e.onChange})),r.a.createElement(o.a,null,e.cotizationData.type_sale_transmitter_array.length>0?r.a.createElement(s.a,{type:"select",label:"Tipo de Venta",name:"type_sale_transmitter",required:"sale_note"!==e.isType&&"guide"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_sale_transmitter,handleChange:e.onChange},r.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.type_sale_transmitter_array.map((function(e,a){return r.a.createElement("option",{value:e[0],key:a},e[1])}))):r.a.createElement(s.a,{type:"text",label:"Tipo de Venta",name:"type_sale_transmitter",required:"sale_note"!==e.isType&&"guide"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_sale_transmitter,handleChange:e.onChange}),e.cotizationData.type_transfer_trasmitter_array.length>0?r.a.createElement(s.a,{type:"select",label:"Tipo de Traslado",name:"type_transfer_trasmitter",required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_transfer_trasmitter,handleChange:e.onChange},r.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.type_transfer_trasmitter_array.map((function(e,a){return r.a.createElement("option",{value:e.id,key:a},e.valor)}))):r.a.createElement(s.a,{type:"text",label:"Tipo de Traslado",name:"type_transfer_trasmitter",required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_transfer_trasmitter,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Giro",name:"spin_transmitter",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_transmitter,handleChange:e.onChange}))):""))}},631:function(e,a,t){"use strict";var n=t(17),r=t.n(n),c=t(34),l=t(51),o=t(20),i=t(16),s=t(1),m=t.n(s),u=t(658),d=t(660),p=t(604),g=t(205),b=t(50),E=t(305),_=t(32),h=t(82),f=t(640),y=t(8),v=t(9),C=t.n(v),O=t(18),j=t(10),x=t(83);a.a=function(e){var a,t,n,v,z=Object(s.useState)(""),q=Object(i.a)(z,2),k=q[0],D=q[1],N=Object(s.useState)(!1),R=Object(i.a)(N,2),S=R[0],T=R[1],w=Object(s.useState)({}),P=Object(i.a)(w,2),G=P[0],I=P[1],A=Object(s.useState)(!1),F=Object(i.a)(A,2),H=F[0],B=F[1],M=Object(s.useState)(!1),V=Object(i.a)(M,2),K=V[0],L=V[1];Object(s.useEffect)((function(){e.cotizationData.searchReceptorDefault&&W(e.cotizationData.rut_client)}),[e.cotizationData.searchReceptorDefault]),Object(s.useEffect)((function(){}),[]);var Y=function(a){if("type_api"===a.target.name||"total_with_iva"===a.target.name||"type_effect"===a.target.name||"type_invoicing"===a.target.name){var t="false"!==a.target.value;e.setCotizationData(Object(o.a)(Object(o.a)({},e.cotizationData),{},Object(l.a)({},a.target.name,t)))}else"rut_transmitter"===a.target.name||"rut_client"===a.target.name?e.setCotizationData(Object(o.a)(Object(o.a)({},e.cotizationData),{},Object(l.a)({},a.target.name,Object(O.b)(a.target.value)))):e.setCotizationData(Object(o.a)(Object(o.a)({},e.cotizationData),{},Object(l.a)({},a.target.name,a.target.value)))},J=function(e){D(Object(O.b)(e.target.value))},U=function(){var a=Object(c.a)(r.a.mark((function a(){var t,n,c,l,o=arguments;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],!(n=t||k)){a.next=34;break}if(y.b.info("Buscando Receptor, espere por favor"),L(!0),"guide"!==e.isType){a.next=20;break}return a.prev=6,a.next=9,C.a.get(j.b+"search_receptor_guide/"+e.cotizationData.facturaId+"/"+n);case 9:(c=a.sent).data.error||(e.setCotizationData((function(e){return Object.assign({},e,{rut_client:c.data.receptor.rut+"-"+c.data.receptor.dv,business_name_client:c.data.receptor.razon_social,address_client_array:c.data.receptor.direcciones[0],address_client:c.data.receptor.direccion_seleccionada,comuna_client:c.data.receptor.comuna_seleccionada,city_client:c.data.receptor.ciudad_seleccionada,spin_client_array:Array.isArray(c.data.girosReceptor)?c.data.girosReceptor:[c.data.girosReceptor],spin_client:Array.isArray(c.data.girosReceptor)?c.data.girosReceptor[0].nombre:c.data.girosReceptor.nombre,type_buy_client_array:Array.isArray(c.data.TipoDeCompra)?c.data.TipoDeCompra:[c.data.TipoDeCompra],type_buy_client:c.data.receptor.tipoDeCompraId.toString()})})),B(!0)),L(!1),a.next=18;break;case 14:a.prev=14,a.t0=a.catch(6),L(!1),a.t0.response?y.b.error(a.t0.response.data.message):(console.log(a.t0),y.b.error("Error, contacte con soporte"));case 18:a.next=32;break;case 20:return a.prev=20,a.next=23,C.a.get(j.b+"search_receptor/"+n.split("-")[0]+"/"+n.split("-")[1]);case 23:(l=a.sent).data&&(e.setCotizationData((function(e){return Object.assign({},e,{rut_client:l.data.rut+"-"+l.data.dv,business_name_client:l.data.razon_social,address_client:l.data.direccion_seleccionada,comuna_client:l.data.comuna_seleccionada,city_client:l.data.ciudad_seleccionada,address_client_array:l.data.direcciones[0]})})),B(!0)),L(!1),a.next=32;break;case 28:a.prev=28,a.t1=a.catch(20),L(!1),a.t1.response?y.b.error(a.t1.response.data.message):(console.log(a.t1),y.b.error("Error, contacte con soporte"));case 32:a.next=35;break;case 34:y.b.info("Debe ingresar un rut para realizar la busqueda");case 35:case"end":return a.stop()}}),a,null,[[6,14],[20,28]])})));return function(){return a.apply(this,arguments)}}(),W=function(){var a=Object(c.a)(r.a.mark((function a(){var t,n,c,l,o,i,s=arguments;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t=s.length>0&&void 0!==s[0]&&s[0],n=t||k,a.prev=2,!n){a.next=28;break}if("facturacion"!==e.isType){a.next=27;break}if(L(!0),y.b.info("Buscando Receptor, espere por favor"),!0!==e.cotizationData.type_invoicing){a.next=19;break}return a.next=10,C.a.get(j.b+"get_client_invoice/"+e.cotizationData.facturaId+"/"+n.split("-")[0]+"/"+n.split("-")[1]);case 10:c=a.sent,console.log(c,"aqui mmgbo"),l=j.a?c.data.girosReceptor:{id:1,nombre:"ACTIVIDADES DE CONSULTORIA DE INFORMATIC"},o=j.a?c.data.TipoDeCompra:{id:1,valor:"1",nombre:"Del Giro"},e.setCotizationData((function(e){return Object.assign({},e,{rut_client:c.data.receptor.rut+"-"+c.data.receptor.dv,business_name_client:c.data.receptor.razon_social,address_client:c.data.receptor.direccion_seleccionada,address_client_array:c.data.receptor.direcciones[0],comuna_client:c.data.receptor.comuna_seleccionada,city_client:c.data.receptor.ciudad_seleccionada,type_buy_client:c.data.receptor.tipoDeCompraId.toString(),type_buy_client_array:Array.isArray(o)?o:[o],spin_client_array:Array.isArray(l)?l:[l],spin_client:Array.isArray(c.data.girosReceptor)?c.data.girosReceptor[0].nombre:c.data.girosReceptor.nombre})})),B(!0),L(!1),a.next=25;break;case 19:return a.next=21,C.a.get(j.b+"get_receptor_invoice_excenta/"+e.cotizationData.facturaId+"/"+n);case 21:i=a.sent,e.setCotizationData((function(e){var a=Object.assign({},e,{rut_client:i.data.receptor.rut+"-"+i.data.receptor.dv,business_name_client:i.data.receptor.razon_social,address_client_array:i.data.receptor.direcciones[0],address_client:i.data.receptor.direccion_seleccionada,comuna_client:i.data.receptor.comuna_seleccionada,city_client:i.data.receptor.ciudad_seleccionada,spin_client:Array.isArray(i.data.girosReceptor)?i.data.girosReceptor[0].nombre:i.data.girosReceptor.nombre,spin_client_array:Array.isArray(i.data.girosReceptor)?i.data.girosReceptor:[i.data.girosReceptor],name_contact:i.data.receptor.contacto,type_buy_client:i.data.receptor.tipoDeCompraId.toString(),type_buy_client_array:Array.isArray(i.data.TipoDeCompra)?i.data.TipoDeCompra:[i.data.TipoDeCompra]});return console.log(a,"aqui el objectreturn"),a})),B(!0),L(!1);case 25:a.next=28;break;case 27:"sale_note"===e.isType&&U(n);case 28:a.next=34;break;case 30:a.prev=30,a.t0=a.catch(2),L(!1),y.b.error("ha ocurrido un error buscando el receptor, intente de nuevo por favor");case 34:case"end":return a.stop()}}),a,null,[[2,30]])})));return function(){return a.apply(this,arguments)}}(),Q=function(a){var t,n=a.split("/")[1];-1!==n.indexOf("-")?(n=n.split("-"),t=e.clients.find((function(e){return e.data_document===n[0]&&e.dv.toString()===n[1]}))):t=e.clients.find((function(e){return e.data_document===n})),e.setCotizationData((function(e){return Object.assign({},e,{rut_client:Array.isArray(n)?n.join("-"):n,business_name_client:t.bussines_name?t.bussines_name:t.name_client,address_client:t.address,city_client:t.city,comuna_client:t.comuna})}))},X=function(){T(!S)},Z=function(){I({}),X(),e.setCotizationData(Object(o.a)(Object(o.a)({},e.cotizationData),{},{rut_client:"",business_name_client:"",address_client:"",city_client:"",comuna_client:"",spin_client:"",actividad_economica_client:""}))};return m.a.createElement(u.a,null,m.a.createElement(d.a.Toggle,{as:u.a.Header,eventKey:"1",className:"header_card"},m.a.createElement("b",null,"Datos para la Emisi\xf3n")," ",m.a.createElement(_.R,null)," (hacer click para desplegar campos)"),m.a.createElement(d.a.Collapse,{eventKey:"1"},K?m.a.createElement(x.a,{size:75,text:"buscando receptor"}):m.a.createElement(m.a.Fragment,null,"cotizacion"===e.isType||"boleta"===e.isType||"guide"===e.isType?m.a.createElement(u.a.Body,null,m.a.createElement(p.a,null,m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement(g.a,{sm:12,md:12,lg:12},m.a.createElement("h5",{className:"title_principal"},"Api a utilizar")),m.a.createElement(g.a,{sm:6,md:6,lg:6},m.a.createElement(b.a.Group,null,m.a.createElement(b.a.Check,{name:"type_api",type:"radio",id:"radio-2",label:"Sii",value:!0,checked:e.cotizationData.type_api,onChange:Y}))),m.a.createElement(g.a,{sm:6,md:6,lg:6},m.a.createElement(b.a.Group,null,m.a.createElement(b.a.Check,{name:"type_api",type:"radio",id:"radio-1",label:"Aidy",value:!1,checked:!e.cotizationData.type_api,onChange:Y}))))),e.cotizationData.type_api?m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement(b.a.Label,{className:"fontBold"},"Rut"),m.a.createElement(b.a.Group,{className:"divContainerFlex"},m.a.createElement(b.a.Control,{style:{flexGrow:2},type:"text",label:"Rut",id:"rut_client_facturacion",name:"rut_client_facturacion_search",required:!1,placeholder:"rut del cliente",cols:"col-md-12 col-lg-12 col-sm-12",className:"form-control-sm",onChange:J,value:k}),m.a.createElement(E.a,{variant:"secondary",size:"sm",onClick:function(){return U()}},m.a.createElement(_.J,null)))):m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement("label",null,"Rut"),m.a.createElement(f.a,{items:e.clients,returnValue:Q,handleResetValueClient:X,resetValue:S}),m.a.createElement("br",null),Object.keys(G).length>0?m.a.createElement(p.a,null,m.a.createElement(g.a,{sm:12,md:12,lg:12,className:"text-center"},m.a.createElement(E.a,(a={size:"sm"},Object(l.a)(a,"size","sm"),Object(l.a)(a,"variant","danger text-center"),Object(l.a)(a,"onClick",Z),a),m.a.createElement(_.P,null)))):""),m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement("br",null),m.a.createElement(E.a,(t={size:"sm"},Object(l.a)(t,"size","sm"),Object(l.a)(t,"variant","danger"),Object(l.a)(t,"block",!0),Object(l.a)(t,"onClick",(function(){return e.setIsShowModalClient(!0)})),t),"Crear Cliente ",m.a.createElement(_.A,null)))),m.a.createElement(p.a,null,m.a.createElement(h.a,{type:"text",label:"Rut",name:"rut_client",readonly:H,required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.rut_client,handleChange:Y}),m.a.createElement(h.a,{type:"text",label:"Raz\xf3n Social",name:"business_name_client",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.business_name_client,handleChange:Y}),e.cotizationData.address_client_array.length>0?m.a.createElement(h.a,{type:"select",label:"Direcci\xf3n",name:"address_client",required:"guide"===e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_client,handleChange:Y},m.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.address_client_array.map((function(e,a){return m.a.createElement("option",{value:e,key:a},e)}))):m.a.createElement(h.a,{type:"text",label:"Direcci\xf3n",name:"address_client",required:"guide"===e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_client,handleChange:Y})),m.a.createElement(p.a,null,m.a.createElement(h.a,{type:"text",label:"Ciudad",name:"city_client",required:"guide"===e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.city_client,handleChange:Y}),m.a.createElement(h.a,{type:"text",label:"Comuna",name:"comuna_client",required:"guide"===e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.comuna_client,handleChange:Y}),"guide"===e.isType?m.a.createElement(m.a.Fragment,null,m.a.createElement(h.a,{type:"text",label:"Contacto",name:"name_contact",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.name_contact,handleChange:Y})):""),"guide"===e.isType?m.a.createElement(p.a,null,e.cotizationData.spin_client_array.length>0?m.a.createElement(h.a,{type:"select",label:"Giro",name:"spin_client",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_client,handleChange:Y},m.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.spin_client_array.map((function(e,a){return m.a.createElement("option",{value:e.nombre,key:a},e.nombre)}))):m.a.createElement(h.a,{type:"text",label:"Giro",name:"spin_client",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_client,handleChange:Y}),e.cotizationData.type_buy_client_array.length>0?m.a.createElement(h.a,{type:"select",label:"Tipo de Compra",name:"type_buy_client",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_buy_client,handleChange:Y},m.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.type_buy_client_array.map((function(e,a){return m.a.createElement("option",{value:e.valor,key:a},e.nombre)}))):m.a.createElement(h.a,{type:"text",label:"Tipo de Compra",name:"type_buy_client",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_buy_client,handleChange:Y})):"","boleta"!==e.isType&&"guide"!==e.isType?m.a.createElement(m.a.Fragment,null,m.a.createElement("br",null),m.a.createElement(p.a,{style:{borderBottom:"1px solid rgb(229, 227, 231)"}},m.a.createElement(g.a,{sm:8,md:8,lg:8},m.a.createElement("h4",{className:"title_principal"},"Contactos Asignados al Receptor")),m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement(E.a,{variant:"secondary",block:!0,size:"sm",type:"button",onClick:e.handleModalContacts},"Contactos ",m.a.createElement(_.T,null)," ",m.a.createElement(_.A,null)))),m.a.createElement(p.a,null,m.a.createElement(h.a,{type:"text",label:"Nombre Contacto",name:"name_contact",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.name_contact,handleChange:Y}),m.a.createElement(h.a,{type:"text",label:"Fono",name:"phone_contact",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.phone_contact,handleChange:Y}),m.a.createElement(h.a,{type:"email",label:"Email",name:"email_contact",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.email_contact,handleChange:Y})),m.a.createElement(p.a,{style:{borderBottom:"1px solid rgb(229, 227, 231)"}},m.a.createElement(g.a,{sm:8,md:8,lg:8},m.a.createElement("h4",{className:"title_principal"},"Vendedor Asignado")),m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement(E.a,{variant:"secondary",block:!0,size:"sm",type:"button",onClick:e.handleModalSeller},"Vendedores ",m.a.createElement(_.T,null)," ",m.a.createElement(_.A,null)))),m.a.createElement("br",null),m.a.createElement(p.a,null,m.a.createElement(h.a,{type:"text",label:"Nombre Vendedor",name:"name_seller",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.name_seller,handleChange:Y}),m.a.createElement(h.a,{type:"text",label:"Fono Vendedor",name:"phone_seller",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.phone_seller,handleChange:Y}),m.a.createElement(h.a,{type:"email",label:"Email Vendedor",name:"email_seller",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.email_seller,handleChange:Y}))):""):"facturacion"===e.isType||"sale_note"===e.isType?m.a.createElement(u.a.Body,null,m.a.createElement(p.a,null,m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement(p.a,null,m.a.createElement(g.a,{sm:12,md:12,lg:12},m.a.createElement("h5",{className:"title_principal"},"Api a utilizar")),m.a.createElement(g.a,{sm:6,md:6,lg:6},m.a.createElement(b.a.Group,null,m.a.createElement(b.a.Check,{name:"type_api",type:"radio",id:"radio-2",label:"Sii",value:!0,checked:e.cotizationData.type_api,onChange:Y}))),m.a.createElement(g.a,{sm:6,md:6,lg:6},m.a.createElement(b.a.Group,null,m.a.createElement(b.a.Check,{name:"type_api",type:"radio",id:"radio-1",label:"Aidy",value:!1,checked:!e.cotizationData.type_api,onChange:Y}))))),e.cotizationData.type_api?m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement(b.a.Label,{className:"fontBold"},"Rut"),m.a.createElement(b.a.Group,{className:"divContainerFlex"},m.a.createElement(b.a.Control,{style:{flexGrow:2},type:"text",label:"Rut",id:"rut_client_facturacion",name:"rut_client_facturacion_search",required:!1,placeholder:"rut del cliente",cols:"col-md-12 col-lg-12 col-sm-12",className:"form-control-sm",onChange:J,value:k}),m.a.createElement(E.a,{variant:"secondary",size:"sm",onClick:function(){return W()}},m.a.createElement(_.J,null)))):m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement("label",null,"Rut"),m.a.createElement(f.a,{items:e.clients,returnValue:Q,handleResetValueClient:X,resetValue:S}),m.a.createElement("br",null),Object.keys(G).length>0?m.a.createElement(p.a,null,m.a.createElement(g.a,{sm:12,md:12,lg:12,className:"text-center"},m.a.createElement(E.a,(n={size:"sm"},Object(l.a)(n,"size","sm"),Object(l.a)(n,"variant","danger text-center"),Object(l.a)(n,"onClick",Z),n),m.a.createElement(_.P,null)))):""),m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement("br",null),m.a.createElement(E.a,(v={size:"sm"},Object(l.a)(v,"size","sm"),Object(l.a)(v,"variant","danger"),Object(l.a)(v,"block",!0),Object(l.a)(v,"onClick",(function(){return e.setIsShowModalClient(!0)})),v),"Crear Cliente ",m.a.createElement(_.A,null)))),m.a.createElement(p.a,null,m.a.createElement(h.a,{type:"text",label:"Rut",name:"rut_client",readonly:H,required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.rut_client,handleChange:Y}),m.a.createElement(h.a,{type:"text",label:"Raz\xf3n Social",name:"business_name_client",required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.business_name_client,handleChange:Y}),e.cotizationData.address_client_array.length>0?m.a.createElement(h.a,{type:"select",label:"Direccion",name:"address_client",required:!e.cotizationData.type_invoicing&&"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_client,handleChange:Y},e.cotizationData.address_client_array.map((function(e,a){return m.a.createElement("option",{value:e,key:a},e)}))):m.a.createElement(h.a,{type:"text",label:"Direccion",name:"address_client",required:!e.cotizationData.type_invoicing&&"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.address_client,handleChange:Y})),m.a.createElement(p.a,null,m.a.createElement(h.a,{type:"text",label:"Ciudad",name:"city_client",required:!e.cotizationData.type_invoicing&&"sale_note"!==e.isType,messageErrors:[],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.city_client,handleChange:Y}),m.a.createElement(h.a,{type:"text",label:"Comuna",name:"comuna_client",required:!e.cotizationData.type_invoicing&&"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.comuna_client,handleChange:Y}),e.cotizationData.spin_client_array.length>0?m.a.createElement(h.a,{type:"select",label:"Giro",name:"spin_client",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_client,handleChange:Y},m.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.spin_client_array.map((function(e,a){return m.a.createElement("option",{value:e.nombre,key:a},e.nombre)}))):m.a.createElement(h.a,{type:"text",label:"Giro",name:"spin_client",required:!e.cotizationData.type_invoicing&&"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.spin_client,handleChange:Y})),m.a.createElement(p.a,null,e.cotizationData.type_buy_client_array.length>0?m.a.createElement(h.a,{type:"select",label:"Tipo de Compra",name:"type_buy_client",placeholder:e.cotizationData.type_invoicing?"opcional":"",required:!e.cotizationData.type_invoicing||"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_buy_client,handleChange:Y},m.a.createElement("option",{value:""},"--Seleccione--"),e.cotizationData.type_buy_client_array.map((function(e,a){return m.a.createElement("option",{value:e.valor.toString(),key:a},e.nombre)}))):m.a.createElement(h.a,{type:"text",label:"Tipo de Compra",name:"type_buy_client",placeholder:e.cotizationData.type_invoicing?"opcional":"",required:!e.cotizationData.type_invoicing||"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.type_buy_client,handleChange:Y})),m.a.createElement(p.a,{style:{borderBottom:"1px solid rgb(229, 227, 231)"}},m.a.createElement(g.a,{sm:8,md:8,lg:8},m.a.createElement("h4",{className:"title_principal"},"Contactos Asignados al Receptor")),m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement(E.a,{variant:"secondary",block:!0,size:"sm",type:"button",onClick:e.handleModalContacts},"Contactos ",m.a.createElement(_.T,null)," ",m.a.createElement(_.A,null)))),m.a.createElement("br",null),m.a.createElement(p.a,null,m.a.createElement(h.a,{type:"text",label:"Nombre Contacto",name:"name_contact",required:"sale_note"!==e.isType,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.name_contact,handleChange:Y}),m.a.createElement(h.a,{type:"text",label:"Fono",name:"phone_contact",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.phone_contact,handleChange:Y}),m.a.createElement(h.a,{type:"email",label:"Email",name:"email_contact",required:!1,messageErrors:["Requerido*, ","Formato Email*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.email_contact,handleChange:Y})),m.a.createElement(p.a,{style:{borderBottom:"1px solid rgb(229, 227, 231)"}},m.a.createElement(g.a,{sm:8,md:8,lg:8},m.a.createElement("h4",{className:"title_principal"},"Vendedor Asignado")),m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement(E.a,{variant:"secondary",block:!0,size:"sm",type:"button",onClick:e.handleModalSeller},"Vendedores ",m.a.createElement(_.T,null)," ",m.a.createElement(_.A,null)))),m.a.createElement("br",null),m.a.createElement(p.a,null,m.a.createElement(h.a,{type:"text",label:"Nombre Vendedor",name:"name_seller",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.name_seller,handleChange:Y}),m.a.createElement(h.a,{type:"text",label:"Fono Vendedor",name:"phone_seller",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.phone_seller,handleChange:Y}),m.a.createElement(h.a,{type:"email",label:"Email Vendedor",name:"email_seller",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:e.cotizationData.email_seller,handleChange:Y}))):"")))}},632:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(18),l=t(604),o=t(205);a.a=function(e){var a=function(){var a=0;return e.detailProducts.forEach((function(t,n){var r=Object.assign({},t);r.is_neto||e.cotizationData.total_with_iva?(r.price=r.discount?parseFloat(r.price)-parseFloat(r.price)*r.discount/100:r.price,r.price=e.cotizationData.discount_global?parseFloat(r.price)-r.price*e.cotizationData.discount_global/100:r.price):(r.price=r.discount?parseFloat(r.price)-parseFloat(r.price)*r.discount/100:r.price,r.price=e.cotizationData.discount_global?parseFloat(r.price)-r.price*e.cotizationData.discount_global/100:r.price,r.price=parseFloat(r.price*e.configStore.tax/100)+parseFloat(r.price)),a+=parseFloat(r.price)*r.quantity})),a},t=function(){var a=0;return e.detailProducts.forEach((function(t,n){var r=Object.assign({},t);r.is_neto||(e.cotizationData.total_with_iva?(3===r.method_sale&&(r.price=r.quantity*r.price),r.price=r.discount?parseFloat(r.price)-parseFloat(r.price)*r.discount/100:r.price,r.price=e.cotizationData.discount_global?parseFloat(r.price)-r.price*e.cotizationData.discount_global/100:r.price,3===r.method_sale?a+=parseFloat(r.price*e.configStore.tax/100):a+=parseFloat(r.price*e.configStore.tax/100)*r.quantity):a+=0)})),a},i=function(){var a=0;return e.gastosDetail.forEach((function(e,t){a+=parseFloat(e.amount)})),a},s=Object(n.useCallback)((function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=a(),c=i(),l=0;return e.cotizationData.total_with_iva&&(l=t()),n?parseFloat(r)+parseFloat(l):parseFloat(r)+parseFloat(l)-parseFloat(c)}),[e.detailProducts,e.gastosDetail,e.cotizationData.discount_global]),m=Object(n.useCallback)((function(){var a=0;return e.detailProducts.forEach((function(t,n){var r=Object.assign({},t),c=0;r.is_neto?(r.price=r.discount?parseFloat(r.price)-parseFloat(r.price)*r.discount/100:r.price,c=e.cotizationData.discount_global?r.price*e.cotizationData.discount_global/100:0):(e.cotizationData.total_with_iva,r.price=r.discount?parseFloat(r.price)-parseFloat(r.price)*r.discount/100:r.price,c=e.cotizationData.discount_global?r.price*e.cotizationData.discount_global/100:0),a+=c*r.quantity})),a}),[e.cotizationData.discount_global]);return r.a.createElement(l.a,null,"cotizacion"===e.isType?r.a.createElement(o.a,{sm:12,md:12,lg:12},r.a.createElement("h4",{className:"text-center title_principal"},"Resumen y Totales"),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,e.cotizationData.total_with_iva?r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Total Neto"),r.a.createElement("th",{className:"text-center"},"Iva"),r.a.createElement("th",{className:"text-center"},"Gastos"),r.a.createElement("th",{className:"text-center"},"Balance Total")):r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Total"),r.a.createElement("th",{className:"text-center"},"Gastos"),r.a.createElement("th",{className:"text-center"},"Balance Total"))),r.a.createElement("tbody",{className:"text-center"},e.cotizationData.total_with_iva?r.a.createElement("tr",null,r.a.createElement("td",null,Object(c.g)(e.configGeneral,a())),r.a.createElement("td",null,Object(c.g)(e.configGeneral,t())),r.a.createElement("td",null,Object(c.g)(e.configGeneral,i())),r.a.createElement("td",null,Object(c.g)(e.configGeneral,s()))):r.a.createElement("tr",null,r.a.createElement("td",null,Object(c.g)(e.configGeneral,a())),r.a.createElement("td",null,Object(c.g)(e.configGeneral,i())),r.a.createElement("td",null,Object(c.g)(e.configGeneral,s())))))):r.a.createElement(o.a,{sm:12,md:12,lg:12},r.a.createElement("h3",{className:"text-center title_principal"},"Resumen y Totales"),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,e.cotizationData.total_with_iva?r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Neto(Productos)"),r.a.createElement("th",{className:"text-center"},"Iva"),r.a.createElement("th",{className:"text-center"},"Gastos"),r.a.createElement("th",{className:"text-center"},"Descuento Global"),r.a.createElement("th",{className:"text-center"},"Balance Total")):r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"Neto(Productos)"),r.a.createElement("th",{className:"text-center"},"Gastos"),r.a.createElement("th",{className:"text-center"},"Descuento Global"),r.a.createElement("th",{className:"text-center"},"Balance Total"))),r.a.createElement("tbody",{className:"text-center"},e.cotizationData.total_with_iva?r.a.createElement("tr",null,r.a.createElement("td",null,Object(c.g)(e.configGeneral,a())),r.a.createElement("td",null,Object(c.g)(e.configGeneral,t())),r.a.createElement("td",null,Object(c.g)(e.configGeneral,i())),r.a.createElement("td",null,Object(c.g)(e.configGeneral,m())),r.a.createElement("td",null,Object(c.g)(e.configGeneral,s()))):r.a.createElement("tr",null,r.a.createElement("td",null,Object(c.g)(e.configGeneral,a())),r.a.createElement("td",null,Object(c.g)(e.configGeneral,i())),r.a.createElement("td",null,Object(c.g)(e.configGeneral,m())),r.a.createElement("td",null,Object(c.g)(e.configGeneral,s())))))))}},633:function(e,a,t){"use strict";var n=t(51),r=t(1),c=t.n(r),l=t(18),o=t(660),i=t(658),s=t(604),m=t(205),u=t(305),d=t(618),p=t(32),g=t(620),b=t(619);a.a=function(e){return c.a.createElement(o.a,null,c.a.createElement(i.a,null,c.a.createElement(o.a.Toggle,{as:i.a.Header,eventKey:"4",className:"header_card"},c.a.createElement("b",null,"Gastos")," ",c.a.createElement(p.v,null)," ( hacer click para desplegar campos )"),c.a.createElement(o.a.Collapse,{eventKey:"4"},c.a.createElement(i.a.Body,null,c.a.createElement(s.a,{className:""},c.a.createElement(m.a,{sm:12,md:12,lg:12,xs:12},c.a.createElement("h4",{className:"title_principal text-center"},"Tabla de Gastos"))),c.a.createElement(s.a,null,c.a.createElement(m.a,{sm:12,md:12,lg:12},c.a.createElement(d.a,{data:e.gastosDetail,columns:[{Header:"Descripci\xf3n",accessor:"description"},{Header:"Monto",accessor:"amount",Cell:function(a){return Object(l.g)(e.configGeneral,a.cell.row.original.amount)}},{Header:"Acciones",Cell:function(a){var t;a.cell.row.original.id;return c.a.createElement(u.a,(t={size:"sm"},Object(n.a)(t,"size","sm"),Object(n.a)(t,"variant","primary"),Object(n.a)(t,"block",!0),Object(n.a)(t,"onClick",(function(){return t=a.cell.row.original,void e.setGastosDetail((function(e){return e.filter((function(e){return e.description!==t.description}))}));var t})),t),"Remover")}}]}))),c.a.createElement(s.a,{className:"justify-content-center"},c.a.createElement(m.a,{sm:1,md:1,lg:1},c.a.createElement(g.a,{placement:"top",overlay:c.a.createElement(b.a,{id:"tooltip-disabled2"},"Agregar Gastos a la Cotizaci\xf3n")},c.a.createElement(u.a,{className:"button_product_base",size:"sm",variant:"danger",block:!0,onClick:function(){return e.setIsShowModalGastos(!0)}},c.a.createElement(p.A,null)))))))))}},634:function(e,a,t){"use strict";var n=t(94),r=t(16),c=t(1),l=t.n(c),o=t(604),i=t(205),s=t(50),m=t(620),u=t(619),d=t(648),p=t(605),g=t(51),b=t(126),E=t(18),_=t(82),h=t(127),f=t(32),y=t(305);function v(){var e=Object(b.a)(["\n  .tr_cabecera{\n    background-color: rgb(218,236,242);\n    font-size: 14px;\n\n  }\n\n  .letras_grandes{\n    font-size: 14px;\n  }\n\n  .div_overflow{\n    max-height: 1700px;\n    overflow-y: auto;\n  }\n"]);return v=function(){return e},e}var C=h.a.div(v()),O=function(e){var a=function(a,t){a.persist(),e.setDetailProducts((function(e){var r=Object(n.a)(e);return r[t][a.target.name]=a.target.value,r}))},t=function(a){var t=Object.assign({},a);e.configStore;return t.is_neto||e.isShowIva?t.price=t.discount?parseFloat(t.price)-parseFloat(t.price)*t.discount/100:t.price:(t.price=t.discount?parseFloat(t.price)-parseFloat(t.price)*t.discount/100:t.price,t.price=parseFloat(t.price*e.configStore.tax/100)+parseFloat(t.price)),Object(E.a)(parseFloat(t.price)*t.quantity,2,",",".")};return l.a.createElement(C,null,l.a.createElement(o.a,{className:""},l.a.createElement(i.a,{sm:12,md:12,lg:12,className:"table_responsive"},l.a.createElement("table",{className:"table table-bordered"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"text-center tr_cabecera"},"#"),l.a.createElement("th",{className:"text-center tr_cabecera"},"Categor\xeda"),l.a.createElement("th",{className:"text-center tr_cabecera"},"Nombre"),l.a.createElement("th",{className:"text-center tr_cabecera"},"Descripci\xf3n"),l.a.createElement("th",{className:"text-center tr_cabecera"},"Cantidad"),l.a.createElement("th",{className:"text-center tr_cabecera"},"Precio"),l.a.createElement("th",{className:"text-center tr_cabecera"},"Descuento %"),l.a.createElement("th",{className:"text-center tr_cabecera"},"Metodo de Venta"),l.a.createElement("th",{className:"text-center tr_cabecera"},"Total Neto"),l.a.createElement("th",{className:"text-center tr_cabecera"}))),l.a.createElement("tbody",null,e.detailProducts.map((function(r,c){var i;return l.a.createElement("tr",{key:c},l.a.createElement("td",{width:"5%"},l.a.createElement("br",null),c+1),l.a.createElement("td",null,l.a.createElement(o.a,null,l.a.createElement(_.a,{className:"letras_grandes",type:"text",label:"",id:"category_product"+c,name:"category",required:!1,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailProducts[c].category,handleChange:function(e){a(e,c)}}))),l.a.createElement("td",{width:"15%"},l.a.createElement(o.a,null,l.a.createElement(_.a,(i={className:"letras_grandes",type:"text",label:"",id:"name_product"+c,name:"name_product",required:!0,messageErrors:["Requerido*"]},Object(g.a)(i,"className","text-center"),Object(g.a)(i,"cols","col-md-12 col-lg-12 col-sm-12"),Object(g.a)(i,"value",e.detailProducts[c].name_product.substring(0,26)),Object(g.a)(i,"rows",3),Object(g.a)(i,"handleChange",(function(e){a(e,c)})),i)))),l.a.createElement("td",null,l.a.createElement(o.a,null,l.a.createElement(_.a,{className:"letras_grandes",type:"text",label:"",id:"description_product"+c,name:"description",required:!1,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailProducts[c].description.substring(0,250),handleChange:function(e){a(e,c)}}))),l.a.createElement("td",null,l.a.createElement(o.a,null,l.a.createElement(_.a,{className:"letras_grandes",type:"number",label:"",id:"quantity_product"+c,name:"quantity",required:!0,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailProducts[c].quantity,handleChange:function(e){a(e,c)}}))),l.a.createElement("td",null,l.a.createElement(o.a,null,l.a.createElement(_.a,{className:"letras_grandes",type:"text",label:"",id:"price_product"+c,name:"price",required:!0,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailProducts[c].price,handleChange:function(e){a(e,c)}}))),l.a.createElement("td",null,l.a.createElement(o.a,null,l.a.createElement(_.a,{className:"letras_grandes",type:"number",label:"",id:"discount_product"+c,name:"discount",required:!1,messageErrors:["*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailProducts[c].discount,handleChange:function(e){a(e,c)}}))),l.a.createElement("td",null,l.a.createElement(o.a,null,l.a.createElement(_.a,{className:"letras_grandes",type:"select",label:"",id:"method_product"+c,name:"method_sale",required:!0,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.detailProducts[c].method_sale,handleChange:function(e){a(e,c)}},l.a.createElement("option",{value:""},"--Seleccione--"),l.a.createElement("option",{value:1},"Unidad"),l.a.createElement("option",{value:2},"Mayorista"),l.a.createElement("option",{value:3},"(Kilos, Litros, Gramos, Etc...)")))),l.a.createElement("td",null,l.a.createElement(o.a,null,l.a.createElement(_.a,{className:"letras_grandes",type:"text",label:"",id:"total_product"+c,name:"total",required:!1,readonly:!0,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",value:t(r),handleChange:function(){}}))),l.a.createElement("td",null,l.a.createElement("br",null),l.a.createElement(y.a,{variant:"danger",size:"sm",type:"button",onClick:function(){!function(a){var t=Object(n.a)(e.detailProducts);e.setGastosDetail((function(e){return e.filter((function(e){return e.id_product!==t[a].id_product}))})),t.splice(a,1),e.setDetailProducts(t)}(c)}},l.a.createElement(f.O,null))))})))))))};O.defaultProps={configStore:JSON.parse(localStorage.getItem("configStore"))};var j=O,x=t(642),z=t(9),q=t.n(z),k=t(10),D=t(8),N=t(83);a.a=function(e){var a=Object(c.useState)(!1),t=Object(r.a)(a,2),g=t[0],b=t[1],E=Object(c.useState)(!1),h=Object(r.a)(E,2),y=h[0],v=h[1];Object(c.useEffect)((function(){document.querySelector(".button_product > button").className=document.querySelector(".button_product > button").className.replace("dropdown-toggle","")}),[]);return l.a.createElement(o.a,{className:""},l.a.createElement(i.a,{sm:12,md:12,lg:12},l.a.createElement(o.a,{className:""},l.a.createElement(i.a,{sm:12,md:12,lg:12,xs:12},l.a.createElement("h4",{className:"title_principal text-center"},"Tabla de Productos"))),l.a.createElement("br",null),l.a.createElement(o.a,null,l.a.createElement(i.a,{sm:6,md:6,lg:6},l.a.createElement(o.a,null,l.a.createElement(i.a,{sm:12,md:12,lg:12,className:"text-center"},l.a.createElement("b",null,"Configuraci\xf3n para los productos"))),l.a.createElement(o.a,{className:"justify-content-center"},l.a.createElement(i.a,{sm:4,md:4,lg:4},l.a.createElement(s.a.Group,null,l.a.createElement(s.a.Check,{name:"total_with_iva",type:"radio",id:"radio-3",label:"Con Iva",value:!0,checked:e.cotizationData.total_with_iva,onChange:e.onChange})))),l.a.createElement(o.a,{className:"justify-content-center"},l.a.createElement(i.a,{sm:4,md:4,lg:4},l.a.createElement(s.a.Group,null,l.a.createElement(s.a.Check,{name:"total_with_iva",type:"radio",id:"radio-4",label:"Solo totales",value:!1,checked:!e.cotizationData.total_with_iva,onChange:e.onChange}))))),l.a.createElement(i.a,{sm:6,md:6,lg:6},l.a.createElement(o.a,null,l.a.createElement(_.a,{type:"select",label:"Listado de Productos",name:"price_list",required:!1,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",handleChange:function(a){a.persist(),v(!0),q.a.get(k.b+"productByListProduct/"+a.target.value).then((function(a){e.setProducts(a.data),v(!1)})).catch((function(e){v(!1),e.response?D.b.error(e.response.data.message):(console.log(e),D.b.error("Error, contacte con soporte"))}))}},l.a.createElement("option",{value:""},"--Seleccione--"),e.listData.map((function(e,a){return l.a.createElement("option",{key:a,value:e.id},e.name)})))))),y?l.a.createElement(N.a,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(j,{setDetailProducts:e.setDetailProducts,detailProducts:e.detailProducts,isShowIva:e.cotizationData.total_with_iva,setGastosDetail:e.setGastosDetail}),l.a.createElement(o.a,{className:"justify-content-center"},l.a.createElement(i.a,{sm:1,md:1,lg:1},l.a.createElement(m.a,{placement:"right",overlay:l.a.createElement(u.a,{id:"tooltip-disabled2"},"Agregar Producto a la Cotizaci\xf3n")},l.a.createElement(d.a,{size:"sm",variant:"danger",id:"dropdown_product",title:l.a.createElement(f.A,null),className:"button_product"},l.a.createElement(p.a.Item,{onClick:function(){return b(!0)}},"Agregar Producto desde Inventario"),l.a.createElement(p.a.Item,{onClick:function(){return a=!1,void e.setDetailProducts([].concat(Object(n.a)(e.detailProducts),[{category:"",name_product:"",description:"",quantity:"",price:"",discount:"",method_sale:"1",total:"",is_neto:a,discount_stock:!1}]));var a}},"Agregar producto"))))))),l.a.createElement(i.a,{sm:12,md:12,lg:12},l.a.createElement(x.a,Object.assign({isShow:g,onHide:function(){b(!1)},products:e.products,handleSelectProduct:function(a){a.quantity||(a.quantity=1),a.category||(a.category="",Array.isArray(a.categories)&&a.categories.forEach((function(e,t){a.category+=e.name_category}))),a.discount_stock=!0,a.id_product=a.id,a.inventary&&Array.isArray(a.inventary)&&a.inventary[0].inventary_cost.length?(e.setGastosDetail((function(e){return[].concat(Object(n.a)(e),[{description:a.name_product,amount:a.inventary[0].inventary_cost[0].cost,id_product:a.id}])})),e.setDetailProducts([].concat(Object(n.a)(e.detailProducts),[a]))):e.setDetailProducts([].concat(Object(n.a)(e.detailProducts),[a])),b(!1)},handleSelectProductNotRegistered:function(){}},e))))}},635:function(e,a,t){"use strict";var n=t(17),r=t.n(n),c=t(34),l=t(51),o=t(20),i=t(16),s=t(1),m=t.n(s),u=t(616),d=t(50),p=t(604),g=t(205),b=t(305),E=t(32),_=t(10),h=(t(311),t(9)),f=t.n(h),y=t(8),v=t(82),C=t(18),O=t(83),j=function(e){var a=Object(s.useState)(!1),t=Object(i.a)(a,2),n=t[0],h=t[1],j=Object(s.useState)(!1),x=Object(i.a)(j,2),z=x[0],q=x[1],k=Object(s.useState)({name_client:"",email:"",type_document:"Rut",data_document:"",phone:"",address:"",observation:"",picture:"",city:"",bussines_name:"",comunda:"",spin:"",actividad_economica:""}),D=Object(i.a)(k,2),N=D[0],R=D[1],S=Object(s.useRef)(null);Object(s.useEffect)((function(){if(e.dataModify){var a=Object.assign({},e.dataModify);R({name_client:a.name_client,email:a.email,type_document:a.type_document,data_document:a.data_document+"-"+a.dv,phone:a.phone,address:a.address,observation:a.observation,picture:a.picture,city:a.city,bussines_name:a.bussines_name,comuna:a.comuna,spin:a.spin,actividad_economica:a.actividad_economica,id:a.id})}}),[e.dataModify]);var T=function(e){if("type_document"===e.target.name){var a,t="Rut"===e.target.value?Object(C.b)(Object.assign({},N).data_document):Object.assign({},N).data_document.replace(/-/g,"");R(Object(o.a)(Object(o.a)({},N),{},(a={},Object(l.a)(a,e.target.name,e.target.value),Object(l.a)(a,"data_document",t),a)))}else"data_document"===e.target.name&&"Rut"===N.type_document?R(Object(o.a)(Object(o.a)({},N),{},Object(l.a)({},e.target.name,Object(C.b)(e.target.value)))):R(Object(o.a)(Object(o.a)({},N),{},Object(l.a)({},e.target.name,e.target.value)))},w=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];R({name_client:"",email:"",type_document:"Rut",data_document:"",phone:"",address:"",observation:"",picture:"",city:"",comuna:"",spin:"",bussines_name:"",actividad_economica:""}),e.onHide(a)},P=function(){var e=Object(c.a)(r.a.mark((function e(){var a,t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N.data_document){e.next=19;break}return q(!0),e.prev=2,a=Object.assign({},N).data_document,t=a.split("-")[1],a=a.split("-")[0],e.next=8,f.a.get(_.b+"search_user_simple/"+a+"/"+t);case 8:n=e.sent,R((function(e){return Object.assign({},e,{city:n.data.receptor.ciudad_seleccionada,comuna:n.data.receptor.comuna_seleccionada,address:n.data.receptor.direccion_seleccionada,bussines_name:n.data.receptor.razon_social,name_client:e.name_client?e.name_client:n.data.receptor.razon_social})})),q(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),q(!1),e.t0.response?y.b.error(e.t0.response.data.message):(console.log(e.t0),y.b.error("Error, contacte con soporte"));case 17:e.next=20;break;case 19:y.b.info("Introduzca un rut para buscar los datos del cliente");case 20:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(u.a,{show:e.isShow,onHide:w,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},m.a.createElement(u.a.Header,{closeButton:!0,className:"header_dark"},m.a.createElement(u.a.Title,{id:"contained-modal-title-vcenter"},"Formulario de Clientes ",m.a.createElement(E.S,null))),m.a.createElement(d.a,{onSubmit:function(){},noValidate:!0,validated:n,ref:S},z?m.a.createElement(u.a.Body,null,m.a.createElement(O.a,null)):m.a.createElement(u.a.Body,null,m.a.createElement(p.a,null,m.a.createElement(g.a,{sm:12,md:12,lg:12,xs:12},m.a.createElement(p.a,null,m.a.createElement(v.a,Object.assign({},e.inputTypeDocument,{handleChange:T,value:N.type_document}),m.a.createElement("option",{value:""},"--Seleccione--"),m.a.createElement("option",{value:"Rut"},"Rut"),m.a.createElement("option",{value:"Id"},"Id"),m.a.createElement("option",{value:"Nro pasaporte"},"N\xb0 pasaporte")),m.a.createElement(v.a,Object.assign({},e.inputDataDocument,{handleChange:T,value:N.data_document})),"Rut"===N.type_document?m.a.createElement(g.a,{sm:4,md:4,lg:4},m.a.createElement("br",null),m.a.createElement(b.a,{block:!0,variant:"secondary",type:"button",size:"sm",onClick:P},"Buscar cliente ",m.a.createElement(E.J,null))):""),m.a.createElement(p.a,null,m.a.createElement(v.a,Object.assign({},e.inputName,{handleChange:T,value:N.name_client})),m.a.createElement(v.a,{type:"text",required:!1,cols:"col-md-4 col-sm-4 col-lg-4 col-xs-6",handleChange:T,value:N.bussines_name,name:"bussines_name",label:"Razon Social",placeholder:"opcional",messageErrors:[]})),m.a.createElement(p.a,null,m.a.createElement(v.a,Object.assign({},e.inputEmail,{handleChange:T,placeholder:"opcional",value:N.email})),m.a.createElement(v.a,Object.assign({},e.inputPhone,{handleChange:T,placeholder:"opcional",value:N.phone})),m.a.createElement(v.a,Object.assign({},e.inputAddress,{placeholder:"opcional",handleChange:T,value:N.address}))),m.a.createElement(p.a,null,m.a.createElement(v.a,{type:"text",label:"Ciudad",name:"city",required:!1,placeholder:"opcional",messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:N.city,handleChange:T}),m.a.createElement(v.a,{type:"text",label:"Comuna",name:"comuna",required:!1,placeholder:"opcional",messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:N.comuna,handleChange:T}),m.a.createElement(v.a,{type:"text",label:"Giro",name:"spin",required:!1,placeholder:"opcional",messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:N.spin,handleChange:T})),m.a.createElement(p.a,null,m.a.createElement(v.a,Object.assign({},e.inputObservation,{handleChange:T,placeholder:"opcional",value:N.observation})),m.a.createElement(v.a,{type:"text",label:"Actividad Econ\xf3mica",placeholder:"opcional",name:"actividad_economica",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:N.actividad_economica,handleChange:T}))))),m.a.createElement(u.a.Footer,null,m.a.createElement(b.a,{size:"md",variant:"danger",type:"button",onClick:function(){if(!1!==S.current.checkValidity()){var a=Object.assign({},N);q(!0),e.dataModify?f.a.put(_.b+"client/"+a.id,a).then((function(e){y.b.success("Cliente Modificado"),w(),q(!1)})).catch((function(e){q(!1),e.response?y.b.error(e.response.data.message):y.b.error("Error, contacte con soporte")})):f.a.post(_.b+"client",N).then((function(e){y.b.success("Cliente Registrado"),w(!0),q(!1)})).catch((function(e){q(!1),e.response?y.b.error(e.response.data.message):y.b.error("Error, contacte con soporte")}))}else h(!0)}},"Guardar"),m.a.createElement(b.a,{size:"md",variant:"secondary",onClick:w},"Cerrar"))))};j.defaultProps={inputName:{type:"text",required:!0,name:"name_client",label:"Nombre Cliente",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*"]},inputEmail:{type:"email",required:!1,name:"email",label:"Email",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*, ","Formato Tipo Email*"]},inputPhone:{type:"number",required:!1,name:"phone",label:"Tel\xe9fono",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:[]},inputAddress:{type:"text",required:!1,name:"address",label:"Direcci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:[]},inputTypeDocument:{type:"select",required:!1,name:"type_document",label:"Tipo de Documento",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*"]},inputDataDocument:{type:"text",required:!1,name:"data_document",label:"Informaci\xf3n Identidad",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",placeholder:"Introduzca su rut, id o su n\xb0 de pasaporte",messageErrors:["Requerido*"]},inputObservation:{type:"textarea",required:!1,name:"observation",label:"Observaci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",rows:2,messageErrors:[]}},a.a=j},636:function(e,a,t){},637:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(658),l=t(660),o=t(604),i=t(205),s=t(305),m=t(620),u=t(619),d=t(32),p=t(82);a.a=function(e){return r.a.createElement(r.a.Fragment,null,e.isNotAccordeon?r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{sm:12,md:12,lg:12,className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center tr_cabecera"},"#"),r.a.createElement("th",{className:"text-center tr_cabecera"},"Tipo Documento"),r.a.createElement("th",{className:"text-center tr_cabecera"},"Ind"),r.a.createElement("th",{className:"text-center tr_cabecera"},"Folio"),r.a.createElement("th",{className:"text-center tr_cabecera"},"Fecha Ref"),r.a.createElement("th",{className:"text-center tr_cabecera"},"Raz\xf3n Ref"),r.a.createElement("th",{className:"text-center tr_cabecera"},"Tipo de C\xf3digo"),r.a.createElement("th",{className:"text-center tr_cabecera"}))),r.a.createElement("tbody",null,e.refCotizacion.map((function(a,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("br",null),t+1),r.a.createElement("td",null,r.a.createElement(o.a,null,r.a.createElement(p.a,{className:"letras_grandes",type:"select",label:"",id:"type_document_ref"+t,name:"type_document",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].type_document,handleChange:function(a){e.onChangeTableRef(a,t)}},r.a.createElement("option",{value:""},"--Seleccione--"),r.a.createElement("option",{value:"Hoja Entrada de Servicio"},"Hoja Entrada de Servicio")))),r.a.createElement("td",null,r.a.createElement(o.a,null,r.a.createElement(p.a,{className:"letras_grandes",type:"text",label:"",id:"ind_ref"+t,name:"ind",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].ind,handleChange:function(a){e.onChangeTableRef(a,t)}}))),r.a.createElement("td",null,r.a.createElement(o.a,null,r.a.createElement(p.a,{className:"letras_grandes",type:"text",label:"",id:"ref_cotizacion_ref"+t,name:"ref_cotizacion",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].ref_cotizacion,handleChange:function(a){e.onChangeTableRef(a,t)}}))),r.a.createElement("td",null,r.a.createElement(o.a,null,r.a.createElement(p.a,{className:"letras_grandes",type:"date",label:"",id:"date_ref_ref"+t,name:"date_ref",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].date_ref,handleChange:function(a){e.onChangeTableRef(a,t)}}))),r.a.createElement("td",null,r.a.createElement(o.a,null,r.a.createElement(p.a,{className:"letras_grandes",type:"text",label:"",id:"reason_ref_ref"+t,name:"reason_ref",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].reason_ref,handleChange:function(a){e.onChangeTableRef(a,t)}}))),r.a.createElement("td",null,r.a.createElement(o.a,null,r.a.createElement(p.a,{className:"letras_grandes",type:"text",label:"",id:"type_code_ref"+t,name:"type_code",required:!1,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].type_code,handleChange:function(a){e.onChangeTableRef(a,t)}}))),r.a.createElement("td",null,r.a.createElement("br",null),r.a.createElement(s.a,{variant:"danger",size:"sm",type:"button",onClick:function(){e.removeProductRef(t)}},r.a.createElement(d.O,null))))})))))),r.a.createElement(o.a,{className:"justify-content-center"},r.a.createElement(i.a,{sm:1,md:1,lg:1},r.a.createElement(m.a,{placement:"right",overlay:r.a.createElement(u.a,{id:"tooltip-disabled2"},"Agregar Referencia")},r.a.createElement(s.a,{className:"button_product_base",variant:"danger",block:!0,type:"button",onClick:e.addRef},r.a.createElement(d.A,null)))))):r.a.createElement(c.a,null,r.a.createElement(l.a.Toggle,{as:c.a.Header,eventKey:"2",className:"header_card"},r.a.createElement("b",null,"Referencias ")," ",r.a.createElement(d.b,null)," ( hacer click para desplegar los campos )"),r.a.createElement(l.a.Collapse,{eventKey:"2"},r.a.createElement(c.a.Body,null,r.a.createElement(o.a,null,r.a.createElement(i.a,{sm:12,md:12,lg:12,className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center tr_cabecera"},"#"),r.a.createElement("th",{className:"text-center tr_cabecera"},"Tipo Documento"),r.a.createElement("th",{className:"text-center tr_cabecera"},"Ind"),r.a.createElement("th",{className:"text-center tr_cabecera"},"Folio"),r.a.createElement("th",{className:"text-center tr_cabecera"},"Fecha Ref"),r.a.createElement("th",{className:"text-center tr_cabecera"},"Raz\xf3n Ref"),r.a.createElement("th",{className:"text-center tr_cabecera"},"Tipo de C\xf3digo"),r.a.createElement("th",{className:"text-center tr_cabecera"}))),r.a.createElement("tbody",null,e.refCotizacion.map((function(a,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("br",null),t+1),r.a.createElement("td",null,r.a.createElement(o.a,null,r.a.createElement(p.a,{className:"letras_grandes",type:"select",label:"",id:"type_document_ref"+t,name:"type_document",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].type_document,handleChange:function(a){e.onChangeTableRef(a,t)}},r.a.createElement("option",{value:""},"--Seleccione--"),r.a.createElement("option",{value:"HES"},"Hoja Entrada de Servicio")))),r.a.createElement("td",null,r.a.createElement(o.a,null,r.a.createElement(p.a,{className:"letras_grandes",type:"text",label:"",id:"ind_ref"+t,name:"ind",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].ind,handleChange:function(a){e.onChangeTableRef(a,t)}}))),r.a.createElement("td",null,r.a.createElement(o.a,null,r.a.createElement(p.a,{className:"letras_grandes",type:"text",label:"",id:"ref_cotizacion_ref"+t,name:"ref_cotizacion",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].ref_cotizacion,handleChange:function(a){e.onChangeTableRef(a,t)}}))),r.a.createElement("td",null,r.a.createElement(o.a,null,r.a.createElement(p.a,{className:"letras_grandes",type:"date",label:"",id:"date_ref_ref"+t,name:"date_ref",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].date_ref,handleChange:function(a){e.onChangeTableRef(a,t)}}))),r.a.createElement("td",null,r.a.createElement(o.a,null,r.a.createElement(p.a,{className:"letras_grandes",type:"text",label:"",id:"reason_ref_ref"+t,name:"reason_ref",required:0===t,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].reason_ref,handleChange:function(a){e.onChangeTableRef(a,t)}}))),r.a.createElement("td",null,r.a.createElement(o.a,null,r.a.createElement(p.a,{className:"letras_grandes",type:"text",label:"",id:"type_code_ref"+t,name:"type_code",required:!1,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",value:e.refCotizacion[t].type_code,handleChange:function(a){e.onChangeTableRef(a,t)}}))),r.a.createElement("td",null,r.a.createElement("br",null),r.a.createElement(s.a,{variant:"danger",size:"sm",type:"button",onClick:function(){e.removeProductRef(t)}},r.a.createElement(d.O,null))))})))))),r.a.createElement(o.a,{className:"justify-content-center"},r.a.createElement(i.a,{sm:1,md:1,lg:1},r.a.createElement(m.a,{placement:"right",overlay:r.a.createElement(u.a,{id:"tooltip-disabled2"},"Agregar Referencia")},r.a.createElement(s.a,{className:"button_product_base",variant:"danger",block:!0,type:"button",onClick:e.addRef},r.a.createElement(d.A,null)))))))))}},638:function(e,a,t){"use strict";var n=t(94),r=t(17),c=t.n(r),l=t(51),o=t(20),i=t(34),s=t(16),m=t(1),u=t.n(m),d=t(9),p=t.n(d),g=(t(629),t(32)),b=t(82),E=t(8),_=t(18),h=t(10),f=t(616),y=t(305),v=(t(311),t(636),t(653)),C=t.n(v),O=function(e){Object(m.useEffect)((function(){return a(),function(){C.a.stop()}}),[]);var a=function(){C.a.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("#camera"),numOfWorkers:navigator.hardwareConcurrency,constraints:{width:300,height:300}},decoder:{readers:["ean_reader"]}},(function(e){e?E.b.error("Error, revise que la c\xe1mara de su dispositivo este conectada"):(console.log("Initialization finished. Ready to start"),C.a.start())}));var a=[];C.a.onDetected((function(n){var r=n.codeResult.code;if(a.push(r),a.length>20){var c=t(a)[0];e.catchCode(c)}}))},t=function(e){var a={};return e.forEach((function(e){a[e]||(a[e]=0),a[e]++})),Object.keys(a).sort((function(e,t){return a[e]<a[t]}))};return u.a.createElement("div",{id:"camera"})},j=function(e){return u.a.createElement(f.a,{show:e.show,onHide:e.onHide,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},u.a.createElement(f.a.Header,{closeButton:!0,className:"header_dark"},u.a.createElement(f.a.Title,{id:"contained-modal-title-vcenter"})),u.a.createElement(f.a.Body,null,u.a.createElement("div",{style:{width:"100%",paddingLeft:"25%"}},u.a.createElement(O,{catchCode:e.catchCode}))),u.a.createElement(f.a.Footer,null,u.a.createElement(y.a,{size:"sm",onClick:e.onHide},"Cerrar")))},x=t(651),z=t(613),q=t(847),k=t(604),D=t(205),N=t(614),R=t(50),S=t(660),T=t(658),w=function(e){var a,r,d=Object(m.useState)({name_product:"",code_ean:"",description:"",is_neto:!1,id_category:[],is_auto_sale:!1,img_product:"",method_sale:1,price:"",qr_image:"",sticker_color:"#9c7901",detailCost:[],pack:"",categoryNames:"",minimun_stock:10,quantity:"",cost:"",cost_details:"",id_product_detail:"",id_provider:[]}),f=Object(s.a)(d,2),v=f[0],C=f[1],O=Object(m.useState)(!1),w=Object(s.a)(O,2),P=w[0],G=(w[1],Object(m.useState)(!1)),I=Object(s.a)(G,2),A=I[0],F=I[1],H=Object(m.useState)([]),B=Object(s.a)(H,2),M=(B[0],B[1]),V=Object(m.useState)([]),K=Object(s.a)(V,2),L=K[0],Y=K[1],J=Object(m.useState)(!1),U=Object(s.a)(J,2),W=U[0],Q=U[1],X=Object(m.useState)(!1),Z=Object(s.a)(X,2),$=Z[0],ee=Z[1],ae=Object(m.useState)(""),te=Object(s.a)(ae,2),ne=te[0],re=te[1],ce=Object(m.useState)({}),le=Object(s.a)(ce,2),oe=le[0],ie=le[1],se=Object(m.useState)(0),me=Object(s.a)(se,2),ue=me[0],de=me[1],pe=Object(m.useState)({}),ge=Object(s.a)(pe,2),be=ge[0],Ee=ge[1],_e=Object(m.useState)(""),he=Object(s.a)(_e,2),fe=he[0],ye=he[1],ve=Object(m.useState)("Guardar"),Ce=Object(s.a)(ve,2),Oe=Ce[0],je=Ce[1],xe=Object(m.useState)(!1),ze=Object(s.a)(xe,2),qe=ze[0],ke=ze[1],De=Object(m.useState)([]),Ne=Object(s.a)(De,2),Re=Ne[0],Se=Ne[1],Te=Object(m.useState)([]),we=Object(s.a)(Te,2),Pe=(we[0],we[1],Object(m.useState)(!1)),Ge=Object(s.a)(Pe,2),Ie=Ge[0],Ae=Ge[1],Fe=Object(m.useState)(u.a.createElement(z.a,{src:t(625),id:"imagen_logo",style:{width:"100px"},roundedCircle:!0})),He=Object(s.a)(Fe,2),Be=He[0],Me=He[1],Ve=Object(m.useState)(!1),Ke=Object(s.a)(Ve,2),Le=Ke[0],Ye=Ke[1],Je=Object(m.useState)([]),Ue=Object(s.a)(Je,2),We=Ue[0],Qe=Ue[1],Xe=Object(m.useRef)(null);Object(m.useEffect)((function(){return $e(),function(){aa()}}),[]),Object(m.useEffect)((function(){ta()}),[oe,be]);var Ze=function(){var e=Object(i.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"method_sale"===a.target.name?("",2==a.target.value?Ae(!0):Ae(!1),C(Object(o.a)(Object(o.a)({},v),{},Object(l.a)({},a.target.name,a.target.value)))):"is_neto"===a.target.name||"is_auto_sale"===a.target.name?(t="true"===a.target.value,C(Object(o.a)(Object(o.a)({},v),{},Object(l.a)({},a.target.name,t)))):C(Object(o.a)(Object(o.a)({},v),{},Object(l.a)({},a.target.name,a.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),$e=function(){var a=[p.a.get(h.b+"category"),p.a.get(h.b+"config_general"),p.a.get(h.b+"provider"),p.a.get(h.b+"product")];e.match.params.id&&(e.isInventary?a.push(p.a.get(h.b+"product/"+atob(e.match.params.id))):a.push(p.a.get(h.b+"product/"+e.match.params.id))),Promise.all(a).then((function(a){a[0].data?Y(a[0].data):E.b.warning("Debe realizar su configuraci\xf3n general"),M(a[1].data),Qe(a[2].data),Se(a[3].data),a.length>4&&e.isInventary&&(C({name_product:a[4].data.name_product,code_ean:a[4].data.code_ean,description:a[4].data.description,is_neto:a[4].data.is_neto,id_category:a[4].data.categories.map((function(e){return{value:e.categories.id,label:e.categories.name_category}})),is_auto_sale:a[4].data.is_auto_sale,img_product:a[4].data.img_product,method_sale:a[4].data.method_sale,price:a[4].data.price,qr_image:a[4].data.qr_image,sticker_color:a[4].data.sticker_color,detailCost:a[4].data.cost_details,pack:a[4].data.pack,id_product_detail:a[4].data.id_product_detail,minimun_stock:a[4].data.inventary[0].minimun_stock}),2==a[4].data.method_sale&&Ae(!0),ee(!0),a[4].data.img_product&&Me(u.a.createElement(z.a,{src:h.b+"images/product/principal/"+a[4].data.img_product,id:"imagen_logo",style:{width:"80px"},thumbnail:!0})),a[4].data.gallery.length>0&&Ee(a[4].data.gallery))})).catch((function(e){e.response?E.b.error(e.response.data.message):(console.log(e),E.b.error("Error,contacte con soporte"))}))},ea=function(){var a=Object(i.a)(c.a.mark((function a(){var t,n,r,l,o,i,s;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!1!==Xe.current.checkValidity()){a.next=5;break}return Q(!0),a.abrupt("return");case 5:if(t=new FormData,n=Object.assign({},v,{detailCost:v.detailCost.concat(P)}),Object.keys(n).forEach((function(e,a){if("img_product"===e)ne&&t.append(e,ne);else if("id_category"===e){var n="";v[e]&&v[e].forEach((function(e,a){t.append("id_category",e.value),n+=e.label+","})),n=n.substring(0,n.length-1),t.append("name_categories",n)}else t.append(e,v[e])})),je("Guardando Datos, Espere por favor..."),ke(!0),!$){a.next=25;break}return r=e.isInventary?atob(e.match.params.id):e.match.params.id,a.next=14,p.a.put(h.b+"product/"+r,t);case 14:return l=a.sent,je("Trabajando en galeria de imag\xe9nes..."),o=new FormData,Object.keys(oe).forEach((function(e,a){o.append("gallery",oe[e])})),Object.keys(be).forEach((function(e,a){o.append("galleryUpdate",be[e].filename)})),a.next=21,p.a.put(h.b+"update_gallery/"+r,o);case 21:E.b.success("Producto Modificado"),setTimeout((function(){e.isInventary?ra():e.handleSubmitProduct(Object.assign({},l.data))}),1500),a.next=48;break;case 25:return a.next=27,p.a.post(h.b+"product",t);case 27:if(i=a.sent,!(Object.keys(oe).length>0)){a.next=42;break}return je("Guardando Galeria de Imagenes..."),s=new FormData,Object.keys(oe).forEach((function(e,a){s.append("gallery",oe[e])})),s.append("id_product",i.data.id),a.next=35,p.a.post(h.b+"product_gallery",s);case 35:E.b.success("Producto Creado"),je("Guardar"),ke(!1),Ae(!1),aa(),a.next=47;break;case 42:E.b.success("Producto Creado"),je("Guardar"),ke(!1),Ae(!1),aa();case 47:setTimeout((function(){e.isInventary?ra():e.handleSubmitProduct(Object.assign({},i.data))}),1500);case 48:a.next=55;break;case 50:a.prev=50,a.t0=a.catch(0),je("Guardar"),ke(!1),a.t0.response?E.b.error(a.t0.response.data.message):(console.log(a.t0),E.b.error("Error, contacte con soporte"));case 55:case"end":return a.stop()}}),a,null,[[0,50]])})));return function(){return a.apply(this,arguments)}}(),aa=function(){C({name_product:"",cost:"",code_ean:"",description:"",is_neto:"",id_category:"",is_auto_sale:"",img_product:"",method_sale:"",price:"",qr_image:"",sticker_color:"#9c7901",detailCost:[],pack:"",categoryNames:"",minimun_stock:0}),re(null),Me(null),ie({}),ye(""),Me(u.a.createElement(z.a,{src:t(625),id:"img_show",style:{width:"80px"},roundedCircle:!0}))},ta=function(){var e=Object(i.a)(c.a.mark((function e(){var a,t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",0,e.next=4,Promise.all(Object.keys(oe).map(function(){var e=Object(i.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oe[t],e.next=3,Object(_.c)(a);case 3:return r=e.sent,e.abrupt("return",u.a.createElement(q.a.Item,{key:n},u.a.createElement("img",{className:"d-block",src:r,alt:"First slide",style:{height:"300px",width:"100%"}}),u.a.createElement(q.a.Caption,null,u.a.createElement(k.a,{className:"justify-content-center"},u.a.createElement(D.a,{sm:5,md:5,lg:5},u.a.createElement(y.a,{size:"sm",variant:"dark",title:"Eliminar",onClick:function(){return na(t,!1)},className:"buttonTrashGallery"},"Eliminar ",u.a.createElement(g.O,null)))))));case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()));case 4:return t=e.sent,e.next=7,Promise.all(Object.keys(be).map(function(){var e=Object(i.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=be[t],e.abrupt("return",u.a.createElement(q.a.Item,{key:n+"-update"},u.a.createElement("img",{className:"d-block",src:h.b+"images/product/gallery/"+a.filename,alt:"First slide",style:{height:"300px",width:"100%"}}),u.a.createElement(q.a.Caption,null,u.a.createElement(k.a,{className:"justify-content-center"},u.a.createElement(D.a,{sm:5,md:5,lg:5},u.a.createElement(y.a,{size:"sm",variant:"dark",title:"Eliminar",onClick:function(){return na(t,!0)},className:"buttonTrashGallery"},"Eliminar ",u.a.createElement(g.O,null)))))));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()));case 7:r=e.sent,ye([].concat(Object(n.a)(t),Object(n.a)(r)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),na=function(e,a){if(a){var t=Object.assign({},be);delete t[e],Ee(t),de(0)}else{var n=Object.assign({},oe);delete n[e],ie(n),de(0)}},ra=function(){e.history.replace("/inventary")},ca=function(){if(!Le){if(!v.name_product||!v.price)return void Q(!0);W&&Q(!1)}Ye(!Le)};return u.a.createElement(N.a,{fluid:!0},u.a.createElement(k.a,null,u.a.createElement(D.a,{sm:12,md:12,lg:12},u.a.createElement("h4",{className:"title_principal"},$?"Modifcar producto en el invetario":"Crear producto en el inventario"))),u.a.createElement(R.a,{onSubmit:function(){},noValidate:!0,validated:W,ref:Xe},Le?u.a.createElement(u.a.Fragment,null,u.a.createElement(k.a,null,u.a.createElement(b.a,{type:"number",label:"Cantidad",name:"quantity",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:v.quantity,handleChange:Ze}),u.a.createElement(b.a,{type:"text",label:"Detalle Costo",name:"detail",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:v.detail,handleChange:Ze}),u.a.createElement(b.a,{type:"number",step:"any",label:"Costo",name:"cost",required:!1,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:v.cost,handleChange:Ze})),u.a.createElement(k.a,null,u.a.createElement(R.a.Group,{className:"col-md-4 col-sm-4 col-lg-4"},u.a.createElement(R.a.Label,{className:"fontBold"},"Proveedores"),u.a.createElement(x.a,{value:v.id_provider,onChange:function(e){C(Object(o.a)(Object(o.a)({},v),{},{id_provider:e}))},isMulti:!0,options:We.map((function(e,a){return{value:e.id,label:e.social_razon}}))}))),u.a.createElement(k.a,{className:"justify-content-center"},u.a.createElement(D.a,{sm:4,md:4,lg:4},u.a.createElement(y.a,{size:"sm",type:"button",onClick:ea,disabled:qe,variant:"danger",block:!0},Oe," ",u.a.createElement(g.A,null)," ")),u.a.createElement(D.a,{sm:4,md:4,lg:4},u.a.createElement(y.a,{size:"sm",type:"button",onClick:ca,variant:"secondary",block:!0},"Atr\xe1s")))):u.a.createElement(k.a,{className:""},u.a.createElement(D.a,{sm:12,md:12,lg:12,xs:12,className:""},u.a.createElement(k.a,{className:"justify-content-center align-items-center"},u.a.createElement(D.a,{sm:4,md:4,lg:4,xs:12},u.a.createElement("br",null),u.a.createElement(y.a,Object(l.a)({size:"sm",onClick:function(){document.getElementById("file_product").click()},variant:"success",block:"true"},"size","sm"),"Escoger Imagen Producto ",u.a.createElement(g.s,null)),u.a.createElement("input",{type:"file",id:"file_product",style:{display:"none"},onChange:function(e){var a=e.target.files[0],t=new FileReader;t.onload=function(e){Me(u.a.createElement(z.a,{src:e.target.result,id:"img_show",style:{width:"80%"},roundedCircle:!0})),re(a)},t.readAsDataURL(a)}})),u.a.createElement(D.a,{sm:4,md:4,lg:4,xs:12,className:"text-center"},Be)),u.a.createElement("br",null),u.a.createElement(k.a,null,u.a.createElement(b.a,Object.assign({},e.inputNameProduct,{handleChange:Ze,value:v.name_product,placeholder:"Nombre del Producto"})),u.a.createElement(b.a,Object.assign({},e.inputPrice,{handleChange:Ze,value:v.price})),u.a.createElement(R.a.Group,{className:e.isInventary?"col-md-4 col-sm-4 col-lg-4":"col-md-3 col-sm-3 col-lg-3"},u.a.createElement(R.a.Label,{className:"fontBold"},"Categor\xedas"),u.a.createElement(x.a,{value:v.id_category,onChange:function(e){C(Object(o.a)(Object(o.a)({},v),{},{id_category:e}))},isMulti:!0,options:L.map((function(e,a){return{value:e.id,label:e.name_category}}))}))),u.a.createElement(k.a,null,u.a.createElement(b.a,Object.assign({},e.inputDescription,{handleChange:Ze,value:v.description}))),u.a.createElement(S.a,null,u.a.createElement(T.a,null,u.a.createElement(S.a.Toggle,{as:T.a.Header,eventKey:"0",className:"header_card"},u.a.createElement("b",null,"Datos de Personalizaci\xf3n")," (hacer click para desplegar campos)"),u.a.createElement(S.a.Collapse,{eventKey:"0"},u.a.createElement(T.a.Body,null,u.a.createElement(k.a,null,u.a.createElement(b.a,Object.assign({},e.inputCodeEan,{handleChange:Ze,value:v.code_ean})),u.a.createElement(D.a,{sm:4,md:4,lg:4},u.a.createElement("br",null),u.a.createElement(y.a,(a={size:"sm",variant:"dark"},Object(l.a)(a,"size","sm"),Object(l.a)(a,"onClick",(function(){document.getElementById("code_ean").removeAttribute("readonly")})),Object(l.a)(a,"block",!0),a),"Escribir EAN")),u.a.createElement(D.a,{sm:4,md:4,lg:4},u.a.createElement("br",null),u.a.createElement(y.a,(r={size:"sm",variant:"dark"},Object(l.a)(r,"size","sm"),Object(l.a)(r,"onClick",(function(){document.getElementById("code_ean").setAttribute("readonly",!0),F(!0)})),Object(l.a)(r,"block",!0),r),"Scannear EAN"))),u.a.createElement("br",null),u.a.createElement(k.a,null,u.a.createElement(b.a,Object.assign({},e.inputSticker,{handleChange:Ze,value:v.sticker_color})),u.a.createElement(b.a,Object.assign({},e.inputMethodSale,{handleChange:Ze,value:v.method_sale}),u.a.createElement("option",{value:""},"--Seleccione--"),u.a.createElement("option",{value:1},"Unidad"),u.a.createElement("option",{value:2},"Mayorista"),u.a.createElement("option",{value:3},"(Kilo, Litros, Metros, Entre Otros...)")),Ie?u.a.createElement(u.a.Fragment,null,u.a.createElement(b.a,Object.assign({},e.inputPack,{handleChange:Ze,value:v.pack})),u.a.createElement(b.a,{label:"producto",type:"select",name:"id_product_detail",required:!0,messageErrors:["requerido"],cols:"col-md-4 col-sm-4 col-xl-4 col-lg-4",value:v.id_product_detail,handleChange:Ze},u.a.createElement("option",{value:""},"--Seleccione--"),Re.map((function(e,a){return u.a.createElement("option",{value:e.id,key:a},e.name_product)})))):"",u.a.createElement(b.a,{type:"number",label:"Stock minimo",name:"minimun_stock",required:!1,messageErrors:[""],cols:"col-md-4 col-lg-4 col-sm-4",value:v.minimun_stock,handleChange:Ze})),u.a.createElement(k.a,{className:"justify-content-center"},u.a.createElement(D.a,{sm:6,md:6,lg:6,xs:12},u.a.createElement(y.a,{size:"sm",variant:"secondary",onClick:function(){document.getElementById("galleryImg").click()},block:"true"},"Imag\xe9nes de Galeria ",u.a.createElement(g.s,null)),u.a.createElement("input",{type:"file",id:"galleryImg",style:{display:"none"},multiple:!0,accept:".jpg, .png, .jpeg",onChange:function(e){ie(Object.assign({},oe,e.target.files))}}))),u.a.createElement("br",null),u.a.createElement(k.a,{className:"justify-content-center"},u.a.createElement(D.a,{sm:8,md:8,lg:8},u.a.createElement(q.a,{activeIndex:ue,onSelect:function(e,a){de(e)}},fe))))))),u.a.createElement("br",null),$?u.a.createElement(k.a,{className:"justify-content-center"},u.a.createElement(D.a,{md:4,sm:4,lg:4},u.a.createElement(y.a,{size:"sm",type:"button",onClick:ea,disabled:qe,variant:"danger",block:!0},Oe," ",u.a.createElement(g.A,null)," ")),e.isInventary?u.a.createElement(D.a,{md:4,sm:4,lg:4},u.a.createElement(y.a,{size:"sm",type:"button",onClick:ra,variant:"secondary",block:!0},"Volver")):""):u.a.createElement(k.a,{className:"justify-content-center"},e.isInventary&&u.a.createElement(D.a,{sm:4,md:4,lg:4},u.a.createElement(y.a,{variant:"danger",size:"sm",onClick:ea,block:!0},"Guardar ",u.a.createElement(g.A,null))),u.a.createElement(D.a,{sm:4,md:4,lg:4},u.a.createElement(y.a,{variant:e.isInventary?"secondary":"danger",size:"sm",onClick:ca,block:!0},"Datos de Inventario")))))),u.a.createElement(j,{show:A,onHide:function(){return F(!1)},catchCode:function(e){F(!1)}}))};w.defaultProps={inputNameProduct:{type:"text",required:!0,name:"name_product",label:"Nombre",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputCodeEan:{type:"text",required:!1,readonly:!0,name:"code_ean",label:"Codigo EAN",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputIsNeto:{type:"select",required:!0,name:"is_neto",label:"Es Neto",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputDescription:{type:"textarea",required:!1,name:"description",label:"Descripci\xf3n (opcional)",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputAutoSale:{type:"select",required:!0,name:"is_auto_sale",label:"Auto Venta",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputMethodSale:{type:"select",required:!0,name:"method_sale",label:"M\xe9todo de Venta",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputPrice:{type:"number",required:!0,name:"price",label:"Precio",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",step:"any",messageErrors:["Requerido*"]},inputSticker:{type:"color",required:!0,name:"sticker_color",label:"color de la Etiqueta",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputCategory:{type:"select",multiple:!0,required:!1,name:"id_category",label:"Categoria",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputPack:{type:"number",required:!1,name:"pack",label:"Pack",placeholder:"Ingrese la cantidad de venta",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",step:"any",messageErrors:["Requerido*"]}};a.a=w},639:function(e,a,t){},640:function(e,a,t){"use strict";var n=t(16),r=t(1),c=t.n(r),l=t(654),o=t.n(l),i=t(32),s=(t(639),t(620)),m=t(619);a.a=function(e){var a=Object(r.useState)(""),t=Object(n.a)(a,2),l=t[0],u=t[1];return Object(r.useEffect)((function(){e.resetValue&&(u(""),e.handleResetValueClient())}),[e.resetValue]),c.a.createElement("div",{style:{width:"100%",position:"relative",zIndex:"1000"}},c.a.createElement(s.a,{placement:"top",overlay:c.a.createElement(m.a,{id:"tooltip-disabled3"},"Buscar Cliente")},c.a.createElement("div",{className:"input-search"},c.a.createElement(i.J,null),c.a.createElement(o.a,{getItemValue:function(e){return e.name_client+"/"+e.data_document+"-"+e.dv},items:e.items,shouldItemRender:function(e,a){return!e.name_client.toLowerCase().indexOf(a.toString().toLowerCase())||!e.data_document.toLowerCase().indexOf(a.toString().toLowerCase())||!e.dv.toString().toLowerCase().indexOf(a.toString().toLowerCase())},renderItem:function(e,a){return c.a.createElement("div",{style:{background:a?"lightgray":"white"},key:e.name_client+"-"+e.data_document},e.name_client+"/"+e.data_document+"-"+e.dv)},value:l,onChange:function(e){return u(e.target.value)},onClick:function(a){u(a),e.returnValue(a)},onSelect:function(a){u(a),e.returnValue(a)}}))))}},642:function(e,a,t){"use strict";var n=t(16),r=t(1),c=t.n(r),l=t(305),o=t(616),i=t(604),s=t(205),m=t(649),u=t(650),d=t(8),p=(t(10),t(618)),g=(t(82),t(638)),b=null;a.a=function(e){var a=Object(r.useState)(!1),t=Object(n.a)(a,2),E=t[0],_=t[1],h=Object(r.useState)(""),f=Object(n.a)(h,2),y=f[0],v=f[1],C=Object(r.useState)(null),O=Object(n.a)(C,2),j=O[0],x=O[1],z=Object(r.useState)(!1),q=Object(n.a)(z,2),k=(q[0],q[1],Object(r.useRef)(""));Object(r.useMemo)((function(){b=[{Header:"Producto",accessor:"name_product"},{Header:"Precio",accessor:"price"},{Header:"Acciones",Cell:function(e){e.cell.row.original.id;return c.a.createElement(l.a,{size:"sm",variant:"primary",block:!0,onClick:function(){return R(e.cell.row.original)}},"Agregar")}}]}),[e.products]);var D=function(){x(null),_(!1),v("")},N=function(){if(y){var a=Object.assign({},j);a.quantity=y;var t="";a.categories.forEach((function(e,a){t+=e.categories.name_category+","})),t=t.substring(0,t.length-1),a.name_categories=t,e.handleSelectProduct(a),D()}else d.b.error("La cantidad no puede estar vacia")},R=function(e){x(Object.assign({},e)),_(!0),setTimeout((function(){k.current&&k.current.focus()}),300)};return c.a.createElement(o.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},c.a.createElement(o.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},c.a.createElement(o.a.Title,{id:"contained-modal-title-vcenter"},"Productos")),c.a.createElement(o.a.Body,null,c.a.createElement(i.a,null,c.a.createElement(s.a,{sm:12,md:12,lg:12,xs:12,className:""},c.a.createElement(m.a,{defaultActiveKey:"inventary",id:"uncontrolled-tab-example"},c.a.createElement(u.a,{eventKey:"inventary",title:"Inventario"},E?c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(i.a,{className:"justify-content-center"},c.a.createElement(s.a,{sm:6,md:6,lg:6},c.a.createElement("label",{className:"form-control-label"},"Cantidad"),c.a.createElement("input",{ref:k,onChange:function(e){e.persist(),v(e.target.value)},className:"form-control",value:y,onKeyUp:function(e){13==e.keyCode&&N()}}))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(i.a,{className:"justify-content-center"},c.a.createElement(s.a,{sm:6,md:6,lg:6},c.a.createElement(l.a,{size:"sm",variant:"primary",block:!0,onClick:N},"Aceptar")))):c.a.createElement(p.a,{data:e.products,columns:b})),c.a.createElement(u.a,{eventKey:"new",title:"Nuevo Producto"},c.a.createElement("br",null),c.a.createElement(i.a,null,c.a.createElement(s.a,{sm:12,md:12,lg:12},c.a.createElement(g.a,Object.assign({},e,{handleSubmitProduct:function(a){e.handleSelectProduct(a)},isInventary:!1}))))))))),c.a.createElement(o.a.Footer,null,c.a.createElement(l.a,{size:"md",variant:"secondary",onClick:function(){D(),e.onHide()}},"Cerrar")))}},643:function(e,a,t){"use strict";var n=t(51),r=t(20),c=t(16),l=t(1),o=t.n(l),i=t(616),s=t(50),m=t(604),u=t(205),d=t(305),p=t(8),g=(t(10),t(618),t(82)),b=function(e){var a=Object(l.useState)({description:"",amount:""}),t=Object(c.a)(a,2),b=t[0],E=t[1],_=Object(l.useState)(!1),h=Object(c.a)(_,2),f=h[0],y=h[1],v=Object(l.useRef)();Object(l.useEffect)((function(){e.isShow&&setTimeout((function(){v.current.focus()}),300)}),[e.isShow]);var C=function(){var a=Object.assign({},b);if(""===a.description||""===a.amount)return p.b.error("Todos los campos son requeridos"),!1;e.handleGastoSubmit(a),E({description:"",amount:""}),v.current.focus(),y(!1),e.onHide()},O=function(e){E(Object(r.a)(Object(r.a)({},b),{},Object(n.a)({},e.target.name,e.target.value)))};return o.a.createElement(i.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},o.a.createElement(i.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},o.a.createElement(i.a.Title,{id:"contained-modal-title-vcenter"},"Gastos de la Cotizaci\xf3n")),o.a.createElement(i.a.Body,null,o.a.createElement(s.a,{onSubmit:C,noValidate:!0,validated:f},o.a.createElement(m.a,null,o.a.createElement(u.a,{sm:6,md:6,lg:6},o.a.createElement("label",{className:"form-control-label"},"Descripci\xf3n"),o.a.createElement("input",Object.assign({className:"form-control"},e.inputDescription,{value:b.description,onChange:O,ref:v})),o.a.createElement(s.a.Control.Feedback,{type:"invalid"},o.a.createElement("span",{className:"error-input"},"'Requerido*'"))),o.a.createElement(g.a,Object.assign({},e.inputAmount,{value:b.amount,handleChange:O}))),o.a.createElement("br",null),o.a.createElement(m.a,{className:"justify-content-center"},o.a.createElement(u.a,{sm:12,md:12,lg:12},o.a.createElement(d.a,{size:"sm",type:"button",variant:"primary",block:!0,onClick:C},"Agregar"))))),o.a.createElement(i.a.Footer,null,o.a.createElement(d.a,{size:"sm",variant:"secondary",onClick:function(){E({description:"",amount:""}),y(!1),e.onHide()}},"Cerrar")))};b.defaultProps={inputDescription:{type:"text",required:!0,name:"description"},inputAmount:{type:"number",required:!0,name:"amount",label:"Monto",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"}},a.a=b},644:function(e,a,t){"use strict";var n=t(51),r=t(20),c=t(16),l=t(1),o=t.n(l),i=t(648),s=t(605),m=t(616),u=t(50),d=t(604),p=t(205),g=t(305),b=t(32),E=t(10),_=(t(311),t(9)),h=t.n(_),f=t(8),y=t(82),v=t(18),C=t(618),O=[],j=function(e){var a=Object(l.useState)(!1),t=Object(c.a)(a,2),_=t[0],j=t[1],x=Object(l.useState)([]),z=Object(c.a)(x,2),q=z[0],k=z[1],D=Object(l.useState)({name:"",email:"",type_document:"",data_document:"",phone:"",address:"",observation:"",picture:"",id:""}),N=Object(c.a)(D,2),R=N[0],S=N[1],T=Object(l.useRef)(null);Object(l.useMemo)((function(){O=[{Header:"Nombre",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Tel\xe9fono",accessor:"phone"},{Header:"Direcci\xf3n",accessor:"address"},{Header:"Id",accessor:function(e){return[e.type_document+" "+e.data_document]}},{Header:"Observaci\xf3n",accessor:"observation"},{Header:"Acciones",Cell:function(a){var t=a.cell.row.original.id;return o.a.createElement(i.a,{size:"sm",id:"drop"+t,title:"Seleccione",block:"true"},e.handleSelectContact?o.a.createElement(s.a.Item,{onClick:function(){return e.handleSelectContact(a.cell.row.original)}},"Seleccionar"):"",o.a.createElement(s.a.Item,{onClick:function(){return I(a.cell.row.original)}},"Modificar"),o.a.createElement(s.a.Item,{onClick:function(){return A(t)}},"Eliminar"))}}]}),[]),Object(l.useEffect)((function(){w()}),[]);var w=function(){h.a.get(E.b+"contact").then((function(e){k(e.data)})).catch((function(e){e.response?f.b.error(e.response.data.message):(console.log(e),f.b.error("Error, contacte con soporte"))}))},P=function(e){e.persist(),"type_document"===e.target.name?"Rut"===e.target.value?S((function(a){return Object.assign({},a,{data_document:Object(v.b)(a.data_document),type_document:e.target.value})})):S((function(a){return Object.assign({},a,{data_document:a.data_document.replace(/-/g,""),type_document:e.target.value})})):"data_document"===e.target.name?S(Object(r.a)(Object(r.a)({},R),{},Object(n.a)({},e.target.name,"Rut"===R.type_document?Object(v.b)(e.target.value):e.target.value))):S(Object(r.a)(Object(r.a)({},R),{},Object(n.a)({},e.target.name,e.target.value)))},G=function(){S({name:"",email:"",type_document:"",data_document:"",phone:"",address:"",observation:"",picture:""})},I=function(e){S({name:e.name,email:e.email,type_document:e.type_document,data_document:e.data_document,phone:e.phone,address:e.address,observation:e.observation,picture:e.picture,id:e.id})},A=function(e){h.a.delete(E.b+"contact/"+e).then((function(e){f.b.success("Contacto Eliminado"),w()})).catch((function(e){e.response?f.b.error(e.response.data.message):(console.log(e),f.b.error("Error, contacte con soporte"))}))};return o.a.createElement(m.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(m.a.Header,{closeButton:!0,className:"header_dark"},o.a.createElement(m.a.Title,{id:"contained-modal-title-vcenter"},"Formulario de Contactos ",o.a.createElement(b.S,null))),o.a.createElement(u.a,{onSubmit:function(){},noValidate:!0,validated:_,ref:T},o.a.createElement(m.a.Body,null,o.a.createElement(d.a,null,o.a.createElement(y.a,Object.assign({},e.inputName,{handleChange:P,value:R.name})),o.a.createElement(y.a,Object.assign({},e.inputEmail,{handleChange:P,value:R.email})),o.a.createElement(y.a,Object.assign({},e.inputTypeDocument,{handleChange:P,value:R.type_document}),o.a.createElement("option",{value:""},"--Seleccione--"),o.a.createElement("option",{value:"Rut"},"Rut"),o.a.createElement("option",{value:"Id"},"Id"),o.a.createElement("option",{value:"Nro pasaporte"},"N\xb0 pasaporte"))),o.a.createElement(d.a,null,o.a.createElement(y.a,Object.assign({},e.inputDataDocument,{handleChange:P,value:R.data_document})),o.a.createElement(y.a,Object.assign({},e.inputPhone,{handleChange:P,value:R.phone})),o.a.createElement(y.a,Object.assign({},e.inputAddress,{handleChange:P,value:R.address}))),o.a.createElement(d.a,null,o.a.createElement(y.a,Object.assign({},e.inputObservation,{handleChange:P,value:R.observation}))),o.a.createElement(d.a,{className:"justify-content-center"},o.a.createElement(p.a,{sm:6,md:6,lg:6},o.a.createElement(g.a,{size:"sm",variant:"success",type:"button",onClick:function(){if(!1!==T.current.checkValidity()){var e=Object.assign({},R);e.id?h.a.put(E.b+"contact/"+e.id,e).then((function(e){f.b.success("Contacto Modificado"),G(),w()})).catch((function(e){e.response?f.b.error(e.response.data.message):f.b.error("Error, contacte con soporte")})):h.a.post(E.b+"contact",e).then((function(e){f.b.success("Contacto Registrado"),G(),w()})).catch((function(e){e.response?f.b.error(e.response.data.message):f.b.error("Error, contacte con soporte")}))}else j(!0)},block:!0},"Guardar ",o.a.createElement(b.A,null)))),o.a.createElement(d.a,null,o.a.createElement(p.a,{sm:12,md:12,lg:12},o.a.createElement(C.a,{columns:O,data:q})))),o.a.createElement(m.a.Footer,null,o.a.createElement(g.a,{size:"md",onClick:e.onHide},"Cerrar"))))};j.defaultProps={inputName:{type:"text",required:!0,name:"name",label:"Nombre",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*"]},inputEmail:{type:"email",required:!1,name:"email",label:"Email",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*, ","Formato Tipo Email*"]},inputPhone:{type:"number",required:!1,name:"phone",label:"Tel\xe9fono",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:[]},inputAddress:{type:"textarea",required:!1,name:"address",label:"Direcci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",rows:2,messageErrors:[]},inputTypeDocument:{type:"select",required:!1,name:"type_document",label:"Tipo de Documento",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*"]},inputDataDocument:{type:"text",required:!1,name:"data_document",label:"Informaci\xf3n Identidad",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",placeholder:"Introduzca su rut, id o su n\xb0 de pasaporte",messageErrors:["Requerido*"]},inputObservation:{type:"textarea",required:!1,name:"observation",label:"Observaci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",rows:2,messageErrors:[]}},a.a=j},645:function(e,a,t){"use strict";var n=t(51),r=t(20),c=t(16),l=t(1),o=t.n(l),i=t(648),s=t(605),m=t(616),u=t(50),d=t(604),p=t(205),g=t(305),b=t(32),E=t(10),_=(t(311),t(9)),h=t.n(_),f=t(8),y=t(82),v=t(618),C=t(18),O=[],j=function(e){var a=Object(l.useState)(!1),t=Object(c.a)(a,2),_=t[0],j=t[1],x=Object(l.useState)([]),z=Object(c.a)(x,2),q=z[0],k=z[1],D=Object(l.useState)({name:"",email:"",type_document:"",data_document:"",phone:"",address:"",observation:"",picture:"",id:""}),N=Object(c.a)(D,2),R=N[0],S=N[1],T=Object(l.useRef)(null);Object(l.useMemo)((function(){O=[{Header:"Nombre",accessor:"name"},{Header:"Email",accessor:"email"},{Header:"Tel\xe9fono",accessor:"phone"},{Header:"Direcci\xf3n",accessor:"address"},{Header:"Id",accessor:function(e){return[e.type_document+" "+e.data_document]}},{Header:"Observaci\xf3n",accessor:"observation"},{Header:"Acciones",Cell:function(a){var t=a.cell.row.original.id;return o.a.createElement(i.a,{size:"sm",id:"drop"+t,title:"Seleccione",block:"true"},e.handleSelectContact?o.a.createElement(s.a.Item,{onClick:function(){return e.handleSelectContact(a.cell.row.original)}},"Seleccionar"):"",o.a.createElement(s.a.Item,{onClick:function(){return I(a.cell.row.original)}},"Modificar"),o.a.createElement(s.a.Item,{onClick:function(){return A(t)}},"Eliminar"))}}]}),[]),Object(l.useEffect)((function(){w()}),[]);var w=function(){h.a.get(E.b+"seller").then((function(e){k(e.data)})).catch((function(e){e.response?f.b.error(e.response.data.message):(console.log(e),f.b.error("Error, contacte con soporte"))}))},P=function(e){e.persist(),"type_document"===e.target.name?"Rut"===e.target.value?S((function(a){return Object.assign({},a,{data_document:Object(C.b)(a.data_document),type_document:e.target.value})})):S((function(a){return Object.assign({},a,{data_document:a.data_document.replace(/-/g,""),type_document:e.target.value})})):"data_document"===e.target.name?S(Object(r.a)(Object(r.a)({},R),{},Object(n.a)({},e.target.name,"Rut"===R.type_document?Object(C.b)(e.target.value):e.target.value))):S(Object(r.a)(Object(r.a)({},R),{},Object(n.a)({},e.target.name,e.target.value)))},G=function(){S({name:"",email:"",type_document:"",data_document:"",phone:"",address:"",observation:"",picture:""})},I=function(e){S({name:e.name,email:e.email,type_document:e.type_document,data_document:e.data_document,phone:e.phone,address:e.address,observation:e.observation,picture:e.picture,id:e.id})},A=function(e){h.a.delete(E.b+"seller/"+e).then((function(e){f.b.success("Vendedor Eliminado"),w()})).catch((function(e){e.response?f.b.error(e.response.data.message):(console.log(e),f.b.error("Error, contacte con soporte"))}))};return o.a.createElement(m.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(m.a.Header,{closeButton:!0,className:"header_dark"},o.a.createElement(m.a.Title,{id:"contained-modal-title-vcenter"},"Formulario de Vendedores ",o.a.createElement(b.S,null))),o.a.createElement(u.a,{onSubmit:function(){},noValidate:!0,validated:_,ref:T},o.a.createElement(m.a.Body,null,o.a.createElement(d.a,null,o.a.createElement(y.a,Object.assign({},e.inputName,{handleChange:P,value:R.name})),o.a.createElement(y.a,Object.assign({},e.inputEmail,{handleChange:P,value:R.email})),o.a.createElement(y.a,Object.assign({},e.inputTypeDocument,{handleChange:P,value:R.type_document}),o.a.createElement("option",{value:""},"--Seleccione--"),o.a.createElement("option",{value:"Rut"},"Rut"),o.a.createElement("option",{value:"Id"},"Id"),o.a.createElement("option",{value:"Nro pasaporte"},"N\xb0 pasaporte"))),o.a.createElement(d.a,null,o.a.createElement(y.a,Object.assign({},e.inputDataDocument,{handleChange:P,value:R.data_document})),o.a.createElement(y.a,Object.assign({},e.inputPhone,{handleChange:P,value:R.phone})),o.a.createElement(y.a,Object.assign({},e.inputAddress,{handleChange:P,value:R.address}))),o.a.createElement(d.a,null,o.a.createElement(y.a,Object.assign({},e.inputObservation,{handleChange:P,value:R.observation}))),o.a.createElement(d.a,{className:"justify-content-center"},o.a.createElement(p.a,{sm:6,md:6,lg:6},o.a.createElement(g.a,{size:"sm",variant:"success",type:"button",onClick:function(){if(!1!==T.current.checkValidity()){var e=Object.assign({},R);e.id?h.a.put(E.b+"seller/"+e.id,e).then((function(e){f.b.success("Vendedor Modificado"),G(),w()})).catch((function(e){e.response?f.b.error(e.response.data.message):f.b.error("Error, contacte con soporte")})):h.a.post(E.b+"seller",e).then((function(e){f.b.success("Vendedor Registrado"),G(),w()})).catch((function(e){e.response?f.b.error(e.response.data.message):f.b.error("Error, contacte con soporte")}))}else j(!0)},block:!0},"Guardar ",o.a.createElement(b.A,null)))),o.a.createElement(d.a,null,o.a.createElement(p.a,{sm:12,md:12,lg:12},o.a.createElement(v.a,{columns:O,data:q})))),o.a.createElement(m.a.Footer,null,o.a.createElement(g.a,{size:"md",onClick:e.onHide},"Cerrar"))))};j.defaultProps={inputName:{type:"text",required:!0,name:"name",label:"Nombre",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*"]},inputEmail:{type:"email",required:!1,name:"email",label:"Email",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*, ","Formato Tipo Email*"]},inputPhone:{type:"number",required:!1,name:"phone",label:"Tel\xe9fono",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:[]},inputAddress:{type:"textarea",required:!1,name:"address",label:"Direcci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",rows:2,messageErrors:[]},inputTypeDocument:{type:"select",required:!1,name:"type_document",label:"Tipo de Documento",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",messageErrors:["Requerido*"]},inputDataDocument:{type:"text",required:!1,name:"data_document",label:"Informaci\xf3n Identidad",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",placeholder:"Introduzca su rut, id o su n\xb0 de pasaporte",messageErrors:["Requerido*"]},inputObservation:{type:"textarea",required:!1,name:"observation",label:"Observaci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-6",rows:2,messageErrors:[]}},a.a=j},647:function(e,a,t){"use strict";var n=t(94),r=t(1),c=t.n(r),l=t(18),o=t(616),i=t(604),s=t(205),m=t(615),u=t(50),d=t(305),p=t(83),g=t(32);a.a=function(e){var a=function(){e.onHide()};return c.a.createElement(o.a,{show:e.isShow,onHide:a,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(o.a.Header,{closeButton:!0,className:"header_dark"},c.a.createElement(o.a.Title,{id:"contained-modal-title-vcenter"},"Productos a Facturar ",c.a.createElement(g.K,null))),c.a.createElement(o.a.Body,null,e.isLoading?c.a.createElement(p.a,{text:"Enviando petici\xf3n..."}):c.a.createElement(i.a,null,c.a.createElement(s.a,{sm:12,md:12,lg:12,className:"table-responsive"},c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",{style:{backgroundColor:"rgb(218,236,242)",fontWeight:"bold"}},c.a.createElement("th",{className:"text-center"},"Categoria"),c.a.createElement("th",{className:"text-center"},"Producto"),c.a.createElement("th",{className:"text-center"},"Precio"),c.a.createElement("th",{className:"text-center"},"M\xe9todo de Venta"),c.a.createElement("th",{className:"text-center"},"Inventariable"),c.a.createElement("th",{className:"text-center"},"Stock Inventario"),c.a.createElement("th",{className:"text-center"},"Cantidad"),c.a.createElement("th",{className:"text-center"},"Descontar"))),c.a.createElement("tbody",{className:"text-center"},e.products.map((function(a,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,a.category),c.a.createElement("td",null,a.name_product),c.a.createElement("td",null,c.a.createElement(m.a,{variant:"danger",className:"font-badge"},Object(l.a)(a.price,2,",","."))),c.a.createElement("td",null,1==(r=a.method_sale)?"Unidad":2==r?"Mayorista":"Litros, Kg, Etc..."),c.a.createElement("td",null,a.id_product?c.a.createElement(m.a,{variant:"primary",className:"font-badge"},"Si"):c.a.createElement(m.a,{variant:"secondary",className:"font-badge"},"No")),c.a.createElement("td",null,a.id_product?a.products?Array.isArray(a.products.inventary)?a.products.inventary[0].stock:a.products.inventary.stock:a.inventary?a.inventary[0].stock:"Sin Stock":"Sin Stock"),c.a.createElement("td",null,a.quantity),c.a.createElement("td",null,a.id_product?c.a.createElement(u.a.Check,{name:"discount_stock",type:"checkbox",id:"radio-5",label:"",value:!0,checked:a.discount_stock,onChange:function(a){return function(a,t){a.persist(),e.setDetailProducts((function(e){var r=Object(n.a)(e);return r[t][a.target.name]=a.target.checked,r}))}(a,t)}}):""));var r}))))))),c.a.createElement(o.a.Footer,null,e.isLoading?"":c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{size:"md",variant:"danger",onClick:function(){e.handleSubmit()}},"Enviar"),c.a.createElement(d.a,{size:"md",variant:"secondary",onClick:a},"cerrar"))))}},649:function(e,a,t){"use strict";var n=t(2),r=t(4),c=t(1),l=t.n(c),o=(t(312),t(70)),i=t(606),s=t(213),m=t(210),u=t(622),d=t(623),p=t(624),g=t(641);function b(e){var a=e.props,t=a.title,n=a.eventKey,r=a.disabled,c=a.tabClassName,o=a.id;return null==t?null:l.a.createElement(m.a,{as:s.a,eventKey:n,disabled:r,id:o,className:c},t)}var E=function(e){var a=Object(o.a)(e,{activeKey:"onSelect"}),t=a.id,c=a.onSelect,s=a.transition,m=a.mountOnEnter,E=a.unmountOnExit,_=a.children,h=a.activeKey,f=void 0===h?function(e){var a;return Object(g.a)(e,(function(e){null==a&&(a=e.props.eventKey)})),a}(_):h,y=Object(r.a)(a,["id","onSelect","transition","mountOnEnter","unmountOnExit","children","activeKey"]);return l.a.createElement(u.a,{id:t,activeKey:f,onSelect:c,transition:s,mountOnEnter:m,unmountOnExit:E},l.a.createElement(i.a,Object(n.a)({},y,{role:"tablist",as:"nav"}),Object(g.b)(_,b)),l.a.createElement(d.a,null,Object(g.b)(_,(function(e){var a=Object(n.a)({},e.props);return delete a.title,delete a.disabled,delete a.tabClassName,l.a.createElement(p.a,a)}))))};E.defaultProps={variant:"tabs",mountOnEnter:!1,unmountOnExit:!1},E.displayName="Tabs",a.a=E},650:function(e,a,t){"use strict";var n=t(19),r=t(1),c=t.n(r),l=t(622),o=t(623),i=t(624),s=function(e){function a(){return e.apply(this,arguments)||this}return Object(n.a)(a,e),a.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},a}(c.a.Component);s.Container=l.a,s.Content=o.a,s.Pane=i.a,a.a=s},691:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(658),l=t(660),o=t(604),i=t(32),s=t(82);a.a=function(e){return r.a.createElement(r.a.Fragment,null,e.isNotAccordeon?r.a.createElement(o.a,null,r.a.createElement(s.a,{type:"text",label:"Rut del Transporte",name:"rut_transfer",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.rut_transfer,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Patente del Transporte",name:"patent_transfer",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.patent_transfer,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Rut del Chofer",name:"rut_driver",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.rut_driver,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Nombre del Chofer",name:"name_driver",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.name_driver,handleChange:e.onChange})):r.a.createElement(c.a,null,r.a.createElement(l.a.Toggle,{as:c.a.Header,eventKey:"5",className:"header_card"},r.a.createElement("b",null,"Datos de Transporte")," ",r.a.createElement(i.Q,null)," (hacer click para desplegar campos)"),r.a.createElement(l.a.Collapse,{eventKey:"5"},r.a.createElement(c.a.Body,null,r.a.createElement(o.a,null,r.a.createElement(s.a,{type:"text",label:"Rut del Transporte",name:"rut_transfer",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.rut_transfer,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Patente del Transporte",name:"patent_transfer",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.patent_transfer,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Rut del Chofer",name:"rut_driver",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.rut_driver,handleChange:e.onChange}),r.a.createElement(s.a,{type:"text",label:"Nombre del Chofer",name:"name_driver",required:!1,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.cotizationData.name_driver,handleChange:e.onChange}))))))}},829:function(e,a,t){"use strict";t.r(a);var n=t(94),r=t(17),c=t.n(r),l=t(51),o=t(20),i=t(34),s=t(16),m=t(126),u=t(1),d=t.n(u),p=t(9),g=t.n(p),b=t(8),E=t(614),_=t(50),h=t(604),f=t(205),y=t(660),v=t(305),C=t(10),O=t(32),j=t(635),x=t(642),z=t(643),q=t(82),k=t(29),D=t(644),N=t(645),R=t(127),S=t(55),T=t(647),w=t(18),P=t(630),G=t(631),I=t(632),A=t(637),F=t(633),H=t(691),B=t(634),M=t(165),V=t(83);function K(){var e=Object(m.a)(["\n\n  .divContainerFlex{\n    display: flex;\n    flex-direction:row;\n  }\n\n  .inputFlex{\n    flex-grow:2;\n    border:none;\n  }\n\n  .inputFlex:focus {\n    outline: none;\n  }\n\n  .tr_cabecera{\n    background-color: rgb(218,236,242);\n  }\n\n  .button_product > button{\n    height: 55px;\n    border-radius: 100%;\n    box-shadow: 3px 3px rgb(219, 222, 215);\n    width: 55px;\n    padding: 5px;\n  }\n\n  .button_product_base{\n    height: 55px;\n    border-radius: 100%;\n    box-shadow: 3px 3px rgb(219, 222, 215);\n    width: 55px;\n    padding: 5px;\n  }\n\n  .div_overflow{\n    max-height: 400px;\n    overflow-y: auto;\n  }\n"]);return K=function(){return e},e}var L=R.a.div(K());a.default=Object(k.b)((function(e){return{id_branch_office:e.enterpriseSucursal.id_branch_office,id_enterprise:e.enterpriseSucursal.id_enterprise,configStore:e.configs.configStore,configGeneral:e.configs.config}}),{})((function(e){var a,t=Object(u.useState)([]),r=Object(s.a)(t,2),m=r[0],p=r[1],k=Object(u.useState)([]),R=Object(s.a)(k,2),K=R[0],Y=R[1],J=Object(u.useState)(!1),U=Object(s.a)(J,2),W=U[0],Q=U[1],X=Object(u.useState)(!1),Z=Object(s.a)(X,2),$=Z[0],ee=Z[1],ae=Object(u.useState)(!1),te=Object(s.a)(ae,2),ne=te[0],re=te[1],ce=Object(u.useState)([]),le=Object(s.a)(ce,2),oe=le[0],ie=le[1],se=Object(u.useState)([]),me=Object(s.a)(se,2),ue=me[0],de=me[1],pe=Object(u.useState)(!1),ge=Object(s.a)(pe,2),be=ge[0],Ee=ge[1],_e=Object(u.useState)(!1),he=Object(s.a)(_e,2),fe=he[0],ye=he[1],ve=Object(u.useState)(!1),Ce=Object(s.a)(ve,2),Oe=Ce[0],je=Ce[1],xe=Object(u.useState)(!1),ze=Object(s.a)(xe,2),qe=ze[0],ke=ze[1],De=Object(u.useState)(!1),Ne=Object(s.a)(De,2),Re=Ne[0],Se=Ne[1],Te=Object(u.useState)(Object.assign({},C.d,{date_issue_invoice:M().tz("America/Santiago").format("YYYY-MM-DD"),type:4})),we=Object(s.a)(Te,2),Pe=we[0],Ge=we[1],Ie=Object(u.useState)(!1),Ae=Object(s.a)(Ie,2),Fe=Ae[0],He=Ae[1],Be=Object(u.useState)([]),Me=Object(s.a)(Be,2),Ve=Me[0],Ke=Me[1],Le=Object(u.useRef)(null),Ye=Object(u.useState)([]),Je=(Object(s.a)(Ye,1)[0],Object(u.useState)({check_ref:!1,check_transfer:!1})),Ue=Object(s.a)(Je,2),We=Ue[0],Qe=Ue[1],Xe=Object(u.useState)(!0),Ze=Object(s.a)(Xe,2),$e=Ze[0],ea=Ze[1],aa=Object(u.useState)(!1),ta=Object(s.a)(aa,2),na=ta[0],ra=ta[1],ca=Object(u.useState)([]),la=Object(s.a)(ca,2),oa=la[0],ia=la[1];Object(u.useEffect)((function(){if(e.configStore&&e.configGeneral){if(!e.configGeneral.is_syncronized)return b.b.error("Su cuenta no esta sincronizada con el SII, complete su configuraci\xf3n general para usar este m\xf3dulo"),void setTimeout((function(){e.history.replace("/config/config_general")}),3e3);sa(),He(!0)}else e.configStore?e.configGeneral||(b.b.error("Debe hacer su configuraci\xf3n general para usar este m\xf3dulo"),setTimeout((function(){e.history.replace("/config/config_general")}),3e3)):(b.b.error("Debe hacer su configuraci\xf3n de tienda o seleccionar una sucursal para usar este m\xf3dulo"),setTimeout((function(){e.history.replace("/dashboard")}),3e3))}),[e.id_branch_office]),Object(u.useEffect)((function(){return S.a.toggleCollapsed(),function(){S.a.toggleCollapsed()}}),[]);var sa=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$e||ea(!0);var t=null;a?a&&(t=[g.a.get(C.b+"client")]):t=[g.a.get(C.b+"client"),g.a.get(C.b+"product"),g.a.get(C.b+"listProduct")],Promise.all(t).then((function(e){p(e[0].data),e.length>=2?(ie(e[1].data),ia(e[2].data),_a()):ea(!1)})).catch((function(a){ea(!1),e.tokenExpired(a)}))},ma=function(){var e=Object(i.a)(c.a.mark((function e(a){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.persist(),"type_api"===a.target.name||"total_with_iva"===a.target.name||"type_effect"===a.target.name||"type_invoicing"===a.target.name?(t="false"!==a.target.value,Ge(Object(o.a)(Object(o.a)({},Pe),{},Object(l.a)({},a.target.name,t)))):"rut_transmitter"===a.target.name||"rut_client"===a.target.name||"rut_client_search"===a.target.name||"rut_transfer"===a.target.name||"rut_driver"===a.target.name?Ge(Object(o.a)(Object(o.a)({},Pe),{},Object(l.a)({},a.target.name,Object(w.b)(a.target.value)))):Ge(Object(o.a)(Object(o.a)({},Pe),{},Object(l.a)({},a.target.name,a.target.value)));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ua=function(e){e.persist(),"check_ref"===e.target.id?(e.target.checked?da():Ke([]),Qe(Object(o.a)(Object(o.a)({},We),{},Object(l.a)({},e.target.id,e.target.checked)))):(e.target.checked||Ge((function(e){return Object.assign({},e,{rut_transfer:"",patent_transfer:"",rut_driver:"",name_driver:""})})),Qe(Object(o.a)(Object(o.a)({},We),{},Object(l.a)({},e.target.id,e.target.checked))))},da=function(){Ke([].concat(Object(n.a)(Ve),[{ind:"ind",type_document:"HES",ref_cotizacion:Pe.ref,date_ref:M().tz("America/Santiago").format("YYYY-MM-DD"),reason_ref:"Cotizaci\xf3n",type_code:"",id_invoice:""}]))},pa=function(){ye(!fe)},ga=function(){je(!Oe)},ba=function(){Se(!Re)},Ea=function(){e.history.replace("/guide/guide_search")},_a=function(){var a=Object(i.a)(c.a.mark((function a(){var t;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.a.get(C.b+"search_emisor_guide");case 3:t=a.sent,Ge((function(a){return Object.assign({},a,Object(l.a)({actividad_economica_transmitter_array:t.data.emisor.actvidades_economicas,actividad_economica_transmitter:t.data.emisor.actividad_economica_seleccionada?t.data.emisor.actividad_economica_seleccionada:t.data.emisor.actvidades_economicas[0][0],city_transmitter:t.data.emisor.ciudad_seleccionada,email_transmitter:t.data.emisor.correo,comuna_transmitter:t.data.emisor.comuna_seleccionada,address_transmitter:t.data.emisor.direccion_seleccionada,address_transmitter_array:t.data.emisor.direcciones[0],business_name_transmitter:t.data.emisor.razon_social,rut_transmitter:e.configGeneral.enterprise.rut,spin_transmitter:t.data.emisor.giro,type_transfer_trasmitter_array:C.a?t.data.tipos_de_traslado:t.data.tipos_de_venta,type_transfer_trasmitter:C.a&&t.data.tipos_de_traslado.length>0?t.data.tipos_de_traslado[0].id:"",facturaId:C.a?t.data.id:"",type_sale_transmitter_array:t.data.emisor.tipos_de_venta,type_sale_transmitter:t.data.emisor.tipos_de_venta.length>0?t.data.emisor.tipos_de_venta[0][0]:""},"facturaId",t.data.id))})),ea(!1),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),b.b.error("No se ha podido cargar la gu\xeda , intentelo de nuevo por favor"),setTimeout((function(){e.history.goBack()}),1500);case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(){return a.apply(this,arguments)}}();return d.a.createElement(L,null,d.a.createElement(E.a,{fluid:!0},d.a.createElement(_.a,{onSubmit:function(){},noValidate:!0,validated:qe,ref:Le},d.a.createElement(h.a,null,d.a.createElement(f.a,{sm:8,md:8,lg:8},d.a.createElement("h4",{className:"title_principal"},"Formulario De Gu\xedas")),d.a.createElement(f.a,{sm:4,md:4,lg:4},d.a.createElement(q.a,{type:"text",label:d.a.createElement("h5",{style:{color:"rgb(153, 31, 31)"}},"Ref.Gu\xeda"),name:"id_cotizacion",required:!0,messageErrors:[],cols:"col-md-12 col-lg-12 col-sm-12",readonly:!0,value:Pe.ref,handleChange:function(){}}))),d.a.createElement("hr",null),$e?d.a.createElement(V.a,null):d.a.createElement(d.a.Fragment,null,d.a.createElement(h.a,null,d.a.createElement(f.a,{sm:12,md:12,lg:12},d.a.createElement(y.a,null,d.a.createElement(P.a,{isType:"guide",cotizationData:Pe,setCotizationData:Ge,onChange:ma}),d.a.createElement(G.a,(a={isType:"guide",cotizationData:Pe,setCotizationData:Ge,setIsShowModalClient:Q,handleModalSeller:ga,handleModalContacts:pa,clients:m,onChange:ma},Object(l.a)(a,"setIsShowModalClient",Q),Object(l.a)(a,"handleModalSeller",ga),a))))),d.a.createElement("br",null),d.a.createElement(h.a,null,d.a.createElement(f.a,{sm:12,md:12,lg:12,className:"text-center"},d.a.createElement("h5",null,"Opcionales"))),d.a.createElement("br",null),d.a.createElement(h.a,{className:"justify-content-center"},d.a.createElement(f.a,{sm:3,md:3,lg:3,className:"text-center"},d.a.createElement(_.a.Group,null,d.a.createElement(_.a.Check,{type:"checkbox",custom:!0,id:"check_ref",label:"Referencias",value:We.check_ref,checked:We.check_ref,onChange:ua}))),d.a.createElement(f.a,{sm:3,md:3,lg:3,className:"text-center"},d.a.createElement(_.a.Group,null,d.a.createElement(_.a.Check,{type:"checkbox",custom:!0,id:"check_transfer",label:"Transporte",value:We.check_transfer,checked:We.check_transfer,onChange:ua})))),d.a.createElement("br",null),We.check_ref?d.a.createElement(A.a,{onChangeTableRef:function(e,a){e.persist(),Ke((function(t){var r=Object(n.a)(t);return r[a][e.target.name]=e.target.value,r}))},refCotizacion:Ve,removeProductRef:function(e){var a=Object(n.a)(Ve);a.splice(e,1),Ke(a)},addRef:da,isNotAccordeon:!0}):"",d.a.createElement("br",null),We.check_transfer?d.a.createElement(H.a,{cotizationData:Pe,onChange:ma,isNotAccordeon:!0}):"",d.a.createElement("br",null),d.a.createElement(B.a,{setDetailProducts:Y,detailProducts:K,cotizationData:Pe,setIsShowModalProduct:re,setGastosDetail:de,onChange:ma,listData:oa,setProducts:ie}),d.a.createElement("hr",null),d.a.createElement(F.a,{gastosDetail:ue,setGastosDetail:de,configGeneral:e.configGeneral,setIsShowModalGastos:ee}),d.a.createElement("br",null),d.a.createElement(h.a,null,d.a.createElement(q.a,{type:"date",label:"Fecha de Emisi\xf3n",name:"date_issue_invoice",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4 col-xs-12",value:Pe.date_issue_invoice,handleChange:ma})),d.a.createElement(I.a,{configGeneral:e.configGeneral,gastosDetail:ue,detailProducts:K,configStore:e.configStore,cotizationData:Pe,isType:"cotizacion"}),d.a.createElement("br",null),d.a.createElement(h.a,{className:"justify-content-center"},d.a.createElement(f.a,{sm:4,md:4,lg:4},d.a.createElement(v.a,{type:"button",variant:"primary",block:!0,size:"sm",onClick:function(){return!1===Le.current.checkValidity()?(ke(!0),void b.b.error("Revise los campos del formulario que hay errores en los requisitos pedidos")):K.length<1?(b.b.error("Debe tener al menos un producto para la gu\xeda"),!1):void ba()},disabled:be},"Guardar ",d.a.createElement(O.A,null))),d.a.createElement(f.a,{sm:4,md:4,lg:4},d.a.createElement(v.a,{type:"button",variant:"danger",block:!0,size:"sm",onClick:Ea,disabled:be},"Volver a la tabla")))),Fe?d.a.createElement(d.a.Fragment,null,d.a.createElement(T.a,{isShow:Re,onHide:ba,handleSubmit:function(){var a={cotization:Object.assign({},Pe),products:Object(n.a)(K),gastos:Object(n.a)(ue),status:4,referencias:Object(n.a)(Ve)};Ee(!0),ra(!0),g.a.post(C.b+"guide",a).then((function(e){Ee(!1),ra(!1),b.b.info("Generando pdf de la gu\xeda espere por favor..."),e.data.forEach((function(e,a){e&&window.open(e.pdf_public_url,"_blank")})),Ea()})).catch((function(a){ra(!1),Ee(!1),e.tokenExpired(a)}))},setDetailProducts:Y,products:K,disableButtons:be,isLoading:na}),d.a.createElement(j.a,{isShow:W,onHide:function(){Q(!1),sa(!0)}}),d.a.createElement(x.a,Object.assign({isShow:ne,onHide:function(){re(!1)},products:oe,handleSelectProduct:function(e){e.quantity||(e.quantity=1),e.category||(e.category="",Array.isArray(e.categories)&&e.categories.forEach((function(a){e.category+=a.name_category}))),e.id_product=e.id,e.discount_stock=!0,e.inventary[0].inventary_cost.length?(de([].concat(Object(n.a)(ue),[{description:e.inventary[0].inventary_cost[0].detail,amount:e.inventary[0].inventary_cost[0].cost,id_product:e.id}])),Y([].concat(Object(n.a)(K),[e]))):Y([].concat(Object(n.a)(K),[e])),re(!1)},handleSelectProductNotRegistered:function(){}},e)),d.a.createElement(z.a,{isShow:$,onHide:function(){return ee(!1)},handleGastoSubmit:function(e){de([].concat(Object(n.a)(ue),[e]))}}),d.a.createElement(D.a,{isShow:fe,onHide:pa,handleSelectContact:function(e){Ge((function(a){return Object.assign({},a,{name_contact:e.name,phone_contact:e.phone,email_contact:e.email})})),ye(!1)}}),d.a.createElement(N.a,{isShow:Oe,onHide:ga,handleSelectContact:function(e){Ge((function(a){return Object.assign({},a,{name_seller:e.name,phone_seller:e.phone,email_seller:e.email})})),je(!1)}})):""),")}"))}))}}]);