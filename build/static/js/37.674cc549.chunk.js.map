{"version":3,"sources":["components/Table.jsx","../node_modules/react-confirm-alert/lib/index.js","assets/img/caja_registradora.jpg","components/modals/ModalDetailSale.jsx","pages/CashBoxDetailPage.jsx"],"names":["Styles","styled","div","DefaultColumnFilter","column","filterValue","preFilteredRows","setFilter","count","length","value","onChange","e","target","undefined","placeholder","className","fuzzyTextFilterFn","rows","id","matchSorter","keys","row","values","DataTable","columns","data","menuTop","headerColor","headerFontColor","pageSizeHandler","filterTypes","React","useMemo","fuzzyText","text","filter","rowValue","String","toLowerCase","startsWith","defaultColumn","Filter","useTable","initialState","pageIndex","pageSize","useFilters","useSortBy","usePagination","getTableProps","getTableBodyProps","headerGroups","page","prepareRow","canPreviousPage","canNextPage","pageOptions","pageCount","gotoPage","nextPage","previousPage","setPageSize","state","size","style","height","variant","onClick","disabled","type","defaultValue","Number","map","key","headerGroup","getHeaderGroupProps","headers","getHeaderProps","getSortByToggleProps","backgroundColor","color","render","isSorted","isSortedDesc","canFilter","i","getRowProps","cells","cell","position","getCellProps","autoRemove","val","Table","Object","defineProperty","exports","default","_class","_temp2","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","confirmAlert","properties","document","body","classList","add","getElementById","svgNS","feGaussianBlur","createElementNS","setAttribute","appendChild","svgElem","createSVGBlurReconfirm","divTarget","children","createElement","_reactDom","_react2","ReactConfirmAlert","createElementReconfirm","_react","require","_interopRequireDefault","_propTypes2","obj","__esModule","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_Component","_ref","_temp","_this","this","_len","arguments","args","Array","_key","__proto__","getPrototypeOf","apply","concat","handleClickButton","button","close","handleClickOverlay","_this$props","closeOnClickOutside","onClickOutside","isClickOutside","overlay","afterClose","removeBodyClass","removeElementReconfirm","removeSVGBlurReconfirm","keyboardClose","event","_this$props2","closeOnEscape","onKeypressEscape","isKeyCodeEscape","keyCode","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","willUnmount","renderCustomUI","_this$props3","title","message","buttons","customUI","onClose","subClass","superClass","create","constructor","setPrototypeOf","_inherits","_this2","_props","childrenElement","ref","dom","label","Component","propTypes","string","array","isRequired","func","bool","defaultProps","svg","parentNode","removeChild","remove","unmountComponentAtNode","module","ModalDetailSale","dataSale","show","isShow","onHide","aria-labelledby","centered","Header","closeButton","Title","isDispatch","Body","client","name_client","bussines_name","phone","address","type_document","data_document","products","v","product","name_product","config","simbolo_moneda","showPriceWithDecimals","price","quantity","description","type_method","parseInt","methodSaleHandle","method_sale","discount_recharge","discount_or_recharge","amount_calculate","total_discount_recharge","type_discount_recharge","type_percentaje_fixed_discount_recharge","sub_total","tax","total","payment","turned","tax_configuration","returnTypePayment","type_sale","status","handleStatus","user","email","name","Footer","dataDonuts","labels","datasets","hoverBackgroundColor","optionsBar","responsive","maintainAspectRatio","animation","duration","hover","animationDuration","responsiveAnimationDuration","saleColumns","initialAmountsColumns","connect","configGeneral","configs","configStore","id_branch_office","enterpriseSucursal","useState","isLoading","cashObject","redraw","countType","sumType","sales","isOpenDetailSale","saleDataOption","initialAmounts","isOpenModalInitialAmounts","objectStates","setObjectStates","console","log","useEffect","fetchData","layoutHelpers","toggleCollapsed","handleStadistics","accessor","props1","Cell","original","moment","createdAt","format","block","seeDetails","rut","amount","a","dateIniParam","dateEndParam","match","params","objectPost","dateIni","tz","dateEnd","axios","post","API_URL","result","currentData","assign","detail","tokenExpired","forEach","push","parseFloat","ARRAY_COLORS","setTimeout","currentState","goBack","history","modalInitialAmountsHandler","confirmCloseCashBoxHandler","id_cash_register","then","toast","success","catch","err","sm","md","lg","xl","xs","nro_caja","src","width","marginLeft","options","borderLeft","required","cols","messageErrors","handleChange","info"],"mappings":"4qCAOA,IAAMA,EAASC,IAAOC,IAAV,KAkDZ,SAASC,EAAT,GAEI,IAAD,IADDC,OAAUC,EACT,EADSA,YAAaC,EACtB,EADsBA,gBAAiBC,EACvC,EADuCA,UAElCC,EAAQF,EAAgBG,OAE9B,OACE,2BACEC,MAAOL,GAAe,GACtBM,SAAU,SAAAC,GACRL,EAAUK,EAAEC,OAAOH,YAASI,IAE9BC,YAAW,oBAAeP,EAAf,iBACXQ,UAAU,oBAKhB,SAASC,EAAkBC,EAAMC,EAAId,GACnC,OAAOe,YAAYF,EAAMb,EAAa,CAAEgB,KAAM,CAAC,SAAAC,GAAG,OAAIA,EAAIC,OAAOJ,OAMnE,SAASK,EAAT,GAA+F,IAA1EC,EAAyE,EAAzEA,QAASC,EAAgE,EAAhEA,KAAMC,EAA0D,EAA1DA,QAASC,EAAiD,EAAjDA,YAAaC,EAAoC,EAApCA,gBAAiBC,EAAmB,EAAnBA,gBAGnEC,EAAcC,IAAMC,SACxB,iBAAO,CAELC,UAAWjB,EAGXkB,KAAM,SAACjB,EAAMC,EAAId,GACf,OAAOa,EAAKkB,QAAO,SAAAd,GACjB,IAAMe,EAAWf,EAAIC,OAAOJ,GAC5B,YAAoBL,IAAbuB,GACHC,OAAOD,GACJE,cACAC,WAAWF,OAAOjC,GAAakC,sBAK5C,IAGIE,EAAgBT,IAAMC,SAC1B,iBAAO,CAELS,OAAQvC,KAEV,IA5B0F,EA8CxFwC,mBACF,CACElB,UACAC,OACAe,gBACAV,cACAa,aAAc,CAAEC,UAAW,EAAGC,SAAWhB,EAAgB,KAE3DiB,aACAC,YACAC,iBAxBAC,EAhC0F,EAgC1FA,cACAC,EAjC0F,EAiC1FA,kBACAC,EAlC0F,EAkC1FA,aACAC,EAnC0F,EAmC1FA,KACAC,EApC0F,EAoC1FA,WACAC,EArC0F,EAqC1FA,gBACAC,EAtC0F,EAsC1FA,YACAC,EAvC0F,EAuC1FA,YACAC,EAxC0F,EAwC1FA,UACAC,EAzC0F,EAyC1FA,SACAC,EA1C0F,EA0C1FA,SACAC,EA3C0F,EA2C1FA,aACAC,EA5C0F,EA4C1FA,YA5C0F,IA6C1FC,MAASlB,EA7CiF,EA6CjFA,UAAWC,EA7CsE,EA6CtEA,SAgBtB,OACE,yBAAK9B,UAAU,0BACZW,EACC,yBAAKX,UAAU,cACb,kBAAC,IAAD,CAAQgD,KAAK,KAAKC,MAAO,CAACC,OAAO,QAASlD,UAAU,oBAAoBmD,QAAQ,YAAYC,QAAS,kBAAMT,EAAS,IAAIU,UAAWd,GAChI,MACO,IACV,kBAAC,IAAD,CAAQS,KAAK,KAAKC,MAAO,CAACC,OAAO,QAASlD,UAAU,oBAAoBmD,QAAQ,YAAYC,QAAS,kBAAMP,KAAgBQ,UAAWd,GACnI,KACO,IACV,kBAAC,IAAD,CAAQS,KAAK,KAAKC,MAAO,CAACC,OAAO,QAASlD,UAAU,oBAAoBmD,QAAQ,YAAYC,QAAS,kBAAMR,KAAYS,UAAWb,GAC/H,KACO,IACV,kBAAC,IAAD,CAAQQ,KAAK,KAAKC,MAAO,CAACC,OAAO,QAASlD,UAAU,oBAAoBmD,QAAQ,YAAYC,QAAS,kBAAMT,EAASD,EAAY,IAAIW,UAAWb,GAC5I,MACO,IACV,0CACS,IACP,gCACGX,EAAY,EADf,OACsBY,EAAYhD,QACxB,KAEZ,0BAAMO,UAAU,QAAhB,KACI,0BAAMA,UAAU,QAAhB,qBAAuC,KACzC,uCACEsD,KAAK,SACLC,aAAc1B,EAAY,EAC1BlC,SAAU,SAAAC,GACR,IAAMyC,EAAOzC,EAAEC,OAAOH,MAAQ8D,OAAO5D,EAAEC,OAAOH,OAAS,EAAI,EAC3DiD,EAASN,IAEXrC,UAAU,aAPZ,YAQY,SAACJ,GACNA,EAAEC,OAAOH,MAAQ+C,EAAYhD,SAC9BG,EAAEC,OAAOH,MAAQ,QAIjB,IACR,4BACEA,MAAOoC,EACPnC,SAAU,SAAAC,GACRkD,EAAYU,OAAO5D,EAAEC,OAAOH,SAE9BM,UAAU,aAETc,EAAgB2C,KAAI,SAAA3B,GAAQ,OAC3B,4BAAQ4B,IAAK5B,EAAUpC,MAAOoC,GAA9B,WACWA,QAMf,GACJ,2CAAWI,IAAX,CAA4BlC,UAAU,yBACpC,+BACGoC,EAAaqB,KAAI,SAAAE,GAAW,OAC3B,wCAAQA,EAAYC,sBAApB,CAA2C5D,UAAU,gBAClD2D,EAAYE,QAAQJ,KAAI,SAAArE,GAAM,OAE7B,wCAAQA,EAAO0E,eAAe1E,EAAO2E,wBAArC,CAA8Dd,MAAO,CAAEe,gBAAiBpD,GAA4B,qBAAsBqD,MAAOpD,GAAoC,WAChLzB,EAAO8E,OAAO,UACf,8BACG9E,EAAO+E,SACJ/E,EAAOgF,aACL,gBACA,gBACF,IAEN,6BAAMhF,EAAOiF,UAAYjF,EAAO8E,OAAO,UAAY,eAM/D,2CAAW/B,IAAX,CAAgCnC,UAAU,gBACvCqC,EAAKoB,KACJ,SAACnD,EAAKgE,GAAN,OACEhC,EAAWhC,IACT,uBAAQA,EAAIiE,cACTjE,EAAIkE,MAAMf,KAAI,SAAAgB,GACb,OAAO,sCAAIxB,MAAO,CAACyB,SAAU,aAAiBD,EAAKE,gBAAiBF,EAAKP,OAAO,kBAO9F,yBAAKlE,UAAU,cACb,kBAAC,IAAD,CAAQgD,KAAK,KAAKC,MAAO,CAACC,OAAO,QAASlD,UAAU,oBAAoBmD,QAAQ,YAAYC,QAAS,kBAAMT,EAAS,IAAIU,UAAWd,GAChI,MACO,IACV,kBAAC,IAAD,CAAQS,KAAK,KAAKC,MAAO,CAACC,OAAO,QAASlD,UAAU,oBAAoBmD,QAAQ,YAAYC,QAAS,kBAAMP,KAAgBQ,UAAWd,GACnI,KACO,IACV,kBAAC,IAAD,CAAQS,KAAK,KAAKC,MAAO,CAACC,OAAO,QAASlD,UAAU,oBAAoBmD,QAAQ,YAAYC,QAAS,kBAAMR,KAAYS,UAAWb,GAC/H,KACO,IACV,kBAAC,IAAD,CAAQQ,KAAK,KAAKC,MAAO,CAACC,OAAO,QAASlD,UAAU,oBAAoBmD,QAAQ,YAAYC,QAAS,kBAAMT,EAASD,EAAY,IAAIW,UAAWb,GAC5I,MACO,IACV,0CACS,IACP,gCACGX,EAAY,EADf,OACsBY,EAAYhD,QACxB,KAEZ,0BAAMO,UAAU,QAAhB,KACI,0BAAMA,UAAU,QAAhB,qBAAuC,KACzC,uCACEsD,KAAK,SACLC,aAAc1B,EAAY,EAC1BlC,SAAU,SAAAC,GACR,IAAMyC,EAAOzC,EAAEC,OAAOH,MAAQ8D,OAAO5D,EAAEC,OAAOH,OAAS,EAAI,EAC3DiD,EAASN,IAEXrC,UAAU,aAPZ,YAQY,SAACJ,GACNA,EAAEC,OAAOH,MAAQ+C,EAAYhD,SAC9BG,EAAEC,OAAOH,MAAQ,QAIjB,IACR,4BACEA,MAAOoC,EACPnC,SAAU,SAAAC,GACRkD,EAAYU,OAAO5D,EAAEC,OAAOH,SAE9BM,UAAU,aAETc,EAAgB2C,KAAI,SAAA3B,GAAQ,OAC3B,4BAAQ4B,IAAK5B,EAAUpC,MAAOoC,GAA9B,WACWA,SArMvB7B,EAAkB2E,WAAa,SAAAC,GAAG,OAAKA,GAiOxBC,IAlBD,SAAC,GAAwE,IAAvEpE,EAAsE,EAAtEA,KAAKD,EAAiE,EAAjEA,QAAQE,EAAyD,EAAzDA,QAAQC,EAAiD,EAAjDA,YAAYC,EAAqC,EAArCA,gBAAgBC,EAAqB,EAArBA,gBAE/D,OADAA,EAAkBA,GAAoC,CAAC,GAAI,GAAI,GAAI,GAAI,IAErE,kBAAC9B,EAAD,KACE,kBAACwB,EAAD,CAAWM,gBAAiBA,EAAiBJ,KAAMA,EAAMD,QAASA,EAASE,QAASA,EAASE,gBAAiBA,EAAiBD,YAAaA,O,uDChSlJmE,OAAOC,eAAeC,EAAS,aAAc,CAC3CvF,OAAO,IAETuF,EAAQC,aAAUpF,EAElB,IAEIqF,EAAQC,EAFRC,EAAe,WAAc,SAASC,EAAiBzF,EAAQ0F,GAAS,IAAK,IAAIjB,EAAI,EAAGA,EAAIiB,EAAM9F,OAAQ6E,IAAK,CAAE,IAAIkB,EAAaD,EAAMjB,GAAIkB,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMZ,OAAOC,eAAenF,EAAQ2F,EAAW9B,IAAK8B,IAAiB,OAAO,SAAUI,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYP,EAAiBM,EAAYG,UAAWF,GAAiBC,GAAaR,EAAiBM,EAAaE,GAAqBF,GAA7gB,GAInBX,EAAQe,aAwPR,SAAsBC,GAPpBC,SAASC,KAAKC,UAAUC,IAAI,oCAnD9B,WAGE,GADUH,SAASI,eAAe,gCACzB,OACT,IAAIC,EAAQ,6BACRC,EAAiBN,SAASO,gBAAgBF,EAAO,kBACrDC,EAAeE,aAAa,eAAgB,OAE5C,IAAItF,EAAS8E,SAASO,gBAAgBF,EAAO,UAC7CnF,EAAOsF,aAAa,KAAM,iBAC1BtF,EAAOuF,YAAYH,GAEnB,IAAII,EAAUV,SAASO,gBAAgBF,EAAO,OAC9CK,EAAQF,aAAa,KAAM,gCAC3BE,EAAQF,aAAa,QAAS,2BAC9BE,EAAQD,YAAYvF,GAEpB8E,SAASC,KAAKQ,YAAYC,GA2C1BC,GAjCF,SAAgCZ,GAC9B,IAAIa,EAAYZ,SAASI,eAAe,uBACpCQ,IAKFZ,SAASC,KAAKY,SAAS,GAAGX,UAAUC,IAAI,6BACxCS,EAAYZ,SAASc,cAAc,QACzB7G,GAAK,sBACf+F,SAASC,KAAKQ,YAAYG,KAN1B,EAAIG,EAAU/C,QAAQgD,EAAQhC,QAAQ8B,cAAcG,EAAmBlB,GAAaa,GA8BtFM,CAAuBnB,IAzPzB,IAAIoB,EAASC,EAAQ,GAEjBJ,EAAUK,EAAuBF,GAIjCG,EAAcD,EAFDD,EAAQ,IAIrBL,EAAYK,EAAQ,IAExB,SAASC,EAAuBE,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEvC,QAASuC,GAEvF,SAASE,EAAgBC,EAAUhC,GAAe,KAAMgC,aAAoBhC,GAAgB,MAAM,IAAIiC,UAAU,qCAEhH,SAASC,EAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,MAAM,IAAIE,eAAe,6DAAgE,OAAOD,GAAyB,kBAATA,GAAqC,oBAATA,EAA8BD,EAAPC,EAIlO,IAAIb,GAAqB/B,EAASD,EAAS,SAAU+C,GAGnD,SAASf,IACP,IAAIgB,EAEAC,EAAOC,EAEXV,EAAgBW,KAAMnB,GAEtB,IAAK,IAAIoB,EAAOC,UAAU/I,OAAQgJ,EAAOC,MAAMH,GAAOI,EAAO,EAAGA,EAAOJ,EAAMI,IAC3EF,EAAKE,GAAQH,UAAUG,GAGzB,OAAeP,EAASC,EAAQP,EAA2BQ,MAAOH,EAAOhB,EAAkByB,WAAa7D,OAAO8D,eAAe1B,IAAoBa,KAAKc,MAAMX,EAAM,CAACG,MAAMS,OAAON,KAAiBJ,EAAMW,kBAAoB,SAAUC,GAChOA,EAAO7F,SAAS6F,EAAO7F,UAC3BiF,EAAMa,SACLb,EAAMc,mBAAqB,SAAUvJ,GACtC,IAAIwJ,EAAcf,EAAM9C,MACpB8D,EAAsBD,EAAYC,oBAClCC,EAAiBF,EAAYE,eAE7BC,EAAiB3J,EAAEC,SAAWwI,EAAMmB,QAEpCH,GAAuBE,IACzBD,IACAjB,EAAMa,UAEPb,EAAMa,MAAQ,WACf,IAAIO,EAAapB,EAAM9C,MAAMkE,WAE7BC,IACAC,IACAC,EAAuBH,IACtBpB,EAAMwB,cAAgB,SAAUC,GACjC,IAAIC,EAAe1B,EAAM9C,MACrByE,EAAgBD,EAAaC,cAC7BC,EAAmBF,EAAaE,iBAEhCC,EAAoC,KAAlBJ,EAAMK,QAExBH,GAAiBE,IACnBD,EAAiBH,GACjBzB,EAAMa,UAEPb,EAAM+B,kBAAoB,WAC3BlE,SAASmE,iBAAiB,UAAWhC,EAAMwB,eAAe,IACzDxB,EAAMiC,qBAAuB,WAC9BpE,SAASqE,oBAAoB,UAAWlC,EAAMwB,eAAe,GAC7DxB,EAAM9C,MAAMiF,eACXnC,EAAMoC,eAAiB,WACxB,IAAIC,EAAerC,EAAM9C,MACrBoF,EAAQD,EAAaC,MACrBC,EAAUF,EAAaE,QACvBC,EAAUH,EAAaG,QAU3B,OAAOC,EATQJ,EAAaI,UAET,CACjBH,MAAOA,EACPC,QAASA,EACTC,QAASA,EACTE,QAAS1C,EAAMa,SAIRpB,EAA2BO,EAAnCD,GAyDL,OA5HF,SAAmB4C,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIpD,UAAU,kEAAoEoD,GAAeD,EAASjF,UAAYhB,OAAOmG,OAAOD,GAAcA,EAAWlF,UAAW,CAAEoF,YAAa,CAAEzL,MAAOsL,EAAUvF,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeuF,IAAYlG,OAAOqG,eAAiBrG,OAAOqG,eAAeJ,EAAUC,GAAcD,EAASpC,UAAYqC,GAG/dI,CAAUlE,EAAmBe,GAmE7B7C,EAAa8B,EAAmB,CAAC,CAC/BzD,IAAK,SACLhE,MAAO,WACL,IAAI4L,EAAShD,KAETiD,EAASjD,KAAK/C,MACdoF,EAAQY,EAAOZ,MACfC,EAAUW,EAAOX,QACjBC,EAAUU,EAAOV,QACjBW,EAAkBD,EAAOC,gBACzBV,EAAWS,EAAOT,SAGtB,OAAO5D,EAAQhC,QAAQ8B,cACrB,MACA,CACEhH,UAAW,8BACXyL,IAAK,SAAaC,GAChB,OAAOJ,EAAO9B,QAAUkC,GAE1BtI,QAASkF,KAAKa,oBAEhBjC,EAAQhC,QAAQ8B,cACd,MACA,CAAEhH,UAAW,uBACb8K,EAAWxC,KAAKmC,iBAAmBvD,EAAQhC,QAAQ8B,cACjD,MACA,CAAEhH,UAAW,4BACb2K,GAASzD,EAAQhC,QAAQ8B,cACvB,KACA,KACA2D,GAEFC,EACAY,IACAtE,EAAQhC,QAAQ8B,cACd,MACA,CAAEhH,UAAW,oCACb6K,EAAQpH,KAAI,SAAUwF,EAAQ3E,GAC5B,OAAO4C,EAAQhC,QAAQ8B,cACrB,SACA,CAAEtD,IAAKY,EAAGlB,QAAS,WACf,OAAOkI,EAAOtC,kBAAkBC,IAC/BjJ,UAAWiJ,EAAOjJ,WACvBiJ,EAAO0C,kBAUhBxE,EA1HkC,CA2HzCE,EAAOuE,WAAYzG,EAAO0G,UAAY,CACtClB,MAAOnD,EAAYtC,QAAQ4G,OAC3BlB,QAASpD,EAAYtC,QAAQ4G,OAC7BjB,QAASrD,EAAYtC,QAAQ6G,MAAMC,WACnCR,gBAAiBhE,EAAYtC,QAAQ+G,KACrCnB,SAAUtD,EAAYtC,QAAQ+G,KAC9B5C,oBAAqB7B,EAAYtC,QAAQgH,KACzClC,cAAexC,EAAYtC,QAAQgH,KACnC1B,YAAahD,EAAYtC,QAAQ+G,KACjCxC,WAAYjC,EAAYtC,QAAQ+G,KAChC3C,eAAgB9B,EAAYtC,QAAQ+G,KACpChC,iBAAkBzC,EAAYtC,QAAQ+G,MACrC9G,EAAOgH,aAAe,CACvBtB,QAAS,CAAC,CACRc,MAAO,SACPvI,QAAS,WACP,OAAO,MAETpD,UAAW,MACV,CACD2L,MAAO,UACPvI,QAAS,WACP,OAAO,MAETpD,UAAW,OAEbwL,gBAAiB,WACf,OAAO,MAETnC,qBAAqB,EACrBW,eAAe,EACfQ,YAAa,WACX,OAAO,MAETf,WAAY,WACV,OAAO,MAETH,eAAgB,WACd,OAAO,MAETW,iBAAkB,WAChB,OAAO,OAER7E,GAwBH,SAASwE,EAAuBH,GAC9B,IAAI2C,EAAMlG,SAASI,eAAe,gCAClC8F,EAAIC,WAAWC,YAAYF,GAC3BlG,SAASC,KAAKY,SAAS,GAAGX,UAAUmG,OAAO,4BAC3C9C,IAkBF,SAASE,IACP,IAAI9J,EAASqG,SAASI,eAAe,uBACjCzG,KACF,EAAIoH,EAAUuF,wBAAwB3M,GACtCA,EAAOwM,WAAWC,YAAYzM,IAQlC,SAAS6J,IACPxD,SAASC,KAAKC,UAAUmG,OAAO,oCA1DjCtH,EAAQC,QAAUiC,G,oBCtMlBsF,EAAOxH,QAAU,IAA0B,+C,oHCiM5ByH,IAjLS,SAAC,GAA0B,IAAzBC,EAAwB,EAAxBA,SAAapH,EAAW,4BAoChD,OAEE,kBAAC,IAAD,CACEqH,KAAMrH,EAAMsH,OACZC,OAAQvH,EAAMuH,OACd9J,KAAK,KACL+J,kBAAgB,gCAChBC,UAAQ,GAER,kBAAC,IAAMC,OAAP,CAAcC,aAAW,EAACjK,MAAO,CAAEe,gBAAiB,QAASC,MAAO,UAClE,kBAAC,IAAMkJ,MAAP,CAAahN,GAAG,iCAAhB,WACWoF,EAAM6H,WAAa,gBAAkB,gBADhD,IACmET,EAASlB,MAG9E,kBAAC,IAAM4B,KAAP,KACE,wBAAIrN,UAAU,+BAAd,WACA,2BAAOA,UAAU,wBACf,+BACE,wBAAIiD,MAAO,CAAEe,gBAAiB,YAAaC,MAAO,UAChD,wBAAIjE,UAAU,eAAd,UACA,wBAAIA,UAAU,eAAd,mBACA,wBAAIA,UAAU,eAAd,QACA,wBAAIA,UAAU,eAAd,gBACA,wBAAIA,UAAU,eAAd,eAGJ,2BAAOA,UAAU,eACf,4BACE,4BAAK2M,EAASW,OAASX,EAASW,OAAOC,YAAc,IACrD,4BAAKZ,EAASW,OAASX,EAASW,OAAOE,cAAgB,IACvD,4BAAKb,EAASW,OAASX,EAASW,OAAOG,MAAQ,IAC/C,4BAAKd,EAASW,OAASX,EAASW,OAAOI,QAAU,IACjD,4BAAKf,EAASW,OAAU,oCAAGX,EAASW,OAAOK,cAAnB,IAAkC,6BAAlC,IAAyChB,EAASW,OAAOM,eAAqB,OAI5G,6BAAK,6BAAK,6BACV,wBAAI5N,UAAU,+BAAd,aACE,2BAAOA,UAAU,wBACf,+BACE,wBAAIiD,MAAO,CAAEe,gBAAiB,YAAaC,MAAO,UAChD,wBAAIjE,UAAU,eAAd,UACA,wBAAIA,UAAU,eAAd,UACA,wBAAIA,UAAU,eAAd,YACA,wBAAIA,UAAU,eAAd,kBACA,wBAAIA,UAAU,eAAd,sBACA,wBAAIA,UAAU,eAAd,uBACA,wBAAIA,UAAU,eAAd,WAGJ,2BAAOA,UAAU,eACd2M,EAASkB,SAAWlB,EAASkB,SAASpK,KAAI,SAACqK,EAAExJ,GAAH,OACzC,wBAAIZ,IAAKY,GACP,4BAAKwJ,EAAEC,QAAQC,cACf,4BAAKzI,EAAM0I,OAAOC,eAAeC,YAAsB5I,EAAM0I,OAAOH,EAAEC,QAAQK,MAAQN,EAAEO,WACxF,4BAAKP,EAAEO,UACP,4BAAKP,EAAEQ,aACP,4BA3FS,SAAAC,GACvB,OAAQC,SAASD,EAAY,KAC3B,KAAK,EACH,OAAQ,wCAEV,KAAK,EACH,OAAQ,2CAEV,KAAK,EACH,OAAQ,uDAkFOE,CAAiBX,EAAEY,cACxB,4BAAMZ,EAAEa,kBAAkBlP,OAAS,EAAIqO,EAAEa,kBAAkB,GAAGC,qBAC3D,gDAAW,6BAAMrJ,EAAM0I,OAAOC,eAAeJ,EAAEa,kBAAkB,GAAGE,kBACpE,8CAAS,6BAAMtJ,EAAM0I,OAAOC,eAAeJ,EAAEa,kBAAkB,GAAGE,kBACnE,YACF,4BAAI,kBAAC,IAAD,CAAO1L,QAAQ,SAASnD,UAAU,cAAeuF,EAAM0I,OAAOC,eAAeC,YAAsB5I,EAAM0I,OAAOH,EAAEM,aAErH,KAGX,6BAAK,6BAAK,6BACV,wBAAIpO,UAAU,+BAAd,uCACA,2BAAOA,UAAU,wBACf,+BACE,wBAAIiD,MAAO,CAAEe,gBAAiB,YAAaC,MAAO,UAChD,wBAAIjE,UAAU,eAAd,SACA,wBAAIA,UAAU,eAAd,uBACA,wBAAIA,UAAU,eAAd,0BAGJ,2BAAOA,UAAU,eACf,4BACE,4BAAMuF,EAAM0I,OAAOC,eAAe,IAAIC,YAAsB5I,EAAM0I,OAAOtB,EAASmC,0BAClF,4BAAMnC,EAASoC,uBAAyBpC,EAASoC,uBAAyB,WAC1E,4BAAMpC,EAASqC,wCAA0CrC,EAASqC,wCAA0C,cAIlH,6BAAK,6BAAK,6BACV,wBAAIhP,UAAU,+BAAd,WACE,2BAAOA,UAAU,wBACf,+BACE,wBAAIiD,MAAO,CAAEe,gBAAiB,YAAaC,MAAO,UAChD,wBAAIjE,UAAU,eAAd,YACA,wBAAIA,UAAU,eAAd,OACA,wBAAIA,UAAU,eAAd,SACA,wBAAIA,UAAU,eAAd,gBACA,wBAAIA,UAAU,eAAd,YAGJ,2BAAOA,UAAU,eACf,4BACE,4BAAI,kBAAC,IAAD,CAAOmD,QAAQ,SAASnD,UAAU,cAAeuF,EAAM0I,OAAOC,eAAevB,EAASsC,YAC1F,4BAAI,kBAAC,IAAD,CAAO9L,QAAQ,SAASnD,UAAU,cAAeuF,EAAM0I,OAAOC,eAAevB,EAASuC,MAC1F,4BAAI,kBAAC,IAAD,CAAO/L,QAAQ,SAASnD,UAAU,cAAeuF,EAAM0I,OAAOC,eAAeC,YAAsB5I,EAAM0I,OAAOtB,EAASwC,SAC7H,4BAAI,kBAAC,IAAD,CAAOhM,QAAQ,SAASnD,UAAU,cAAeuF,EAAM0I,OAAOC,eAAeC,YAAsB5I,EAAM0I,OAAOtB,EAASyC,WAC7H,4BAAI,kBAAC,IAAD,CAAOjM,QAAQ,SAASnD,UAAU,cAAeuF,EAAM0I,OAAOC,eAAeC,YAAsB5I,EAAM0I,OAAOtB,EAAS0C,aAKnI,2BAAOrP,UAAU,wBACf,+BACE,wBAAIiD,MAAO,CAAEe,gBAAiB,YAAaC,MAAO,UAChD,wBAAIjE,UAAU,eAAd,uBACA,wBAAIA,UAAU,eAAd,sBACA,wBAAIA,UAAU,eAAd,UACA,wBAAIA,UAAU,eAAd,cAGJ,2BAAOA,UAAU,eACf,4BACE,4BAAM2M,EAAS2C,mBACf,4BAAKC,YAAkB5C,EAAS6C,YAChC,4BA7IO,SAAAC,GACnB,OAAQjB,SAASiB,EAAO,KACtB,KAAK,EACH,OAAQ,wCAEV,KAAK,EACH,OAAQ,2CAEV,KAAK,EACH,OAAQ,0CAoIMC,CAAa/C,EAAS8C,SAC5B,4BAAM9C,EAASgD,KAAOhD,EAASgD,KAAKC,MAAQ,GAA5C,MAAqDjD,EAASgD,KAAOhD,EAASgD,KAAKE,KAAO,QAKpG,kBAAC,IAAMC,OAAP,KACE,kBAAC,IAAD,CAAQ9M,KAAK,KAAKG,QAAQ,YAAYC,QAASmC,EAAMuH,QAArD,c,+QCjKJiD,G,OAAa,CACfC,OAAQ,GACTC,SAAU,CAAC,CACVvP,KAAM,GACNsD,gBAAiB,GACjBkM,qBAAsB,OAIpBC,EAAa,CACfC,YAAY,EACZC,qBAAqB,EACrBC,UAAW,CACTC,SAAU,GAEZC,MAAO,CACLC,kBAAmB,GAErBC,4BAA6B,GAG3BC,EAAc,GAEdC,EAAwB,GAsXbC,uBARf,SAAyB9N,GACvB,MAAO,CACL+N,cAAgB/N,EAAMgO,QAAQ9C,OAC9B+C,YAAcjO,EAAMgO,QAAQC,YAC5BC,iBAAmBlO,EAAMmO,mBAAmBD,oBAIT,GAAxBJ,EApXf,SAA2BtL,GAAQ,IAAD,EACQ4L,mBAAS,CAC/CC,WAAY,EACZC,WAAa,KACbC,QAAS,EACTC,UAAY,GACZC,QAAU,GACVC,MAAQ,GACRC,kBAAmB,EACnBC,eAAiB,GACjBC,eAAiB,GACjBC,2BAA4B,IAXE,mBACzBC,EADyB,KACXC,EADW,KAahCC,QAAQC,IAAI,eACZC,qBAAU,WAGR,OAFAC,IACAC,IAAcC,kBACP,WACLD,IAAcC,qBAEhB,IAEFH,qBAAU,WACLJ,EAAaP,UAAU9R,QAAQ6S,MAClC,CAACR,EAAaP,YAEhBZ,EAAc1P,mBAAQ,WACpB,MAAO,CACL,CACEgM,OAAQ,aACRsF,SAAU,OAEZ,CACEtF,OAAQ,UACRsF,SAAU,SAAAC,GAAM,OAAIA,EAAOlF,OAAS,CAACkF,EAAOlF,OAAOC,YAAY,IAAIiF,EAAOlF,OAAOM,eAAiB,KAGpG,CACEX,OAAQ,QACRsF,SAAU,QACVE,KAAM,SAAAD,GACJ,OACE,8BACGjN,EAAMuL,cAAgBvL,EAAMuL,cAAc5C,eAAiB,GAAKC,YAAsB5I,EAAMuL,cAAc0B,EAAO/N,KAAKnE,IAAIoS,SAASvD,UAK5I,CACElC,OAAQ,OACRsF,SAAU,UACVE,KAAM,SAAAD,GACJ,OACE,8BACGjN,EAAMuL,cAAgBvL,EAAMuL,cAAc5C,eAAiB,GAAKC,YAAsB5I,EAAMuL,cAAc0B,EAAO/N,KAAKnE,IAAIoS,SAAStD,YAK5I,CACEnC,OAAQ,SACRsF,SAAU,SAAAC,GAAM,MAAI,CAAmB,IAAlBA,EAAO/C,OAAe,YAAc,WACzDgD,KAAO,SAAAD,GAEL,OAAuB,IADJA,EAAO/N,KAAKnE,IAAxBoS,SACKjD,OACF,kBAAC,IAAD,CAAOtM,QAAQ,SAASnD,UAAU,cAAlC,aAEA,kBAAC,IAAD,CAAOmD,QAAQ,UAAUnD,UAAU,cAAnC,YAId,CACEiN,OAAQ,QACRsF,SAAU,SAAAC,GAAM,MAAI,CAACG,EAAOH,EAAOI,WAAWC,OAAO,iBAEvD,CACE5F,OAAQ,WACRwF,KAAM,SAAAD,GACJ,IAAME,EAAWF,EAAO/N,KAAKnE,IAAIoS,SACjC,OAAQ,kBAAC,IAAD,CAAQvP,QAAQ,UAAU2P,OAAO,EAAM9P,KAAK,KAAKM,KAAK,SAASF,QAAS,kBAAM2P,EAAWL,KAAzF,gBAId,IAEF9B,EAAwB3P,mBAAQ,WAC9B,MAAO,CACL,CACEgM,OAAS,UACTsF,SAAU,SAAAC,GAAM,MAAI,CAACA,EAAO7C,KAAKE,KAAK,IAAI2C,EAAO7C,KAAKqD,MACtDP,KAAO,SAAAD,GACL,IAAME,EAAWF,EAAO/N,KAAKnE,IAAIoS,SACjC,OACE,8BACGA,EAAS/C,KAAKE,KAAK,6BADtB,QACiC6C,EAAS/C,KAAKqD,OAKrD,CACE/F,OAAS,QACTsF,SAAU,SACVE,KAAM,SAAAD,GACJ,IAAME,EAAWF,EAAO/N,KAAKnE,IAAIoS,SACjC,OAAQ,kBAAC,IAAD,CAAOvP,QAAQ,SAASnD,UAAU,cACvCuF,EAAMuL,cAAgBvL,EAAMuL,cAAc5C,eAAiB,GAAIC,YAAsB5I,EAAMuL,cAAc4B,EAASO,WAIzH,CACEhG,OAAS,QACTsF,SAAU,YAGb,IAEH,IAAMJ,EAAS,uCAAG,gDAAAe,EAAA,6DAAOC,EAAP,gCAA6BC,EAA7B,yCAERjT,EAAKoF,EAAM8N,MAAMC,OAAOnT,GAC1BoT,EAAa,CACfpT,KACAqT,QAAUL,GAA8BR,IAASc,GAAG,oBAAoBZ,OAAO,cAC/Ea,QAAUN,GAA8BT,IAASc,GAAG,oBAAoBZ,OAAO,eANnE,SAQKc,IAAMC,KAAKC,IAAQ,uBAAuBN,GAR/C,OAQVO,EARU,OASd/B,GAAgB,SAAAgC,GACd,OAAOhP,OAAOiP,OAAO,GAAGD,EAAa,CACnC3C,WAAY,EACZC,WAAYyC,EAAOpT,KAAKuT,OACxB1C,UAAWuC,EAAOpT,KAAK6Q,UACvBC,QAASsC,EAAOpT,KAAK8Q,QACrBC,MAAQqC,EAAOpT,KAAK+Q,MACpBG,eAAiBkC,EAAOpT,KAAKkR,oBAhBnB,kDAoBdrM,EAAM2O,aAAN,MApBc,0DAAH,qDAuBT5B,EAAmB,WACvBvC,EAAWC,OAAS,GACpBD,EAAWE,SAAS,GAAGvP,KAAO,GAC9BqP,EAAWE,SAAS,GAAGjM,gBAAkB,GACzC+L,EAAWE,SAAS,GAAGC,qBAAuB,GAE9C4B,EAAaP,UAAU4C,SAAQ,SAACrG,EAAGxJ,GACjCyL,EAAWC,OAAOoE,KAAKtG,EAAEnC,OACzBoE,EAAWE,SAAS,GAAGvP,KAAK0T,KAAKC,WAAWvG,EAAEqB,QAC9CY,EAAWE,SAAS,GAAGjM,gBAAgBoQ,KAAKE,IAAahQ,IACzDyL,EAAWE,SAAS,GAAGC,qBAAqBkE,KAAKE,IAAahQ,OAGhEyN,GAAgB,SAAAgC,GAAW,OAAIhP,OAAOiP,OAAO,GAAGD,EAAY,CAACzC,QAAS,OACtEiD,YAAW,WACTxC,GAAgB,SAAAgC,GAAW,OAAIhP,OAAOiP,OAAO,GAAGD,EAAY,CAACzC,QAAS,SACrE,OAGCyB,EAAa,SAAArS,GACjBqR,GAAgB,SAAAyC,GAAY,OAAIzP,OAAOiP,OAAO,GAAGQ,EAAc,CAAE7C,eAAiBjR,EAAMgR,kBAAmB,QAkBvG+C,EAAS,WACblP,EAAMmP,QAAQD,UAGVE,EAA6B,WACjC5C,GAAgB,SAAAyC,GAAY,OAAIzP,OAAOiP,OAAO,GAAGQ,EAAc,CAAC3C,2BAA6B2C,EAAa3C,gCAyBtG+C,EAA6B,WACjC7C,GAAgB,SAAAyC,GAAY,OAAIzP,OAAOiP,OAAO,GAAGQ,EAAa,CAACpD,WAAY,OAC3E,IAAImC,EAAa,CACfsB,iBAAmBtP,EAAM8N,MAAMC,OAAOnT,GACtC4C,OAAO,GAET4Q,IAAMC,KAAKC,IAAQ,2BAA2BN,GAAYuB,MAAK,SAAAhB,GAC7DiB,IAAMC,QAAQ,6BACdjD,GAAgB,SAAAyC,GAAY,OAAIzP,OAAOiP,OAAO,GAAGQ,EAAa,CAACpD,WAAY,OAC3EmD,YAAW,WACTE,MACA,SACDQ,OAAM,SAAAC,GACPnD,GAAgB,SAAAyC,GAAY,OAAIzP,OAAOiP,OAAO,GAAGQ,EAAa,CAACpD,WAAY,OAC3E7L,EAAM2O,aAAagB,OAIvB,OACE,oCACGpD,EAAaV,UACZ,kBAAC,IAAD,MAEA,kBAAC,IAAD,CAAKpR,UAAU,IACb,kBAAC,IAAD,CAAKmV,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,IACnC,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQzC,OAAO,EAAM9P,KAAK,KAAKM,KAAK,SAASF,QAASqR,EAAQtR,QAAQ,aAAtE,SAAwF,kBAAC,IAAD,QAEzF2O,EAAaT,YAAcS,EAAaT,WAAW5B,QAClD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAQqD,OAAO,EAAM9P,KAAK,KAAKM,KAAK,SAASF,QArDjC,WAC1B4C,uBAAa,CACX8E,SAAU,YAAkB,IAAfC,EAAc,EAAdA,QACX,OACE,yBAAK/K,UAAU,kBACb,gDACA,uBAAGA,UAAU,cAAb,yCACA,4BAAQA,UAAU,eAChBoD,QAAS,WACPwR,IACA7J,MAHJ,eAQA,4BAAQ/K,UAAU,eAAeoD,QAAS2H,GAA1C,WAsCiF5H,QAAQ,UAAnF,eAAwG,kBAAC,IAAD,SAI9G,6BACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKnD,UAAU,eACb,wBAAIiD,MAAO,CAACgB,MAAO,qBAAnB,cAAiD6N,EAAaT,WAAaS,EAAaT,WAAWmE,SAAW,IAC9G,kBAAC,IAAD,CAAOC,IAAKnO,EAAQ,KAAwCrE,MAAO,CAACyS,MAAO,SAAS,6BAFtF,YAGY5D,EAAaT,WAAaS,EAAaT,WAAW5B,OAAU,kBAAC,IAAD,CAAOtM,QAAQ,UAAUnD,UAAU,cAAnC,WAAoE,kBAAC,IAAD,CAAOmD,QAAQ,SAASnD,UAAU,cAAlC,WAAkE,KAGhN,6BACC8R,EAAaF,eAAenS,OAC3B,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKO,UAAU,eAC2B,IAAvC8R,EAAaF,eAAenS,OAC3B,oDACE,kBAAC,IAAD,CAAOwD,MAAO,CAAEe,gBAAkB,UAAW2R,WAAY,OAAO1R,MAAO,SAAUjE,UAAU,cACxFuF,EAAMuL,cAAgBvL,EAAMuL,cAAc5C,eAAiB,GAD9D,IACmEC,YAAsB5I,EAAMuL,cAAcgB,EAAaF,eAAe,GAAGqB,UAI9I,kBAAC,IAAD,CAAQjQ,KAAK,KAAKG,QAAQ,YAAYG,KAAK,SAASF,QAASuR,GAA7D,4DAIJ,GACJ,6BACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAK1R,MAAO,CAACC,OAAQ,UACnB,kBAAC,IAAD,CAAUxC,KAAMqP,EAAYuB,OAAQQ,EAAaR,OAAQsE,QAASzF,MAGtE,6BAAK,6BACL,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,uBAAGnQ,UAAU,2BAAb,2DAIN,kBAAC,IAAD,CAAKmV,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAAItS,MAAO,CAAC4S,WAAY,wBAC3D,kBAAC,IAAD,KACE,kBAAC,IAAD,KACA,0CAAe,kBAAC,IAAD,CAAO1S,QAAQ,SAASnD,UAAU,cAAcuF,EAAMuL,cAAgBvL,EAAMuL,cAAc5C,eAAiB,GAAI4D,EAAaN,QAAQ/R,QAAUqS,EAAaN,QAAQ,GAAIrD,YAAsB5I,EAAMuL,cAAcgB,EAAaN,QAAQ,GAAGrC,OAAS,GAAjQ,MAEA,kBAAC,IAAD,KACE,mDAAwB,kBAAC,IAAD,CAAOhM,QAAQ,SAASnD,UAAU,cAAcuF,EAAMuL,cAAgBvL,EAAMuL,cAAc5C,eAAiB,GAAI4D,EAAaN,QAAQ/R,QAAUqS,EAAaN,QAAQ,GAAKrD,YAAsB5I,EAAMuL,cAAcgB,EAAaN,QAAQ,GAAGrC,OAAS,GAA3Q,MAEF,kBAAC,IAAD,KACA,uDAAyB,kBAAC,IAAD,CAAOhM,QAAQ,SAASnD,UAAU,cAAcuF,EAAMuL,cAAgBvL,EAAMuL,cAAc5C,eAAiB,GAAI4D,EAAaN,QAAQ/R,QAAUqS,EAAaN,QAAQ,GAAKrD,YAAsB5I,EAAMuL,cAAcgB,EAAaN,QAAQ,GAAGrC,OAAS,MAG9Q,6BACA,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE7L,KAAK,OACLuM,KAAK,UACLiG,UAAU,EACVC,KAAK,0CACLC,cAAe,GACfrK,MAAM,cACNsK,aAAc,gBAGlB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE3S,KAAK,OACLuM,KAAK,UACLiG,UAAU,EACVC,KAAK,0CACLC,cAAe,GACfrK,MAAM,cACNsK,aAAc,gBAGlB,kBAAC,IAAD,KACE,6BACA,kBAAC,IAAD,CAAQ3S,KAAK,SAASN,KAAK,KAAKG,QAAQ,YAAYC,QAvJ3C,WACrB,IAAIoQ,EAAUtN,SAASI,eAAe,WAAW5G,MAC7CgU,EAAUxN,SAASI,eAAe,WAAW5G,MAC7C8T,GAAYE,GAIhB3B,GAAgB,SAAAyC,GAAY,OAAIzP,OAAOiP,OAAO,GAAGQ,EAAa,CAACpD,WAAY,OAC3Ee,EAAUqB,EAAQE,IAJhBqB,IAAMmB,KAAK,8DAmJ4EpD,OAAO,GAApF,iBAAwG,kBAAC,IAAD,SAG5G,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOpS,KAAMoR,EAAaL,MAAOhR,QAASkQ,OAI/CpL,EAAMuL,eAAiBvL,EAAMyL,aAC5B,kBAAC,IAAD,CACEnE,OAAQiF,EAAaJ,iBACrB5E,OAvKqB,WAC/BiF,GAAgB,SAAAyC,GAAY,OAAIzP,OAAOiP,OAAO,GAAGQ,EAAc,CAAC9C,kBAAmB,QAuKzEzD,OAAQ1I,EAAMuL,cACdE,YAAazL,EAAMyL,YACnBrE,SAAUmF,EAAaH,iBAG3B,kBAAC,IAAD,CACE/E,KAAMkF,EAAaD,0BACnB/E,OAAQ6H,EACR3R,KAAK,KACL+J,kBAAgB,gCAChBC,UAAQ,GAER,kBAAC,IAAMC,OAAP,CAAcC,aAAW,EAAClN,UAAU,eAClC,kBAAC,IAAMmN,MAAP,CAAahN,GAAG,iCAAhB,gCAIF,kBAAC,IAAMkN,KAAP,KACE,kBAAC,IAAD,CAAO3M,KAAMoR,EAAaF,eAAgBnR,QAASmQ,KAErD,kBAAC,IAAMd,OAAP,KACE,kBAAC,IAAD,CAAQ3M,QAAQ,SAASG,KAAK,SAASF,QAASuR,GAAhD","file":"static/js/37.674cc549.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport styled from 'styled-components'\r\nimport { useTable, useSortBy, useFilters, usePagination} from 'react-table'\r\nimport matchSorter from 'match-sorter'\r\nimport { Button } from 'react-bootstrap'\r\n\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n\r\n  .button-pagination{\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .inputPage{\r\n    display: inline-block;\r\n    width: 150px;\r\n    height: 34px;\r\n    padding: 6px 12px;\r\n    font-size: 14px;\r\n    line-height: 1.42857143;\r\n    color: #555;\r\n    background-color: #fff;\r\n    background-image: none;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .inputPageFilter{\r\n    display: inline-block;\r\n    width: 80%;\r\n    height: 34px;\r\n    padding: 6px 12px;\r\n    font-size: 14px;\r\n    line-height: 1.42857143;\r\n    color: #555;\r\n    background-color: #fff;\r\n    background-image: none;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .pagination {\r\n    padding: 0.5rem;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n\r\n  .table_responsive_eddit{\r\n    overflow-x: auto;\r\n  }\r\n`\r\n\r\nfunction DefaultColumnFilter({\r\n  column: { filterValue, preFilteredRows, setFilter },\r\n}) {\r\n  const count = preFilteredRows.length\r\n\r\n  return (\r\n    <input\r\n      value={filterValue || ''}\r\n      onChange={e => {\r\n        setFilter(e.target.value || undefined) // Set undefined to remove the filter entirely\r\n      }}\r\n      placeholder={`Buscar en ${count} registros...`}\r\n      className=\"inputPageFilter\"\r\n    />\r\n  )\r\n}\r\n\r\nfunction fuzzyTextFilterFn(rows, id, filterValue) {\r\n  return matchSorter(rows, filterValue, { keys: [row => row.values[id]] })\r\n}\r\n\r\n// Let the table remove the filter if the string is empty\r\nfuzzyTextFilterFn.autoRemove = val => !val\r\n\r\nfunction DataTable({ columns, data, menuTop, headerColor, headerFontColor, pageSizeHandler }) {\r\n  // Use the state and functions returned from useTable to build your UI\r\n\r\n  const filterTypes = React.useMemo(\r\n    () => ({\r\n      // Add a new fuzzyTextFilterFn filter type.\r\n      fuzzyText: fuzzyTextFilterFn,\r\n      // Or, override the default text filter to use\r\n      // \"startWith\"\r\n      text: (rows, id, filterValue) => {\r\n        return rows.filter(row => {\r\n          const rowValue = row.values[id]\r\n          return rowValue !== undefined\r\n            ? String(rowValue)\r\n                .toLowerCase()\r\n                .startsWith(String(filterValue).toLowerCase())\r\n            : true\r\n        })\r\n      },\r\n    }),\r\n    []\r\n  )\r\n\r\n  const defaultColumn = React.useMemo(\r\n    () => ({\r\n      // Let's set up our default Filter UI\r\n      Filter: DefaultColumnFilter,\r\n    }),\r\n    []\r\n  )\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    page,\r\n    prepareRow,\r\n    canPreviousPage,\r\n    canNextPage,\r\n    pageOptions,\r\n    pageCount,\r\n    gotoPage,\r\n    nextPage,\r\n    previousPage,\r\n    setPageSize,\r\n    state: { pageIndex, pageSize }\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn, // Be sure to pass the defaultColumn option\r\n      filterTypes,\r\n      initialState: { pageIndex: 0, pageSize : pageSizeHandler[0] },\r\n    },\r\n    useFilters,\r\n    useSortBy,\r\n    usePagination\r\n  )\r\n\r\n  // Render the UI for your table\r\n\r\n  return (\r\n    <div className=\"table_responsive_eddit\">\r\n      {menuTop ? (\r\n        <div className=\"pagination\">\r\n          <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n            {'<<'}\r\n          </Button>{' '}\r\n          <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n            {'<'}\r\n          </Button>{' '}\r\n          <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => nextPage()} disabled={!canNextPage}>\r\n            {'>'}\r\n          </Button>{' '}\r\n          <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n            {'>>'}\r\n          </Button>{' '}\r\n          <span>\r\n            Página{' '}\r\n            <strong>\r\n              {pageIndex + 1} de {pageOptions.length}\r\n            </strong>{' '}\r\n          </span>\r\n          <span className=\"ml-3\">\r\n            | <span className=\"ml-2\">Ir a la Página:{' '}</span>\r\n            <input\r\n              type=\"number\"\r\n              defaultValue={pageIndex + 1}\r\n              onChange={e => {\r\n                const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n                gotoPage(page)\r\n              }}\r\n              className=\"inputPage\"\r\n              onChange={(e) => {\r\n                if(e.target.value > pageOptions.length){\r\n                  e.target.value = 1\r\n                }\r\n              }}\r\n            />\r\n          </span>{' '}\r\n          <select\r\n            value={pageSize}\r\n            onChange={e => {\r\n              setPageSize(Number(e.target.value))\r\n            }}\r\n            className=\"inputPage\"\r\n          >\r\n            {pageSizeHandler.map(pageSize => (\r\n              <option key={pageSize} value={pageSize}>\r\n                Mostrar {pageSize}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n      ) : ''}\r\n      <table {...getTableProps()} className=\"table table-bordered\">\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr {...headerGroup.getHeaderGroupProps()} className=\"text-center\">\r\n              {headerGroup.headers.map(column => (\r\n\r\n                <th {...column.getHeaderProps(column.getSortByToggleProps())} style={{ backgroundColor: headerColor ? headerColor : \"rgb(218, 236, 242)\", color: headerFontColor ? headerFontColor : \"black\" }}>\r\n                    {column.render('Header')}\r\n                    <span>\r\n                      {column.isSorted\r\n                        ? column.isSortedDesc\r\n                          ? ' 🔽'\r\n                          : ' 🔼'\r\n                        : ''}\r\n                    </span>\r\n                    <div>{column.canFilter ? column.render('Filter') : null}</div>\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()} className=\"text-center\">\r\n          {page.map(\r\n            (row, i) =>\r\n              prepareRow(row) || (\r\n                <tr {...row.getRowProps()}>\r\n                  {row.cells.map(cell => {\r\n                    return <td style={{position: \"relative\"}} {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                  })}\r\n                </tr>\r\n              )\r\n          )}\r\n        </tbody>\r\n      </table>\r\n      <div className=\"pagination\">\r\n        <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => gotoPage(0)} disabled={!canPreviousPage}>\r\n          {'<<'}\r\n        </Button>{' '}\r\n        <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => previousPage()} disabled={!canPreviousPage}>\r\n          {'<'}\r\n        </Button>{' '}\r\n        <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => nextPage()} disabled={!canNextPage}>\r\n          {'>'}\r\n        </Button>{' '}\r\n        <Button size=\"sm\" style={{height:'40px'}} className=\"button-pagination\" variant=\"secondary\" onClick={() => gotoPage(pageCount - 1)} disabled={!canNextPage}>\r\n          {'>>'}\r\n        </Button>{' '}\r\n        <span>\r\n          Página{' '}\r\n          <strong>\r\n            {pageIndex + 1} de {pageOptions.length}\r\n          </strong>{' '}\r\n        </span>\r\n        <span className=\"ml-3\">\r\n          | <span className=\"ml-2\">Ir a la Página:{' '}</span>\r\n          <input\r\n            type=\"number\"\r\n            defaultValue={pageIndex + 1}\r\n            onChange={e => {\r\n              const page = e.target.value ? Number(e.target.value) - 1 : 0\r\n              gotoPage(page)\r\n            }}\r\n            className=\"inputPage\"\r\n            onChange={(e) => {\r\n              if(e.target.value > pageOptions.length){\r\n                e.target.value = 1\r\n              }\r\n            }}\r\n          />\r\n        </span>{' '}\r\n        <select\r\n          value={pageSize}\r\n          onChange={e => {\r\n            setPageSize(Number(e.target.value))\r\n          }}\r\n          className=\"inputPage\"\r\n        >\r\n          {pageSizeHandler.map(pageSize => (\r\n            <option key={pageSize} value={pageSize}>\r\n              Mostrar {pageSize}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nconst Table = ({data,columns,menuTop,headerColor,headerFontColor,pageSizeHandler}) => {\r\n  pageSizeHandler = pageSizeHandler ? pageSizeHandler : [10, 20, 30, 40, 50]; \r\n  return (\r\n    <Styles>\r\n      <DataTable pageSizeHandler={pageSizeHandler} data={data} columns={columns} menuTop={menuTop} headerFontColor={headerFontColor} headerColor={headerColor}  />\r\n    </Styles>\r\n  )\r\n}\r\n\r\nTable.propTypes = {\r\n  data: PropTypes.array.isRequired,\r\n  columns : PropTypes.array.isRequired,\r\n  menuTop: PropTypes.bool,\r\n  headerColor: PropTypes.string,\r\n  headerFontColor: PropTypes.string,\r\n  pageSizeHandler : PropTypes.array,\r\n}\r\n\r\nexport default Table\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp2;\n\nexports.confirmAlert = confirmAlert;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ReactConfirmAlert = (_temp2 = _class = function (_Component) {\n  _inherits(ReactConfirmAlert, _Component);\n\n  function ReactConfirmAlert() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ReactConfirmAlert);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ReactConfirmAlert.__proto__ || Object.getPrototypeOf(ReactConfirmAlert)).call.apply(_ref, [this].concat(args))), _this), _this.handleClickButton = function (button) {\n      if (button.onClick) button.onClick();\n      _this.close();\n    }, _this.handleClickOverlay = function (e) {\n      var _this$props = _this.props,\n          closeOnClickOutside = _this$props.closeOnClickOutside,\n          onClickOutside = _this$props.onClickOutside;\n\n      var isClickOutside = e.target === _this.overlay;\n\n      if (closeOnClickOutside && isClickOutside) {\n        onClickOutside();\n        _this.close();\n      }\n    }, _this.close = function () {\n      var afterClose = _this.props.afterClose;\n\n      removeBodyClass();\n      removeElementReconfirm();\n      removeSVGBlurReconfirm(afterClose);\n    }, _this.keyboardClose = function (event) {\n      var _this$props2 = _this.props,\n          closeOnEscape = _this$props2.closeOnEscape,\n          onKeypressEscape = _this$props2.onKeypressEscape;\n\n      var isKeyCodeEscape = event.keyCode === 27;\n\n      if (closeOnEscape && isKeyCodeEscape) {\n        onKeypressEscape(event);\n        _this.close();\n      }\n    }, _this.componentDidMount = function () {\n      document.addEventListener('keydown', _this.keyboardClose, false);\n    }, _this.componentWillUnmount = function () {\n      document.removeEventListener('keydown', _this.keyboardClose, false);\n      _this.props.willUnmount();\n    }, _this.renderCustomUI = function () {\n      var _this$props3 = _this.props,\n          title = _this$props3.title,\n          message = _this$props3.message,\n          buttons = _this$props3.buttons,\n          customUI = _this$props3.customUI;\n\n      var dataCustomUI = {\n        title: title,\n        message: message,\n        buttons: buttons,\n        onClose: _this.close\n      };\n\n      return customUI(dataCustomUI);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ReactConfirmAlert, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          title = _props.title,\n          message = _props.message,\n          buttons = _props.buttons,\n          childrenElement = _props.childrenElement,\n          customUI = _props.customUI;\n\n\n      return _react2.default.createElement(\n        'div',\n        {\n          className: 'react-confirm-alert-overlay',\n          ref: function ref(dom) {\n            return _this2.overlay = dom;\n          },\n          onClick: this.handleClickOverlay\n        },\n        _react2.default.createElement(\n          'div',\n          { className: 'react-confirm-alert' },\n          customUI ? this.renderCustomUI() : _react2.default.createElement(\n            'div',\n            { className: 'react-confirm-alert-body' },\n            title && _react2.default.createElement(\n              'h1',\n              null,\n              title\n            ),\n            message,\n            childrenElement(),\n            _react2.default.createElement(\n              'div',\n              { className: 'react-confirm-alert-button-group' },\n              buttons.map(function (button, i) {\n                return _react2.default.createElement(\n                  'button',\n                  { key: i, onClick: function onClick() {\n                      return _this2.handleClickButton(button);\n                    }, className: button.className },\n                  button.label\n                );\n              })\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return ReactConfirmAlert;\n}(_react.Component), _class.propTypes = {\n  title: _propTypes2.default.string,\n  message: _propTypes2.default.string,\n  buttons: _propTypes2.default.array.isRequired,\n  childrenElement: _propTypes2.default.func,\n  customUI: _propTypes2.default.func,\n  closeOnClickOutside: _propTypes2.default.bool,\n  closeOnEscape: _propTypes2.default.bool,\n  willUnmount: _propTypes2.default.func,\n  afterClose: _propTypes2.default.func,\n  onClickOutside: _propTypes2.default.func,\n  onKeypressEscape: _propTypes2.default.func\n}, _class.defaultProps = {\n  buttons: [{\n    label: 'Cancel',\n    onClick: function onClick() {\n      return null;\n    },\n    className: null\n  }, {\n    label: 'Confirm',\n    onClick: function onClick() {\n      return null;\n    },\n    className: null\n  }],\n  childrenElement: function childrenElement() {\n    return null;\n  },\n  closeOnClickOutside: true,\n  closeOnEscape: true,\n  willUnmount: function willUnmount() {\n    return null;\n  },\n  afterClose: function afterClose() {\n    return null;\n  },\n  onClickOutside: function onClickOutside() {\n    return null;\n  },\n  onKeypressEscape: function onKeypressEscape() {\n    return null;\n  }\n}, _temp2);\nexports.default = ReactConfirmAlert;\n\n\nfunction createSVGBlurReconfirm() {\n  // If has svg ignore to create the svg\n  var svg = document.getElementById('react-confirm-alert-firm-svg');\n  if (svg) return;\n  var svgNS = 'http://www.w3.org/2000/svg';\n  var feGaussianBlur = document.createElementNS(svgNS, 'feGaussianBlur');\n  feGaussianBlur.setAttribute('stdDeviation', '0.3');\n\n  var filter = document.createElementNS(svgNS, 'filter');\n  filter.setAttribute('id', 'gaussian-blur');\n  filter.appendChild(feGaussianBlur);\n\n  var svgElem = document.createElementNS(svgNS, 'svg');\n  svgElem.setAttribute('id', 'react-confirm-alert-firm-svg');\n  svgElem.setAttribute('class', 'react-confirm-alert-svg');\n  svgElem.appendChild(filter);\n\n  document.body.appendChild(svgElem);\n}\n\nfunction removeSVGBlurReconfirm(afterClose) {\n  var svg = document.getElementById('react-confirm-alert-firm-svg');\n  svg.parentNode.removeChild(svg);\n  document.body.children[0].classList.remove('react-confirm-alert-blur');\n  afterClose();\n}\n\nfunction createElementReconfirm(properties) {\n  var divTarget = document.getElementById('react-confirm-alert');\n  if (divTarget) {\n    // Rerender - the mounted ReactConfirmAlert\n    (0, _reactDom.render)(_react2.default.createElement(ReactConfirmAlert, properties), divTarget);\n  } else {\n    // Mount the ReactConfirmAlert component\n    document.body.children[0].classList.add('react-confirm-alert-blur');\n    divTarget = document.createElement('div');\n    divTarget.id = 'react-confirm-alert';\n    document.body.appendChild(divTarget);\n    (0, _reactDom.render)(_react2.default.createElement(ReactConfirmAlert, properties), divTarget);\n  }\n}\n\nfunction removeElementReconfirm() {\n  var target = document.getElementById('react-confirm-alert');\n  if (target) {\n    (0, _reactDom.unmountComponentAtNode)(target);\n    target.parentNode.removeChild(target);\n  }\n}\n\nfunction addBodyClass() {\n  document.body.classList.add('react-confirm-alert-body-element');\n}\n\nfunction removeBodyClass() {\n  document.body.classList.remove('react-confirm-alert-body-element');\n}\n\nfunction confirmAlert(properties) {\n  addBodyClass();\n  createSVGBlurReconfirm();\n  createElementReconfirm(properties);\n}","module.exports = __webpack_public_path__ + \"static/media/caja_registradora.3534fd3d.jpg\";","import React, {useEffect} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n  Modal,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Button,\r\n  Image,\r\n  Badge\r\n} from 'react-bootstrap'\r\nimport { API_URL } from 'utils/constants'\r\nimport * as moment from 'moment-timezone'\r\nimport { showPriceWithDecimals, returnTypePayment } from 'utils/functions'\r\nimport axios from 'axios'\r\n\r\nconst ModalDetailSale = ({dataSale, ...props}) => {\r\n\r\n  const methodSaleHandle = type_method => {\r\n    switch (parseInt(type_method,10)) {\r\n      case 1:\r\n        return (<span>Unidad</span>)\r\n      break;\r\n      case 2:\r\n        return (<span>Mayorista</span>)\r\n      break;\r\n      case 3:\r\n        return (<span>Kilos,Litros u Otros</span>)\r\n      break;\r\n    }\r\n  }\r\n\r\n  const handleStatus = status => {\r\n    switch (parseInt(status,10)) {\r\n      case 1:\r\n        return (<span>Pagado</span>)\r\n      break;\r\n      case 2:\r\n        return (<span>En espera</span>)\r\n      break;\r\n      case 3:\r\n        return (<span>Anulado</span>)\r\n      break;\r\n    }\r\n  }\r\n\r\n  const displayTotal = datos => {\r\n    let amount_descuento = datos.discount_recharge.length > 0 ? parseFloat(datos.discount_recharge[0].amount_calculate) : 0\r\n    let total = (parseFloat(datos.price) * datos.quantity) - amount_descuento\r\n    return showPriceWithDecimals(props.config,total)\r\n  }\r\n\r\n  return (\r\n\r\n    <Modal\r\n      show={props.isShow}\r\n      onHide={props.onHide}\r\n      size=\"xl\"\r\n      aria-labelledby=\"contained-modal-title-vcenter\"\r\n      centered\r\n    >\r\n      <Modal.Header closeButton style={{ backgroundColor: 'black', color: 'white'}}>\r\n        <Modal.Title id=\"contained-modal-title-vcenter\">\r\n          Detalle {props.isDispatch ? \"del despacho \" : \"de la compra \"} { dataSale.ref }\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <h3 className=\"title_principal text-center\">Cliente</h3>\r\n        <table className=\"table table-bordered\">\r\n          <thead>\r\n            <tr style={{ backgroundColor: 'lightblue', color: 'black' }}>\r\n              <th className=\"text-center\">Nombre</th>\r\n              <th className=\"text-center\">Razón Social</th>\r\n              <th className=\"text-center\">Fono</th>\r\n              <th className=\"text-center\">Dirección</th>\r\n              <th className=\"text-center\">Documento</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"text-center\">\r\n            <tr>\r\n              <td>{dataSale.client ? dataSale.client.name_client : ''}</td>\r\n              <td>{dataSale.client ? dataSale.client.bussines_name : ''}</td>\r\n              <td>{dataSale.client ? dataSale.client.phone : ''}</td>\r\n              <td>{dataSale.client ? dataSale.client.address : ''}</td>\r\n              <td>{dataSale.client ? (<>{dataSale.client.type_document} <br/> {dataSale.client.data_document}</>) : ''}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <br/><br/><br/>\r\n        <h3 className=\"title_principal text-center\">Productos</h3>\r\n          <table className=\"table table-bordered\">\r\n            <thead>\r\n              <tr style={{ backgroundColor: 'lightblue', color: 'black' }}>\r\n                <th className=\"text-center\">Nombre</th>\r\n                <th className=\"text-center\">Precio</th>\r\n                <th className=\"text-center\">Cantidad</th>\r\n                <th className=\"text-center\">Descripción</th>\r\n                <th className=\"text-center\">Método de Venta</th>\r\n                <th className=\"text-center\">Descuento o Recargo</th>\r\n                <th className=\"text-center\">Monto</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"text-center\">\r\n              {dataSale.products ? dataSale.products.map((v,i) => (\r\n                <tr key={i}>\r\n                  <td>{v.product.name_product}</td>\r\n                  <td>{props.config.simbolo_moneda+showPriceWithDecimals(props.config,v.product.price * v.quantity)}</td>\r\n                  <td>{v.quantity}</td>\r\n                  <td>{v.description}</td>\r\n                  <td>{methodSaleHandle(v.method_sale)}</td>\r\n                  <td>{ v.discount_recharge.length > 0 ? v.discount_recharge[0].discount_or_recharge \r\n                  ? (<>Descuento<br/>{props.config.simbolo_moneda+v.discount_recharge[0].amount_calculate}</>)\r\n                  : (<>Recargo<br/>{props.config.simbolo_moneda+v.discount_recharge[0].amount_calculate}</>)\r\n                  : \"No posee\" }</td>\r\n                  <td><Badge variant=\"danger\" className=\"font-badge\">{ props.config.simbolo_moneda+showPriceWithDecimals(props.config,v.price) }</Badge></td>\r\n                </tr>\r\n              )) : ''}\r\n            </tbody>\r\n          </table>\r\n        <br/><br/><br/>\r\n        <h3 className=\"title_principal text-center\">Descuento o Recargo del Monto Total</h3>\r\n        <table className=\"table table-bordered\">\r\n          <thead>\r\n            <tr style={{ backgroundColor: 'lightblue', color: 'black' }}>\r\n              <th className=\"text-center\">Monto</th>\r\n              <th className=\"text-center\">Descuento o Recargo</th>\r\n              <th className=\"text-center\">Tipo de Operación</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"text-center\">\r\n            <tr>\r\n              <td>{ props.config.simbolo_moneda+' '+showPriceWithDecimals(props.config,dataSale.total_discount_recharge) }</td>\r\n              <td>{ dataSale.type_discount_recharge ? dataSale.type_discount_recharge : 'Ninguno' }</td>\r\n              <td>{ dataSale.type_percentaje_fixed_discount_recharge ? dataSale.type_percentaje_fixed_discount_recharge : 'Ninguno'}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <br/><br/><br/>\r\n        <h3 className=\"title_principal text-center\">Totales</h3>\r\n          <table className=\"table table-bordered\">\r\n            <thead>\r\n              <tr style={{ backgroundColor: 'lightblue', color: 'black' }}>\r\n                <th className=\"text-center\">Subtotal</th>\r\n                <th className=\"text-center\">Tax</th>\r\n                <th className=\"text-center\">Total</th>\r\n                <th className=\"text-center\">Monto Pagado</th>\r\n                <th className=\"text-center\">Vuelto</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"text-center\">\r\n              <tr>\r\n                <td><Badge variant=\"danger\" className=\"font-badge\">{ props.config.simbolo_moneda+dataSale.sub_total }</Badge></td>\r\n                <td><Badge variant=\"danger\" className=\"font-badge\">{ props.config.simbolo_moneda+dataSale.tax }</Badge></td>\r\n                <td><Badge variant=\"danger\" className=\"font-badge\">{ props.config.simbolo_moneda+showPriceWithDecimals(props.config,dataSale.total) }</Badge></td>\r\n                <td><Badge variant=\"danger\" className=\"font-badge\">{ props.config.simbolo_moneda+showPriceWithDecimals(props.config,dataSale.payment) }</Badge></td>\r\n                <td><Badge variant=\"danger\" className=\"font-badge\">{ props.config.simbolo_moneda+showPriceWithDecimals(props.config,dataSale.turned) }</Badge></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n\r\n          <table className=\"table table-bordered\">\r\n            <thead>\r\n              <tr style={{ backgroundColor: 'lightblue', color: 'black' }}>\r\n                <th className=\"text-center\">Tax Configurado Al:</th>\r\n                <th className=\"text-center\">Método de Pago:</th>\r\n                <th className=\"text-center\">Status</th>\r\n                <th className=\"text-center\">Vendedor</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"text-center\">\r\n              <tr>\r\n                <td>{ dataSale.tax_configuration }</td>\r\n                <td>{returnTypePayment(dataSale.type_sale)}</td>\r\n                <td>{ handleStatus(dataSale.status) }</td>\r\n                <td>{ dataSale.user ? dataSale.user.email : '' } - { dataSale.user ? dataSale.user.name : '' }</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button size=\"md\" variant=\"secondary\" onClick={props.onHide}>Cerrar</Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nModalDetailSale.propTypes = {\r\n  config: PropTypes.object.isRequired,\r\n  configStore: PropTypes.object.isRequired,\r\n  dataSale: PropTypes.object.isRequired,\r\n  isDispatch: PropTypes.bool\r\n}\r\n\r\nexport default ModalDetailSale\r\n","import React, { useState, useEffect, useMemo } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Row, Col, Button, Image, Badge, Modal } from 'react-bootstrap';\r\nimport LoadingComponent from \"components/LoadingComponent\";\r\nimport { API_URL, ARRAY_COLORS } from 'utils/constants';\r\nimport axios from 'axios';\r\nimport layoutHelpers from 'shared/layouts/helpers';\r\nimport { Doughnut } from 'react-chartjs-2';\r\nimport Table from 'components/Table';\r\nimport * as moment from 'moment-timezone';\r\nimport { showPriceWithDecimals } from 'utils/functions';\r\nimport { connect } from 'react-redux'\r\nimport ModalDetailSale from \"components/modals/ModalDetailSale\"\r\nimport InputField from 'components/input/InputComponent'\r\nimport { FaSearch, FaOutdent, FaPowerOff } from 'react-icons/fa';\r\nimport { toast } from 'react-toastify';\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport 'styles/components/modalComponents.css'\r\n\r\nlet dataDonuts = {\r\n  labels: [],\r\n\tdatasets: [{\r\n\t\tdata: [],\r\n\t\tbackgroundColor: [],\r\n\t\thoverBackgroundColor: []\r\n\t}]\r\n}\r\n\r\nlet optionsBar = {\r\n  responsive: true,\r\n  maintainAspectRatio: false,\r\n  animation: {\r\n    duration: 0\r\n  },\r\n  hover: {\r\n    animationDuration: 0\r\n  },\r\n  responsiveAnimationDuration: 0,\r\n}\r\n\r\nlet saleColumns = [];\r\n\r\nlet initialAmountsColumns = [];\r\n\r\nfunction CashBoxDetailPage(props) {\r\n  const [objectStates, setObjectStates] = useState({\r\n    isLoading : true,\r\n    cashObject : null,\r\n    redraw : false,\r\n    countType : [],\r\n    sumType : [],\r\n    sales : [],\r\n    isOpenDetailSale : false,\r\n    saleDataOption : {},\r\n    initialAmounts : [],\r\n    isOpenModalInitialAmounts : false\r\n  })\r\n  console.log(\"Aqui manaoo\");\r\n  useEffect(() => {\r\n    fetchData();\r\n    layoutHelpers.toggleCollapsed()\r\n    return () =>{\r\n      layoutHelpers.toggleCollapsed()\r\n    }\r\n  },[])\r\n\r\n  useEffect(() => {\r\n    if(objectStates.countType.length) handleStadistics();\r\n  },[objectStates.countType])\r\n\r\n  saleColumns = useMemo(() => {\r\n    return [\r\n      {\r\n        Header: 'Referencia',\r\n        accessor: 'ref',\r\n      },\r\n      {\r\n        Header: 'Cliente',\r\n        accessor: props1 => props1.client ? [props1.client.name_client+' '+props1.client.data_document] : [],\r\n\r\n      },\r\n      {\r\n        Header: 'Total',\r\n        accessor: 'total',\r\n        Cell: props1 => {\r\n          return (\r\n            <span>\r\n              {props.configGeneral ? props.configGeneral.simbolo_moneda : \"\"}{ showPriceWithDecimals(props.configGeneral,props1.cell.row.original.total) } \r\n            </span>\r\n          )\r\n        }\r\n      },\r\n      {\r\n        Header: 'Pago',\r\n        accessor: 'payment',\r\n        Cell: props1 => {\r\n          return (\r\n            <span>\r\n              {props.configGeneral ? props.configGeneral.simbolo_moneda : \"\"}{ showPriceWithDecimals(props.configGeneral,props1.cell.row.original.payment) } \r\n            </span>\r\n          )\r\n        }\r\n      },\r\n      {\r\n        Header: 'Status',\r\n        accessor: props1 => [props1.status === 2 ? 'En Espera' : 'Pagado'],\r\n        Cell : props1 => {\r\n          const {original} = props1.cell.row\r\n          if(original.status === 2){\r\n            return (<Badge variant=\"danger\" className=\"font-badge\">En espera</Badge>)\r\n          }else{\r\n            return (<Badge variant=\"success\" className=\"font-badge\">Pagado</Badge>)\r\n          }\r\n        }\r\n      },\r\n      {\r\n        Header: 'Fecha',\r\n        accessor: props1 => [moment(props1.createdAt).format('DD-MM-YYYY')],\r\n      },\r\n      {\r\n        Header: 'Acciones',\r\n        Cell: props1 =>{\r\n          const original = props1.cell.row.original\r\n          return (<Button variant=\"primary\" block={true} size=\"sm\" type=\"button\" onClick={() => seeDetails(original)}>Detalle</Button>)\r\n        }\r\n      }\r\n    ]\r\n  },[])\r\n\r\n  initialAmountsColumns = useMemo(() => {\r\n    return [\r\n      {\r\n        Header : \"Usuario\",\r\n        accessor: props1 => [props1.user.name+\" \"+props1.user.rut],\r\n        Cell : props1 => {\r\n          const original = props1.cell.row.original;\r\n          return (\r\n            <span>\r\n              {original.user.name}<br/>Rut: {original.user.rut}\r\n            </span>\r\n          )\r\n        }\r\n      },\r\n      {\r\n        Header : \"Monto\",\r\n        accessor: \"amount\",\r\n        Cell: props1 => {\r\n          const original = props1.cell.row.original;\r\n          return (<Badge variant=\"danger\" className=\"font-badge\">\r\n            {props.configGeneral ? props.configGeneral.simbolo_moneda : \"\"}{showPriceWithDecimals(props.configGeneral,original.amount)}\r\n          </Badge>)\r\n        }\r\n      },\r\n      {\r\n        Header : \"Fecha\",\r\n        accessor: \"fecha\",\r\n      },\r\n    ]\r\n  }, [])\r\n\r\n  const fetchData = async (dateIniParam = false, dateEndParam = false) => {\r\n    try {\r\n      const id = props.match.params.id;\r\n      let objectPost = {\r\n        id,\r\n        dateIni : dateIniParam ? dateIniParam : moment().tz(\"America/Santiago\").format(\"YYYY-MM-DD\"),\r\n        dateEnd : dateEndParam ? dateEndParam : moment().tz(\"America/Santiago\").format(\"YYYY-MM-DD\"),\r\n      }\r\n      let result = await axios.post(API_URL+\"cash_register_detail\",objectPost);\r\n      setObjectStates(currentData => {\r\n        return Object.assign({},currentData, { \r\n          isLoading : false, \r\n          cashObject: result.data.detail,\r\n          countType: result.data.countType,\r\n          sumType: result.data.sumType,\r\n          sales : result.data.sales,\r\n          initialAmounts : result.data.initialAmounts\r\n        })\r\n      })\r\n    } catch (error) {\r\n      props.tokenExpired(error)\r\n    }\r\n  }\r\n  const handleStadistics = () => {\r\n    dataDonuts.labels = []\r\n    dataDonuts.datasets[0].data = []\r\n    dataDonuts.datasets[0].backgroundColor = []\r\n    dataDonuts.datasets[0].hoverBackgroundColor = []\r\n\r\n    objectStates.countType.forEach((v, i) => {\r\n      dataDonuts.labels.push(v.label)\r\n      dataDonuts.datasets[0].data.push(parseFloat(v.total))\r\n      dataDonuts.datasets[0].backgroundColor.push(ARRAY_COLORS[i])\r\n      dataDonuts.datasets[0].hoverBackgroundColor.push(ARRAY_COLORS[i])\r\n    });\r\n\r\n    setObjectStates(currentData => Object.assign({},currentData,{redraw : true}));\r\n    setTimeout(function () {\r\n      setObjectStates(currentData => Object.assign({},currentData,{redraw : false}));\r\n    }, 1500);\r\n  }\r\n\r\n  const seeDetails = data => {\r\n    setObjectStates(currentState => Object.assign({},currentState, { saleDataOption : data, isOpenDetailSale : true}));\r\n  }\r\n\r\n  const onHideModalDetailHandler = () => {\r\n    setObjectStates(currentState => Object.assign({},currentState, {isOpenDetailSale : false}));\r\n  }\r\n\r\n  const searchByFilter = () => {\r\n    let dateIni = document.getElementById(\"dateIni\").value;\r\n    let dateEnd = document.getElementById(\"dateEnd\").value;\r\n    if(!dateIni || !dateEnd){\r\n      toast.info(\"Por favor establezca una fecha de inicio y una fecha tope\");\r\n      return\r\n    }\r\n    setObjectStates(currentState => Object.assign({},currentState,{isLoading : true}));\r\n    fetchData(dateIni,dateEnd)\r\n  }\r\n\r\n  const goBack = () => {\r\n    props.history.goBack();\r\n  }\r\n\r\n  const modalInitialAmountsHandler = () =>{\r\n    setObjectStates(currentState => Object.assign({},currentState, {isOpenModalInitialAmounts : !currentState.isOpenModalInitialAmounts} ))\r\n  }\r\n\r\n  const closeCashBoxHandler = () => {\r\n    confirmAlert({\r\n      customUI: ({ onClose }) => {\r\n        return (\r\n          <div className='custom-ui-edit'>\r\n            <h1>¿Esta seguro?</h1>\r\n            <p className=\"font-alert\">¿desea realmente cerrar esta caja?</p>\r\n            <button className=\"button-alert\"\r\n              onClick={() => {\r\n                confirmCloseCashBoxHandler();\r\n                onClose();\r\n              }}\r\n            >\r\n              Si, Aceptar\r\n            </button>\r\n            <button className=\"button-alert\" onClick={onClose}>No</button>\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  const confirmCloseCashBoxHandler = () => {\r\n    setObjectStates(currentState => Object.assign({},currentState,{isLoading : true}))\r\n    let objectPost = { \r\n      id_cash_register : props.match.params.id,\r\n      state: false\r\n    }\r\n    axios.post(API_URL+\"cash_register_open_close\",objectPost).then(result => {\r\n      toast.success(\"Caja cerrada con éxito\");\r\n      setObjectStates(currentState => Object.assign({},currentState,{isLoading : false}))\r\n      setTimeout(() => {\r\n        goBack()\r\n      },1500)\r\n    }).catch(err => {\r\n      setObjectStates(currentState => Object.assign({},currentState,{isLoading : false}))\r\n      props.tokenExpired(err)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {objectStates.isLoading ? (\r\n        <LoadingComponent />\r\n      ) : (    \r\n        <Row className=\"\">\r\n          <Col sm={5} md={3} lg={3} xl={3} xs={12}>\r\n            <Row>\r\n              <Col>\r\n                <Button block={true} size=\"sm\" type=\"button\" onClick={goBack} variant=\"secondary\">Atras <FaOutdent /></Button>\r\n              </Col>\r\n              {objectStates.cashObject && objectStates.cashObject.status && (\r\n                <Col>\r\n                  <Button block={true} size=\"sm\" type=\"button\" onClick={closeCashBoxHandler} variant=\"danger\">Cerrar Caja <FaPowerOff /></Button>\r\n                </Col>\r\n              )}\r\n            </Row>\r\n            <br/>\r\n            <Row>\r\n              <Col className=\"text-center\">\r\n                <h5 style={{color: 'rgb(180, 55, 33)'}}>CAJA N° {objectStates.cashObject ? objectStates.cashObject.nro_caja : \"\"}</h5>\r\n                <Image src={require('../assets/img/caja_registradora.jpg')} style={{width: '40%'}}/><br/>\r\n                Estado : {objectStates.cashObject ? objectStates.cashObject.status ? (<Badge variant=\"success\" className=\"font_badge\">Abierta</Badge>) : (<Badge variant=\"danger\" className=\"font_badge\">Cerrada</Badge>) : \"\"}\r\n              </Col>\r\n            </Row>\r\n            <br/>\r\n            {objectStates.initialAmounts.length ? (\r\n              <Row>\r\n                <Col className=\"text-center\">\r\n                  {objectStates.initialAmounts.length === 1 ? (\r\n                    <p>Saldo inicial de hoy : \r\n                      <Badge style={{ backgroundColor : \"#767a05\", marginLeft: \"10px\",color: \"white\"}} className=\"font-badge\">\r\n                        {props.configGeneral ? props.configGeneral.simbolo_moneda : \"\"} {showPriceWithDecimals(props.configGeneral,objectStates.initialAmounts[0].amount)}\r\n                      </Badge>\r\n                    </p>\r\n                  ) : (\r\n                    <Button size=\"sm\" variant=\"secondary\" type=\"button\" onClick={modalInitialAmountsHandler}>Ver saldos iniciales en el rango de fecha seleccionado</Button>\r\n                  )}\r\n                </Col>\r\n              </Row>\r\n            ) : \"\"}\r\n            <hr/>\r\n            <Row>\r\n              <Col style={{height: \"200px\"}}>\r\n                <Doughnut data={dataDonuts} redraw={objectStates.redraw} options={optionsBar} />\r\n              </Col>\r\n            </Row>\r\n            <br/><br/>\r\n            <Row>\r\n              <Col>\r\n                <p className=\"text-danger text-center\">*Por defecto se muestran los datos del día actual</p>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n          <Col sm={7} md={9} lg={9} xl={9} xs={12} style={{borderLeft: \"1px solid lightgray\"}}>\r\n            <Row>\r\n              <Col>\r\n              <h5>Efectivo : <Badge variant=\"danger\" className=\"font-badge\">{props.configGeneral ? props.configGeneral.simbolo_moneda : \"\"}{objectStates.sumType.length && objectStates.sumType[0] ?showPriceWithDecimals(props.configGeneral,objectStates.sumType[0].total) : 0 }</Badge> </h5>\r\n              </Col>\r\n              <Col>\r\n                <h5>Tarjeta de Debito : <Badge variant=\"danger\" className=\"font-badge\">{props.configGeneral ? props.configGeneral.simbolo_moneda : \"\"}{objectStates.sumType.length && objectStates.sumType[1] ? showPriceWithDecimals(props.configGeneral,objectStates.sumType[1].total) : 0 }</Badge> </h5>\r\n              </Col>\r\n              <Col>\r\n              <h5>Tarjeta de Crédito : <Badge variant=\"danger\" className=\"font-badge\">{props.configGeneral ? props.configGeneral.simbolo_moneda : \"\"}{objectStates.sumType.length && objectStates.sumType[2] ? showPriceWithDecimals(props.configGeneral,objectStates.sumType[2].total) : 0 }</Badge></h5>\r\n              </Col>\r\n            </Row>\r\n            <hr/>\r\n            <Row>\r\n              <Col>\r\n                <InputField\r\n                  type=\"date\"\r\n                  name=\"dateIni\"\r\n                  required={false}\r\n                  cols=\"col-sm-12 col-md-12 col-lg-12 col-xs-12\"\r\n                  messageErrors={[]}\r\n                  label=\"Fecha desde\"\r\n                  handleChange={() => {}} \r\n                />  \r\n              </Col>\r\n              <Col>\r\n                <InputField\r\n                  type=\"date\"\r\n                  name=\"dateEnd\"\r\n                  required={false}\r\n                  cols=\"col-sm-12 col-md-12 col-lg-12 col-xs-12\"\r\n                  messageErrors={[]}\r\n                  label=\"Fecha hasta\"\r\n                  handleChange={() => {}} \r\n                />\r\n              </Col>\r\n              <Col>\r\n                <br/>\r\n                <Button type=\"button\" size=\"sm\" variant=\"secondary\" onClick={searchByFilter} block={true}>Buscar ventas <FaSearch /></Button>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <Table data={objectStates.sales} columns={saleColumns} />\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n          {props.configGeneral && props.configStore && (\r\n            <ModalDetailSale\r\n              isShow={objectStates.isOpenDetailSale}\r\n              onHide={onHideModalDetailHandler}\r\n              config={props.configGeneral}\r\n              configStore={props.configStore}\r\n              dataSale={objectStates.saleDataOption}\r\n            />\r\n          )}\r\n          <Modal\r\n            show={objectStates.isOpenModalInitialAmounts}\r\n            onHide={modalInitialAmountsHandler}\r\n            size=\"xl\"\r\n            aria-labelledby=\"contained-modal-title-vcenter\"\r\n            centered\r\n          >\r\n            <Modal.Header closeButton className=\"header_dark\">\r\n              <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                Montos iniciales por fechas\r\n              </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n              <Table data={objectStates.initialAmounts} columns={initialAmountsColumns} />\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <Button variant=\"danger\" type=\"button\" onClick={modalInitialAmountsHandler}>Cerrar</Button>\r\n            </Modal.Footer>\r\n          </Modal>\r\n        </Row>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nCashBoxDetailPage.propTypes = {\r\n\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n  return {\r\n    configGeneral : state.configs.config,\r\n    configStore : state.configs.configStore,\r\n    id_branch_office : state.enterpriseSucursal.id_branch_office\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,{})(CashBoxDetailPage)\r\n\r\n"],"sourceRoot":""}