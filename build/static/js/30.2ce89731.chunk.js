(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[30],{613:function(e,t,a){"use strict";var n=a(2),r=a(4),c=a(6),o=a.n(c),l=a(1),i=a.n(l),s=(a(307),a(7)),u=i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.placement,l=e.className,u=e.style,d=e.children,p=e.arrowProps,f=(e.popper,e.show,Object(r.a)(e,["bsPrefix","placement","className","style","children","arrowProps","popper","show"]));a=Object(s.a)(a,"tooltip");var m=((null==c?void 0:c.split("-"))||[])[0];return i.a.createElement("div",Object(n.a)({ref:t,style:u,role:"tooltip","x-placement":m,className:o()(l,a,"bs-tooltip-"+m)},f),i.a.createElement("div",Object(n.a)({className:"arrow"},p)),i.a.createElement("div",{className:a+"-inner"},d))}));u.defaultProps={placement:"right"},u.displayName="Tooltip",t.a=u},614:function(e,t,a){"use strict";var n=a(2),r=a(4),c=a(19),o=a(202),l=a(1),i=a.n(l),s=a(621),u=a(200),d=(a(97),a(63)),p=a(6),f=a.n(p),m=a(3),b=a.n(m),g=a(42),v=a.n(g),O=a(121),E=a(56),j=a(207),h=a(208),y=a(209),_=a(624),w=a(203),C=i.a.forwardRef((function(e,t){var a=e.flip,c=e.offset,o=e.placement,s=e.containerPadding,u=void 0===s?5:s,d=e.popperConfig,p=void 0===d?{}:d,f=e.transition,m=Object(O.a)(),b=m[0],g=m[1],j=Object(O.a)(),C=j[0],x=j[1],k=Object(E.a)(g,t),N=Object(_.a)(e.container),P=Object(_.a)(e.target),S=Object(l.useState)(!e.show),R=S[0],T=S[1],q=Object(h.a)(P,b,Object(w.a)({placement:o,enableEvents:!!e.show,containerPadding:u||5,flip:a,offset:c,arrowElement:C,popperConfig:p})),F=q.styles,D=q.attributes,I=Object(r.a)(q,["styles","attributes"]);e.show?R&&T(!1):e.transition||R||T(!0);var B=e.show||f&&!R;if(Object(y.a)(b,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!B)return null;var H=e.children(Object(n.a)({},I,{show:!!e.show,props:Object(n.a)({},D.popper,{style:F.popper,ref:k}),arrowProps:Object(n.a)({},D.arrow,{style:F.arrow,ref:x})}));if(f){var M=e.onExit,z=e.onExiting,A=e.onEnter,G=e.onEntering,L=e.onEntered;H=i.a.createElement(f,{in:e.show,appear:!0,onExit:M,onExiting:z,onExited:function(){T(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:A,onEntering:G,onEntered:L},H)}return N?v.a.createPortal(H,N):null}));C.displayName="Overlay",C.propTypes={show:b.a.bool,placement:b.a.oneOf(j.b),target:b.a.any,container:b.a.any,flip:b.a.bool,children:b.a.func.isRequired,containerPadding:b.a.number,popperConfig:b.a.object,rootClose:b.a.bool,rootCloseEvent:b.a.oneOf(["click","mousedown"]),rootCloseDisabled:b.a.bool,onHide:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r;return e.rootClose?(r=b.a.func).isRequired.apply(r,[e].concat(a)):b.a.func.apply(b.a,[e].concat(a))},transition:b.a.elementType,onEnter:b.a.func,onEntering:b.a.func,onEntered:b.a.func,onExit:b.a.func,onExiting:b.a.func,onExited:b.a.func};var x=C,k=a(205),N=a(616),P={transition:N.a,rootClose:!1,show:!1,placement:"top"};function S(e){var t=e.children,a=e.transition,c=e.popperConfig,o=void 0===c?{}:c,s=Object(r.a)(e,["children","transition","popperConfig"]),d=Object(l.useRef)({}),p=Object(k.a)(),m=p[0],b=p[1],g=!0===a?N.a:a||null;return i.a.createElement(x,Object(n.a)({},s,{ref:m,popperConfig:Object(n.a)({},o,{modifiers:b.concat(o.modifiers||[])}),transition:g}),(function(e){var c,o=e.props,l=e.arrowProps,s=e.show,p=e.update,m=(e.forceUpdate,e.placement),b=e.state,g=Object(r.a)(e,["props","arrowProps","show","update","forceUpdate","placement","state"]);!function(e,t){var a=e.ref,n=t.ref;e.ref=a.__wrapped||(a.__wrapped=function(e){return a(Object(u.a)(e))}),t.ref=n.__wrapped||(n.__wrapped=function(e){return n(Object(u.a)(e))})}(o,l);var v=Object.assign(d.current,{state:b,scheduleUpdate:p,placement:m,outOfBoundaries:(null==b||null==(c=b.modifiersData.hide)?void 0:c.isReferenceHidden)||!1});return"function"===typeof t?t(Object(n.a)({},g,{},o,{placement:m,show:s,popper:v,arrowProps:l})):i.a.cloneElement(t,Object(n.a)({},g,{},o,{placement:m,arrowProps:l,popper:v,className:f()(t.props.className,!a&&s&&"show"),style:Object(n.a)({},t.props.style,{},o.style)}))}))}S.defaultProps=P;var R=S,T=function(e){function t(){return e.apply(this,arguments)||this}return Object(c.a)(t,e),t.prototype.render=function(){return this.props.children},t}(i.a.Component);function q(e,t,a){var n=t[0],r=n.currentTarget,c=n.relatedTarget||n.nativeEvent[a];c&&c===r||Object(o.a)(r,c)||e.apply(void 0,t)}function F(e){var t=e.trigger,a=e.overlay,c=e.children,o=e.popperConfig,p=void 0===o?{}:o,f=e.show,m=e.defaultShow,b=void 0!==m&&m,g=e.onToggle,v=e.delay,O=e.placement,E=e.flip,j=void 0===E?O&&-1!==O.indexOf("auto"):E,h=Object(r.a)(e,["trigger","overlay","children","popperConfig","show","defaultShow","onToggle","delay","placement","flip"]),y=Object(l.useRef)(null),_=Object(s.a)(),w=Object(l.useRef)(""),C=Object(d.b)(f,b,g),x=C[0],k=C[1],N=function(e){return e&&"object"===typeof e?e:{show:e,hide:e}}(v),P="function"!==typeof c?i.a.Children.only(c).props:{},S=P.onFocus,F=P.onBlur,D=P.onClick,I=Object(l.useCallback)((function(){return Object(u.a)(y.current)}),[]),B=Object(l.useCallback)((function(){_.clear(),w.current="show",N.show?_.set((function(){"show"===w.current&&k(!0)}),N.show):k(!0)}),[N.show,k,_]),H=Object(l.useCallback)((function(){_.clear(),w.current="hide",N.hide?_.set((function(){"hide"===w.current&&k(!1)}),N.hide):k(!1)}),[N.hide,k,_]),M=Object(l.useCallback)((function(){B();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];null==S||S.apply(void 0,t)}),[B,S]),z=Object(l.useCallback)((function(){H();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];null==F||F.apply(void 0,t)}),[H,F]),A=Object(l.useCallback)((function(){k(!x),D&&D.apply(void 0,arguments)}),[D,k,x]),G=Object(l.useCallback)((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];q(B,t,"fromElement")}),[B]),L=Object(l.useCallback)((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];q(H,t,"toElement")}),[H]),J=null==t?[]:[].concat(t),U={};return-1!==J.indexOf("click")&&(U.onClick=A),-1!==J.indexOf("focus")&&(U.onFocus=M,U.onBlur=z),-1!==J.indexOf("hover")&&(U.onMouseOver=G,U.onMouseOut=L),i.a.createElement(i.a.Fragment,null,"function"===typeof c?c(Object(n.a)({},U,{ref:y})):i.a.createElement(T,{ref:y},Object(l.cloneElement)(c,U)),i.a.createElement(R,Object(n.a)({},h,{show:x,onHide:H,flip:j,placement:O,popperConfig:p,target:I}),a))}F.defaultProps={defaultShow:!1,trigger:["hover","focus"]};t.a=F},616:function(e,t,a){"use strict";var n,r=a(2),c=a(4),o=a(6),l=a.n(o),i=a(215),s=a(1),u=a.n(s),d=a(92),p=a(216),f=((n={})[d.b]="show",n[d.a]="show",n),m=u.a.forwardRef((function(e,t){var a=e.className,n=e.children,o=Object(c.a)(e,["className","children"]),m=Object(s.useCallback)((function(e){Object(p.a)(e),o.onEnter&&o.onEnter(e)}),[o]);return u.a.createElement(d.e,Object(r.a)({ref:t,addEndListener:i.a},o,{onEnter:m}),(function(e,t){return u.a.cloneElement(n,Object(r.a)({},t,{className:l()("fade",a,n.props.className,f[e])}))}))}));m.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},m.displayName="Fade",t.a=m},621:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1),r=a(211),c=a(650),o=Math.pow(2,31)-1;function l(){var e=Object(r.a)(),t=Object(n.useRef)();return Object(c.a)((function(){return clearTimeout(t.current)})),Object(n.useMemo)((function(){var a=function(){return clearTimeout(t.current)};return{set:function(n,r){void 0===r&&(r=0),e()&&(a(),r<=o?t.current=setTimeout(n,r):function e(t,a,n){var r=n-Date.now();t.current=r<=o?setTimeout(a,r):setTimeout((function(){return e(t,a,n)}),o)}(t,n,Date.now()+r))},clear:a}}),[])}},624:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(122),r=a(1),c=function(e){var t;return"undefined"===typeof document?null:null==e?Object(n.a)().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),(null==(t=e)?void 0:t.nodeType)&&e||null)};function o(e,t){var a=Object(r.useState)((function(){return c(e)})),n=a[0],o=a[1];if(!n){var l=c(e);l&&o(l)}return Object(r.useEffect)((function(){t&&n&&t(n)}),[t,n]),Object(r.useEffect)((function(){var t=c(e);t!==n&&o(t)}),[e,n]),n}},650:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1);function r(e){var t=function(e){var t=Object(n.useRef)(e);return t.current=e,t}(e);Object(n.useEffect)((function(){return function(){return t.current()}}),[])}},653:function(e,t,a){"use strict";var n=a(2),r=a(1),c=a.n(r),o=a(6),l=a.n(o);t.a=function(e){return c.a.forwardRef((function(t,a){return c.a.createElement("div",Object(n.a)({},t,{ref:a,className:l()(t.className,e)}))}))}},660:function(e,t,a){"use strict";var n=a(2),r=a(4),c=a(6),o=a.n(c),l=a(1),i=a.n(l),s=a(7),u=a(64),d=a(653),p=a(213),f=i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,l=e.variant,u=e.as,d=void 0===u?"img":u,p=Object(r.a)(e,["bsPrefix","className","variant","as"]),f=Object(s.a)(a,"card-img");return i.a.createElement(d,Object(n.a)({ref:t,className:o()(l?f+"-"+l:f,c)},p))}));f.displayName="CardImg",f.defaultProps={variant:null};var m=f,b=Object(d.a)("h5"),g=Object(d.a)("h6"),v=Object(u.a)("card-body"),O=Object(u.a)("card-title",{Component:b}),E=Object(u.a)("card-subtitle",{Component:g}),j=Object(u.a)("card-link",{Component:"a"}),h=Object(u.a)("card-text",{Component:"p"}),y=Object(u.a)("card-header"),_=Object(u.a)("card-footer"),w=Object(u.a)("card-img-overlay"),C=i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,u=e.bg,d=e.text,f=e.border,m=e.body,b=e.children,g=e.as,O=void 0===g?"div":g,E=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),j=Object(s.a)(a,"card"),h=Object(l.useMemo)((function(){return{cardHeaderBsPrefix:j+"-header"}}),[j]);return i.a.createElement(p.a.Provider,{value:h},i.a.createElement(O,Object(n.a)({ref:t},E,{className:o()(c,j,u&&"bg-"+u,d&&"text-"+d,f&&"border-"+f)}),m?i.a.createElement(v,null,b):b))}));C.displayName="Card",C.defaultProps={body:!1},C.Img=m,C.Title=O,C.Subtitle=E,C.Body=v,C.Link=j,C.Text=h,C.Header=y,C.Footer=_,C.ImgOverlay=w;t.a=C},688:function(e,t,a){},792:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a.n(n),c=a(47),o=a(18),l=a(34),i=a(15),s=a(1),u=a.n(s),d=a(607),p=a(608),f=a(598),m=a(197),b=a(46),g=a(301),v=a(660),O=a(31),E=a(28),j=a(88),h=a(9),y=a.n(h),_=a(8),w=a(10),C=(a(688),a(85)),x=a(614),k=a(613),N=a(17),P=a(77),S=function(e){var t=Object(s.useState)(!0),a=Object(i.a)(t,2),n=a[0],E=a[1],h=Object(s.useState)({simbolo_moneda:"",active_price_decimals:"",close_session:"",actividad_economica:"",giro:"",rut_legal_representative:"",clave_login_sii:"",clave_sii:"",file:""}),S=Object(i.a)(h,2),R=S[0],T=S[1],q=Object(s.useState)(!1),F=Object(i.a)(q,2),D=F[0],I=F[1],B=Object(s.useState)(!1),H=Object(i.a)(B,2),M=H[0],z=H[1],A=Object(s.useState)(""),G=Object(i.a)(A,2),L=G[0],J=G[1];Object(s.useEffect)((function(){e.match.params.id&&U()}),[e.id_enterprise]);var U=function(){y.a.get(w.b+"config_general_update").then((function(e){T((function(t){return Object.assign({},t,{simbolo_moneda:e.data.simbolo_moneda,active_price_decimals:e.data.active_price_decimals,close_session:e.data.close_session,actividad_economica:e.data.actividad_economica,giro:e.data.giro,rut_legal_representative:e.data.rut_legal_representative,clave_sii:e.data.clave_sii,clave_login_sii:e.data.clave_login_sii,logo:e.data.logo})})),z(!0),E(!1)})).catch((function(t){E(!1),e.tokenExpired(t)}))},V=function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"rut_legal_representative"===t.target.name?T(Object(o.a)(Object(o.a)({},R),{},Object(c.a)({},t.target.name,Object(N.b)(t.target.value)))):T(Object(o.a)(Object(o.a)({},R),{},Object(c.a)({},t.target.name,t.target.value)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement(p.a,null,u.a.createElement(u.a.Fragment,null,n?u.a.createElement(P.a,null):u.a.createElement(f.a,{className:""},u.a.createElement(m.a,{sm:12,md:12,lg:12},u.a.createElement("h4",{className:"title_principal"},"Formulario de Configuraci\xf3n General"),u.a.createElement("br",null),u.a.createElement(b.a,{onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),!1===a.checkValidity())return t.stopPropagation(),void I(!0);var n=new FormData;Object.keys(R).forEach((function(e,t){"file"===e&&""!==R[e]?n.append("logo",R[e]):n.append(e,R[e])})),E(!0),M?y.a.put(w.b+"config_general/"+e.match.params.id,n).then((function(t){_.b.success("Configuraci\xf3n General Modificada"),localStorage.setItem("configGeneral",JSON.stringify(t.data)),Object(C.b)(t.data),setTimeout((function(){e.history.push("/config/config_general")}),1500)})).catch((function(t){E(!1),e.tokenExpired(t)})):y.a.post(w.b+"config_general",n).then((function(t){_.b.success("Configuraci\xf3n Guardada"),localStorage.setItem("configGeneral",JSON.stringify(t.data)),setTimeout((function(){e.history.push("/config/config_general")}),1500)})).catch((function(t){E(!1),e.tokenExpired(t)}))},noValidate:!0,validated:D,className:""},u.a.createElement(f.a,{className:"align-items-center"},u.a.createElement(m.a,null,u.a.createElement(g.a,{block:!0,size:"sm",type:"button",variant:"primary",onClick:function(){document.getElementById("file_input").click()}},"Logo Empresa ",u.a.createElement(O.s,null)),u.a.createElement("input",{type:"file",id:"file_input",style:{display:"none"},onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onload=function(e){J(u.a.createElement(d.a,{src:e.target.result,id:"img_show",style:{width:"160px",height:"160px",objectFit:"cover"},roundedCircle:!0})),T(Object(o.a)(Object(o.a)({},R),{},{file:t}))},a.readAsDataURL(t)}})),u.a.createElement(m.a,{className:"text-center"},L),u.a.createElement(m.a,null,L&&u.a.createElement(g.a,{block:!0,variant:"dark",size:"sm",onClick:function(){J(""),T(Object(o.a)(Object(o.a)({},R),{},{file:""}))},type:"button"},u.a.createElement(O.O,null)))),u.a.createElement("br",null),u.a.createElement("br",null),u.a.createElement(f.a,null,u.a.createElement(m.a,null,u.a.createElement(v.a,{bg:"dark"},u.a.createElement(v.a.Header,{style:{color:"white"}},u.a.createElement("h5",null,"Datos requeridos para realizar la sincronizaci\xf3n con el SII")),u.a.createElement(v.a.Body,{style:{backgroundColor:"white"}},u.a.createElement(f.a,null,u.a.createElement(m.a,{sm:4,md:4,lg:4},u.a.createElement(x.a,{placement:"top",overlay:u.a.createElement(k.a,{id:"tooltip-disabled4"},"Rut del representante legal de la empresa en el Sii")},u.a.createElement(f.a,null,u.a.createElement(j.a,{type:"text",label:"Rut Representante Legal",name:"rut_legal_representative",required:!1,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:R.rut_legal_representative,handleChange:V})))),u.a.createElement(m.a,{sm:4,md:4,lg:4},u.a.createElement(x.a,{placement:"top",overlay:u.a.createElement(k.a,{id:"tooltip-disabled5"},"Clave del representate legal de la empresa en el Sii")},u.a.createElement(f.a,null,u.a.createElement(j.a,{type:"text",label:"Clave Sii",name:"clave_login_sii",required:!1,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:R.clave_login_sii,handleChange:V})))),u.a.createElement(m.a,{sm:4,md:4,lg:4},u.a.createElement(x.a,{placement:"top",overlay:u.a.createElement(k.a,{id:"tooltip-disabled6"},"Firma del representate legal en el Sii")},u.a.createElement(f.a,null,u.a.createElement(j.a,{type:"text",label:"Firma Sii",name:"clave_sii",required:!1,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:R.clave_sii,handleChange:V}))))))))),u.a.createElement("br",null),u.a.createElement(f.a,{className:"justify-content-center"},u.a.createElement(m.a,{sm:4,md:4,lg:4},u.a.createElement(g.a,{size:"sm",type:"submit",variant:"danger",block:"true"},"Enviar ",u.a.createElement(O.g,null))),u.a.createElement(m.a,{sm:4,md:4,lg:4},u.a.createElement(g.a,{size:"sm",type:"button",variant:"secondary",block:"true",onClick:function(){e.history.replace("/config/config_general")}},"Ir a la configuraci\xf3n ",u.a.createElement(O.i,null)))))))))};S.defaultProps={inputSymbol:{type:"text",required:!0,name:"simbolo_moneda",label:"Simbolo de Moneda",messageErrors:["Requerido*"],cols:"col-sm-12 col-md-12 col-lg-12 col-xs-12"},inputPriceDecimals:{type:"select",required:!0,name:"active_price_decimals",label:"Estado de Precios Decimales",messageErrors:["Requerido*"],cols:"col-sm-12 col-md-12 col-lg-12 col-xs-12"},inputSession:{type:"select",name:"close_session",label:"Estado de Cerrar Sesi\xf3n",messageErrors:["Requerido*"],required:!0,cols:"col-sm-12 col-md-12 col-lg-12 col-xs-12"}},t.default=Object(E.b)((function(e){return{id_branch_office:e.enterpriseSucursal.id_branch_office,id_enterprise:e.enterpriseSucursal.id_enterprise}}),(function(){return{setConfig:C.b}}))(S)}}]);
//# sourceMappingURL=30.2ce89731.chunk.js.map