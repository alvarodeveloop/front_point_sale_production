(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[41],{611:function(e,a,t){"use strict";var r=t(47),n=t(119),c=t(1),s=t.n(c),l=t(120),o=t(622),i=t(623),m=t(301);function u(){var e=Object(n.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .table_responsive_eddit{\n    overflow-x: auto;\n  }\n"]);return u=function(){return e},e}var p=l.a.div(u());function d(e){var a=e.column,t=a.filterValue,r=a.preFilteredRows,n=a.setFilter,c=r.length;return s.a.createElement("input",{value:t||"",onChange:function(e){n(e.target.value||void 0)},placeholder:"Buscar en ".concat(c," registros..."),className:"inputPageFilter"})}function g(e,a,t){return Object(i.a)(e,t,{keys:[function(e){return e.values[a]}]})}function b(e){var a=e.columns,t=e.data,n=e.menuTop,c=e.headerColor,l=e.headerFontColor,i=e.pageSizeHandler,u=s.a.useMemo((function(){return{fuzzyText:g,text:function(e,a,t){return e.filter((function(e){var r=e.values[a];return void 0===r||String(r).toLowerCase().startsWith(String(t).toLowerCase())}))}}}),[]),p=s.a.useMemo((function(){return{Filter:d}}),[]),b=Object(o.useTable)({columns:a,data:t,defaultColumn:p,filterTypes:u,initialState:{pageIndex:0,pageSize:i[0]}},o.useFilters,o.useSortBy,o.usePagination),E=b.getTableProps,f=b.getTableBodyProps,v=b.headerGroups,j=b.page,O=b.prepareRow,h=b.canPreviousPage,y=b.canNextPage,k=b.pageOptions,C=b.pageCount,_=b.gotoPage,F=b.nextPage,H=b.previousPage,x=b.setPageSize,S=b.state,M=S.pageIndex,w=S.pageSize;return s.a.createElement("div",{className:"table_responsive_eddit"},n?s.a.createElement("div",{className:"pagination"},s.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return _(0)},disabled:!h},"<<")," ",s.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return H()},disabled:!h},"<")," ",s.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return F()},disabled:!y},">")," ",s.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return _(C-1)},disabled:!y},">>")," ",s.a.createElement("span",null,"P\xe1gina"," ",s.a.createElement("strong",null,M+1," de ",k.length)," "),s.a.createElement("span",{className:"ml-3"},"| ",s.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),s.a.createElement("input",Object(r.a)({type:"number",defaultValue:M+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;_(a)},className:"inputPage"},"onChange",(function(e){e.target.value>k.length&&(e.target.value=1)}))))," ",s.a.createElement("select",{value:w,onChange:function(e){x(Number(e.target.value))},className:"inputPage"},i.map((function(e){return s.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",s.a.createElement("table",Object.assign({},E(),{className:"table table-bordered"}),s.a.createElement("thead",null,v.map((function(e){return s.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return s.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{style:{backgroundColor:c||"rgb(218, 236, 242)",color:l||"black"}}),e.render("Header"),s.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),s.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),s.a.createElement("tbody",Object.assign({},f(),{className:"text-center"}),j.map((function(e,a){return O(e)||s.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return s.a.createElement("td",Object.assign({style:{position:"relative"}},e.getCellProps()),e.render("Cell"))})))})))),s.a.createElement("div",{className:"pagination"},s.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return _(0)},disabled:!h},"<<")," ",s.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return H()},disabled:!h},"<")," ",s.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return F()},disabled:!y},">")," ",s.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return _(C-1)},disabled:!y},">>")," ",s.a.createElement("span",null,"P\xe1gina"," ",s.a.createElement("strong",null,M+1," de ",k.length)," "),s.a.createElement("span",{className:"ml-3"},"| ",s.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),s.a.createElement("input",Object(r.a)({type:"number",defaultValue:M+1,onChange:function(e){var a=e.target.value?Number(e.target.value)-1:0;_(a)},className:"inputPage"},"onChange",(function(e){e.target.value>k.length&&(e.target.value=1)}))))," ",s.a.createElement("select",{value:w,onChange:function(e){x(Number(e.target.value))},className:"inputPage"},i.map((function(e){return s.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}g.autoRemove=function(e){return!e};a.a=function(e){var a=e.data,t=e.columns,r=e.menuTop,n=e.headerColor,c=e.headerFontColor,l=e.pageSizeHandler;return l=l||[10,20,30,40,50],s.a.createElement(p,null,s.a.createElement(b,{pageSizeHandler:l,data:a,columns:t,menuTop:r,headerFontColor:c,headerColor:n}))}},668:function(e,a){},673:function(e,a){},674:function(e,a){},675:function(e,a,t){"use strict";var r=t(1),n=t.n(r),c=t(611),s=t(157),l=t(31),o=t(644),i=t.n(o),m=t(10),u=t(301),p=t(17),d=t(9),g=t.n(d),b=t(8),E=[];a.a=function(e){Object(r.useEffect)((function(){return function(){E=[]}}),[]),Object(r.useMemo)((function(){E=[{Header:"Nombre",accessor:"name"},{Header:"Descripci\xf3n",accessor:"description"},{Header:"Monto",accessor:function(e){return[Object(p.a)(e.amount,2,",",".")]}},{Header:e.isAccount?"Centro de Costros":"Cuenta",accessor:function(a){return e.isReport?e.isAccount?[a.center_coste]:[a.account_name]:e.isAccount?[a.centerCoste.name]:[a.account.account_name]}},{Header:"Fecha de Ejecuci\xf3n",accessor:function(e){return e.date_execution?[s(e.date_execution).format("DD-MM-YYYY")]:["No posee"]}},{Header:"Es recurrente",accessor:function(e){return[e.is_recurrent?"Si":"No"]}},{Header:"Documento1",Cell:function(e){var t=e.cell.row.original;return t.document_1?n.a.createElement(u.a,{size:"sm",variant:"link",onClick:function(){return a(t.document_1)}},"Descargar ",n.a.createElement(l.h,null)," "):"No posee"}},{Header:"Documento2",Cell:function(e){var t=e.cell.row.original;return t.document_2?n.a.createElement(u.a,{size:"sm",variant:"link",onClick:function(){return a(t.document_2)}},"Descargar ",n.a.createElement(l.h,null)," "):"No posee"}}]}),[]);var a=function(e){g.a.get(m.b+"flow_cash_doc_download/"+e,{responseType:"blob"}).then((function(a){i.a.saveAs(a.data,e)})).catch((function(e){e.response?b.b.error(e.response.data.message):b.b.error("Error, contacte con soporte")}))};return n.a.createElement(c.a,{data:e.data,columns:E})}},837:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t.n(r),c=t(608),s=t(598),l=t(197),o=t(655),i=t(656),m=t(15),u=t(301),p=t(609),d=t(832),g=t(31),b=t(9),E=t.n(b),f=t(88),v=t(10),j=t(8),O=t(17),h=t(157),y=t(644),k=t(661),C=t(611),_=t(3),F=t.n(_),H=t(614),x=t(613),S=function(e){return n.a.createElement(H.a,{placement:e.location?e.location:"top",overlay:n.a.createElement(x.a,{id:"tooltip-disabled"},e.title)},e.children)};S.propsTypes={location:F.a.string,title:F.a.string.isRequired,children:F.a.object.isRequired};var M=S,w=t(675),N=t(77),z=[],D=function(e){var a=Object(r.useState)(null),t=Object(m.a)(a,2),b=t[0],_=t[1],F=Object(r.useState)(null),H=Object(m.a)(F,2),x=H[0],S=H[1],D=Object(r.useState)([]),P=Object(m.a)(D,2),T=P[0],R=P[1],A=Object(r.useState)(""),Y=Object(m.a)(A,2),I=Y[0],B=Y[1],K=Object(r.useState)(!1),q=Object(m.a)(K,2),L=q[0],V=q[1],G=Object(r.useState)(!0),J=Object(m.a)(G,2),U=J[0],W=J[1];Object(r.useEffect)((function(){return X(),function(){z=[]}}),[]),Object(r.useMemo)((function(){z=[{Header:"CUENTA",accessor:"account_name"},{Header:"MES 1",accessor:"mes1",Cell:function(e){var a=e.cell.row.original;if(a.mes1>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,1)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes1,2,",","."))))}return Object(O.a)(a.mes1,2,",",".")}},{Header:"MES 2",accessor:"mes2",Cell:function(e){var a=e.cell.row.original;if(a.mes2>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,2)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes2,2,",","."))))}return Object(O.a)(a.mes2,2,",",".")}},{Header:"MES 3",accessor:"mes3",Cell:function(e){var a=e.cell.row.original;if(a.mes3>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,3)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes3,2,",","."))))}return Object(O.a)(a.mes3,2,",",".")}},{Header:"MES 4",accessor:"mes4",Cell:function(e){var a=e.cell.row.original;if(a.mes4>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,4)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes4,2,",","."))))}return Object(O.a)(a.mes4,2,",",".")}},{Header:"MES 5",accessor:"mes5",Cell:function(e){var a=e.cell.row.original;if(a.mes5>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,5)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes5,2,",","."))))}return Object(O.a)(a.mes5,2,",",".")}},{Header:"MES 6",accessor:"mes6",Cell:function(e){var a=e.cell.row.original;if(a.mes6>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,6)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes6,2,",","."))))}return Object(O.a)(a.mes6,2,",",".")}},{Header:"MES 7",accessor:"mes7",Cell:function(e){var a=e.cell.row.original;if(a.mes7>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,7)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes7,2,",","."))))}return Object(O.a)(a.mes7,2,",",".")}},{Header:"MES 8",accessor:"mes8",Cell:function(e){var a=e.cell.row.original;if(a.mes8>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,8)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes8,2,",","."))))}return Object(O.a)(a.mes8,2,",",".")}},{Header:"MES 9",accessor:"mes9",Cell:function(e){var a=e.cell.row.original;if(a.mes9>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,9)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes9,2,",","."))))}return Object(O.a)(a.mes9,2,",",".")}},{Header:"MES 10",accessor:"mes10",Cell:function(e){var a=e.cell.row.original;if(a.mes10>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,10)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes10,2,",","."))))}return Object(O.a)(a.mes10,2,",",".")}},{Header:"MES 11",accessor:"mes11",Cell:function(e){var a=e.cell.row.original;if(a.mes11>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,11)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes11,2,",","."))))}return Object(O.a)(a.mes11,2,",",".")}},{Header:"MES 12",accessor:"mes12",Cell:function(e){var a=e.cell.row.original;if(a.mes12>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,12)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes12,2,",","."))))}return Object(O.a)(a.mes12,2,",",".")}},{Header:"TOTALES",accessor:"total",Cell:function(e){return n.a.createElement(p.a,{style:{backgroundColor:"rgb(36, 49, 94)",color:"white"}},Object(O.a)(e.cell.row.original.total,2,",","."))}}]}),[]);var Q=function(e,a){var t=document.getElementById("year").value,r=v.b+"flow_cash_data_detail_account_earning_expensive/"+e.id+"/"+a+"/"+t;j.b.info("Cargando datos, espere mientras abre la modal"),W(!0),E.a.get(r).then((function(e){S(e.data),$(),W(!1)})).catch((function(e){W(!1),e.response?j.b.error(e.response.data.message):j.b.error("Error, contacte con soporte")}))},X=function(){E.a.get(v.b+"flow_cash_get_years").then((function(e){R(e.data),e.data.length>0&&(B(e.data[0].year),Z(e.data[0].year)),W(!1)})).catch((function(e){W(!1),e.response?j.b.error(e.response.data.message):(console.log(e),j.b.error("Error, contacte con soporte"))}))},Z=function(e){W(!0),E.a.get(v.b+"flow_cash_data_detail_account/"+e).then((function(e){_(e.data),W(!1)})).catch((function(e){W(!1),e.response?j.b.error(e.response.data.message):(console.log(e),j.b.error("Error, contacte con soporte"))}))},$=function(){V(!L)};return n.a.createElement(n.a.Fragment,null,U?n.a.createElement(c.a,null,n.a.createElement(N.a,null)):n.a.createElement(c.a,{className:"containerDiv"},n.a.createElement("br",null),n.a.createElement(s.a,{className:"justify-content-center"},n.a.createElement(f.a,Object.assign({},e.inputSelect,{handleChange:function(e){var a=e.target.value;B(a),Z(a)},value:I}),n.a.createElement("option",{value:""},"--Seleccione--"),T.map((function(e,a){return n.a.createElement("option",{key:a,value:e.year},e.year)}))),n.a.createElement(l.a,{sm:4,md:4,lg:4,xs:6},n.a.createElement("br",null),n.a.createElement(u.a,{size:"sm",variant:"success",block:!0,onClick:function(){if(b){var e=k.utils.book_new(),a=[["","Mes1","Mes2","Mes3","Mes4","Mes5","Mes6","Mes7","Mes8","Mes9","Mes10","Mes11","Mes12","Totales"]];e.Props={Title:"Reporte de Detallado de Cuentas",Subject:"Exportaci\xf3n de Data",Author:"Aidy tecnology",CreatedDate:h().format("YYYY-MM-DD")},e.SheetNames.push("Reporte Detallado"),a.push(["Total Ingresos"].concat(b.total_ingreso.map((function(e){return Object(O.a)(e,2,",",".")})))),b.ingresos.forEach((function(e,t){a.push([e.account_name,Object(O.a)(parseFloat(e.mes1),2,",","."),Object(O.a)(parseFloat(e.mes2),2,",","."),Object(O.a)(parseFloat(e.mes3),2,",","."),Object(O.a)(parseFloat(e.mes4),2,",","."),Object(O.a)(parseFloat(e.mes5),2,",","."),Object(O.a)(parseFloat(e.mes6),2,",","."),Object(O.a)(parseFloat(e.mes7),2,",","."),Object(O.a)(parseFloat(e.mes8),2,",","."),Object(O.a)(parseFloat(e.mes9),2,",","."),Object(O.a)(parseFloat(e.mes10),2,",","."),Object(O.a)(parseFloat(e.mes11),2,",","."),Object(O.a)(parseFloat(e.mes12),2,",","."),Object(O.a)(parseFloat(e.total),2,",",".")])})),a.push([]),a.push(["Total Egresos"].concat(b.total_egreso.map((function(e){return Object(O.a)(e,2,",",".")})))),b.egresos.forEach((function(e,t){a.push([e.account_name,Object(O.a)(parseFloat(e.mes1),2,",","."),Object(O.a)(parseFloat(e.mes2),2,",","."),Object(O.a)(parseFloat(e.mes3),2,",","."),Object(O.a)(parseFloat(e.mes4),2,",","."),Object(O.a)(parseFloat(e.mes5),2,",","."),Object(O.a)(parseFloat(e.mes6),2,",","."),Object(O.a)(parseFloat(e.mes7),2,",","."),Object(O.a)(parseFloat(e.mes8),2,",","."),Object(O.a)(parseFloat(e.mes9),2,",","."),Object(O.a)(parseFloat(e.mes10),2,",","."),Object(O.a)(parseFloat(e.mes11),2,",","."),Object(O.a)(parseFloat(e.mes12),2,",","."),Object(O.a)(parseFloat(e.total),2,",",".")])})),a.push([]);var t=b.ingreso_menos_egreso.map((function(e){return Object(O.a)(e,2,",",".")}));t.unshift("Ingresos - Egresos");var r=b.total_final.map((function(e){return Object(O.a)(e,2,",",".")}));r.unshift("Saldo Final de Caja"),a.push(t),a.push(r);var n=k.utils.aoa_to_sheet(a);e.Sheets["Reporte Detallado"]=n;var c=k.write(e,{bookType:"xlsx",type:"binary"}),s=Object(O.e)(c);Object(y.saveAs)(new Blob([s],{type:"application/octet-stream"}),"Reporte Detallado de Cuentas"+h().format("DD-MM-YYYY")+".xlsx")}else j.b.error("Error, no hay datos para realizar el excel")}},"Exportar a Excel ",n.a.createElement(g.C,null)))),n.a.createElement("hr",null),b?n.a.createElement(s.a,null,n.a.createElement(l.a,{sm:12,md:12,lg:12},n.a.createElement(s.a,null,n.a.createElement(l.a,{sm:12,md:12,lg:12,className:"table-responsive"},n.a.createElement("h4",{className:"title_principal"},"Ingresos"),n.a.createElement(C.a,{data:b.ingresos,columns:z}))),n.a.createElement("hr",null),n.a.createElement(s.a,null,n.a.createElement(l.a,{sm:12,md:12,lg:12,className:"table-responsive"},n.a.createElement("h4",{className:"title_principal"},"Egresos"),n.a.createElement(C.a,{data:b.egresos,columns:z}))))):n.a.createElement(s.a,{className:"justify-content-center"},n.a.createElement(l.a,{sm:12,md:12,lg:12},n.a.createElement("h4",{className:"text-center"},"Sin Ingresos o Egresos que Mostrar..."))),n.a.createElement(d.a,{show:L,onHide:$,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(d.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},n.a.createElement(d.a.Title,{id:"contained-modal-title-vcenter"},"Ingresos y Egresos")),n.a.createElement(d.a.Body,null,n.a.createElement(o.a,{defaultActiveKey:"earnings",id:"uncontrolled-tab-example"},n.a.createElement(i.a,{eventKey:"earnings",title:"Ingresos"},x?n.a.createElement(w.a,{data:x.ingresos,isAccount:!0,isReport:!0}):""),n.a.createElement(i.a,{eventKey:"expensives",title:"Egresos"},x?n.a.createElement(w.a,{data:x.egresos,isAccount:!0,isReport:!0}):""))),n.a.createElement(d.a.Footer,null,n.a.createElement(u.a,{size:"sm",variant:"secondary",onClick:$},"cerrar")))))};D.defaultProps={inputSelect:{type:"select",required:!0,name:"year",label:"A\xf1o del reporte",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"}};var P=D,T=[],R=function(e){var a=Object(r.useState)(null),t=Object(m.a)(a,2),b=t[0],_=t[1],F=Object(r.useState)(null),H=Object(m.a)(F,2),x=H[0],S=H[1],z=Object(r.useState)([]),D=Object(m.a)(z,2),P=D[0],R=D[1],A=Object(r.useState)(""),Y=Object(m.a)(A,2),I=Y[0],B=Y[1],K=Object(r.useState)(!1),q=Object(m.a)(K,2),L=q[0],V=q[1],G=Object(r.useState)(!0),J=Object(m.a)(G,2),U=J[0],W=J[1];Object(r.useEffect)((function(){return X(),function(){T=[]}}),[]),Object(r.useMemo)((function(){T=[{Header:"CENTROS",accessor:"center_coste_name"},{Header:"MES 1",accessor:"mes1",Cell:function(e){var a=e.cell.row.original;if(a.mes1>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,1)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes1,2,",","."))))}return Object(O.a)(a.mes1,2,",",".")}},{Header:"MES 2",accessor:"mes2",Cell:function(e){var a=e.cell.row.original;if(a.mes2>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,2)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes2,2,",","."))))}return Object(O.a)(a.mes2,2,",",".")}},{Header:"MES 3",accessor:"mes3",Cell:function(e){var a=e.cell.row.original;if(a.mes3>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,3)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes3,2,",","."))))}return Object(O.a)(a.mes3,2,",",".")}},{Header:"MES 4",accessor:"mes4",Cell:function(e){var a=e.cell.row.original;if(a.mes4>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,4)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes4,2,",","."))))}return Object(O.a)(a.mes4,2,",",".")}},{Header:"MES 5",accessor:"mes5",Cell:function(e){var a=e.cell.row.original;if(a.mes5>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,5)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes5,2,",","."))))}return Object(O.a)(a.mes5,2,",",".")}},{Header:"MES 6",accessor:"mes6",Cell:function(e){var a=e.cell.row.original;if(a.mes6>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,6)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes6,2,",","."))))}return Object(O.a)(a.mes6,2,",",".")}},{Header:"MES 7",accessor:"mes7",Cell:function(e){var a=e.cell.row.original;if(a.mes7>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,7)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes7,2,",","."))))}return Object(O.a)(a.mes7,2,",",".")}},{Header:"MES 8",accessor:"mes8",Cell:function(e){var a=e.cell.row.original;if(a.mes8>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,8)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes8,2,",","."))))}return Object(O.a)(a.mes8,2,",",".")}},{Header:"MES 9",accessor:"mes9",Cell:function(e){var a=e.cell.row.original;if(a.mes9>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,9)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes9,2,",","."))))}return Object(O.a)(a.mes9,2,",",".")}},{Header:"MES 10",accessor:"mes10",Cell:function(e){var a=e.cell.row.original;if(a.mes10>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,10)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes10,2,",","."))))}return Object(O.a)(a.mes10,2,",",".")}},{Header:"MES 11",accessor:"mes11",Cell:function(e){var a=e.cell.row.original;if(a.mes11>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,11)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes11,2,",","."))))}return Object(O.a)(a.mes11,2,",",".")}},{Header:"MES 12",accessor:"mes12",Cell:function(e){var a=e.cell.row.original;if(a.mes12>0){var t=a.type?"ingreso":"egresos";return n.a.createElement(M,{title:"Hacer click para ver los "+t+" del mes"},n.a.createElement(u.a,{size:"sm",onClick:function(){return Q(a,12)},variant:"link"},n.a.createElement(p.a,{variant:"danger"},Object(O.a)(a.mes12,2,",","."))))}return Object(O.a)(a.mes12,2,",",".")}},{Header:"TOTALES",accessor:"total",Cell:function(e){return n.a.createElement(p.a,{style:{backgroundColor:"rgb(36, 49, 94)",color:"white"}},Object(O.a)(e.cell.row.original.total,2,",","."))}}]}),[]);var Q=function(e,a){var t=document.getElementById("year").value,r=v.b+"flow_cash_data_detail_center_coste_earning_expensive/"+e.id+"/"+a+"/"+t;j.b.info("Cargando datos, espere mientras abre la modal"),W(!0),E.a.get(r).then((function(e){S(e.data),$(),W(!1)})).catch((function(e){W(!1),e.response?j.b.error(e.response.data.message):j.b.error("Error, contacte con soporte")}))},X=function(){E.a.get(v.b+"flow_cash_get_years").then((function(e){R(e.data),e.data.length>0&&(B(e.data[0].year),Z(e.data[0].year)),W(!1)})).catch((function(e){W(!1),e.response?j.b.error(e.response.data.message):(console.log(e),j.b.error("Error, contacte con soporte"))}))},Z=function(e){W(!0),E.a.get(v.b+"flow_cash_data_detail_center_coste/"+e).then((function(e){_(e.data),W(!1)})).catch((function(e){W(!1),e.response?j.b.error(e.response.data.message):(console.log(e),j.b.error("Error, contacte con soporte"))}))},$=function(){V(!L)};return n.a.createElement(n.a.Fragment,null,U?n.a.createElement(c.a,null,n.a.createElement(N.a,null)):n.a.createElement(c.a,{className:"containerDiv"},n.a.createElement("br",null),n.a.createElement(s.a,{className:"justify-content-center"},n.a.createElement(f.a,Object.assign({},e.inputSelect,{handleChange:function(e){var a=e.target.value;B(a),Z(a)},value:I}),n.a.createElement("option",{value:""},"--Seleccione--"),P.map((function(e,a){return n.a.createElement("option",{key:a,value:e.year},e.year)}))),n.a.createElement(l.a,{sm:4,md:4,lg:4,xs:6},n.a.createElement("br",null),n.a.createElement(u.a,{size:"sm",variant:"success",block:!0,onClick:function(){if(b){var e=k.utils.book_new(),a=[["","Mes1","Mes2","Mes3","Mes4","Mes5","Mes6","Mes7","Mes8","Mes9","Mes10","Mes11","Mes12","Totales"]];e.Props={Title:"Reporte Detallado de Centro de Costos",Subject:"Exportaci\xf3n de Data",Author:"Aidy tecnology",CreatedDate:h().format("YYYY-MM-DD")},e.SheetNames.push("Reporte Detallado"),a.push(["Total Ingresos"].concat(b.total_ingreso.map((function(e){return Object(O.a)(e,2,",",".")})))),b.ingresos.forEach((function(e,t){a.push([e.center_coste_name,Object(O.a)(parseFloat(e.mes1),2,",","."),Object(O.a)(parseFloat(e.mes2),2,",","."),Object(O.a)(parseFloat(e.mes3),2,",","."),Object(O.a)(parseFloat(e.mes4),2,",","."),Object(O.a)(parseFloat(e.mes5),2,",","."),Object(O.a)(parseFloat(e.mes6),2,",","."),Object(O.a)(parseFloat(e.mes7),2,",","."),Object(O.a)(parseFloat(e.mes8),2,",","."),Object(O.a)(parseFloat(e.mes9),2,",","."),Object(O.a)(parseFloat(e.mes10),2,",","."),Object(O.a)(parseFloat(e.mes11),2,",","."),Object(O.a)(parseFloat(e.mes12),2,",","."),Object(O.a)(parseFloat(e.total),2,",",".")])})),a.push([]),a.push(["Total Egresos"].concat(b.total_egreso.map((function(e){return Object(O.a)(e,2,",",".")})))),b.egresos.forEach((function(e,t){a.push([e.center_coste_name,Object(O.a)(parseFloat(e.mes1),2,",","."),Object(O.a)(parseFloat(e.mes2),2,",","."),Object(O.a)(parseFloat(e.mes3),2,",","."),Object(O.a)(parseFloat(e.mes4),2,",","."),Object(O.a)(parseFloat(e.mes5),2,",","."),Object(O.a)(parseFloat(e.mes6),2,",","."),Object(O.a)(parseFloat(e.mes7),2,",","."),Object(O.a)(parseFloat(e.mes8),2,",","."),Object(O.a)(parseFloat(e.mes9),2,",","."),Object(O.a)(parseFloat(e.mes10),2,",","."),Object(O.a)(parseFloat(e.mes11),2,",","."),Object(O.a)(parseFloat(e.mes12),2,",","."),Object(O.a)(parseFloat(e.total),2,",",".")])})),a.push([]);var t=b.ingreso_menos_egreso.map((function(e){return Object(O.a)(e,2,",",".")}));t.unshift("Ingresos - Egresos");var r=b.total_final.map((function(e){return Object(O.a)(e,2,",",".")}));r.unshift("Saldo Final de Caja"),a.push(t),a.push(r);var n=k.utils.aoa_to_sheet(a);e.Sheets["Reporte Detallado"]=n;var c=k.write(e,{bookType:"xlsx",type:"binary"}),s=Object(O.e)(c);Object(y.saveAs)(new Blob([s],{type:"application/octet-stream"}),"Reporte Detallado de Centro de Costos"+h().format("DD-MM-YYYY")+".xlsx")}else j.b.error("Error, no hay datos para realizar el excel")}},"Exportar a Excel ",n.a.createElement(g.C,null)))),n.a.createElement("hr",null),b?n.a.createElement(s.a,null,n.a.createElement(l.a,{sm:12,md:12,lg:12},n.a.createElement(s.a,null,n.a.createElement(l.a,{sm:12,md:12,lg:12,className:"table-responsive"},n.a.createElement("h4",{className:"title_principal"},"Ingresos"),n.a.createElement(C.a,{data:b.ingresos,columns:T}))),n.a.createElement("hr",null),n.a.createElement(s.a,null,n.a.createElement(l.a,{sm:12,md:12,lg:12,className:"table-responsive"},n.a.createElement("h4",{className:"title_principal"},"Egresos"),n.a.createElement(C.a,{data:b.egresos,columns:T}))))):n.a.createElement(s.a,{className:"justify-content-center"},n.a.createElement(l.a,{sm:12,md:12,lg:12},n.a.createElement("h4",{className:"text-center"},"Sin Ingresos o Egresos que Mostrar..."))),n.a.createElement(d.a,{show:L,onHide:$,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},n.a.createElement(d.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},n.a.createElement(d.a.Title,{id:"contained-modal-title-vcenter"},"Ingresos y Egresos")),n.a.createElement(d.a.Body,null,n.a.createElement(o.a,{defaultActiveKey:"earnings",id:"uncontrolled-tab-example"},n.a.createElement(i.a,{eventKey:"earnings",title:"Ingresos"},x?n.a.createElement(w.a,{data:x.ingresos,isAccount:!1,isReport:!0}):""),n.a.createElement(i.a,{eventKey:"expensives",title:"Egresos"},x?n.a.createElement(w.a,{data:x.egresos,isAccount:!1,isReport:!0}):""))),n.a.createElement(d.a.Footer,null,n.a.createElement(u.a,{size:"sm",variant:"secondary",onClick:$},"cerrar")))))};R.defaultProps={inputSelect:{type:"select",required:!0,name:"year",label:"A\xf1o del reporte",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"}};var A=R;a.default=function(e){return Object(r.useEffect)((function(){}),[]),n.a.createElement(c.a,null,n.a.createElement(s.a,{className:"justif"},n.a.createElement(l.a,{sm:12,md:12,lg:12},n.a.createElement(o.a,{defaultActiveKey:"account",id:"uncontrolled-tab-example"},n.a.createElement(i.a,{eventKey:"account",title:"Reporte Cuentas"},n.a.createElement(P,e)),n.a.createElement(i.a,{eventKey:"center_coste",title:"Reporte Centro de Costos"},n.a.createElement(A,e))))))}}}]);
//# sourceMappingURL=41.2b655cc5.chunk.js.map