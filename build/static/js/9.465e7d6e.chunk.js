(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[9],{654:function(e,t,a){"use strict";var n=a(45),r=a(659),c=a(1),l=a.n(c),o=a(661),i=a(660),s=a(664),u=a(319);function d(){var e=Object(r.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .tr_cabecera{\n    background-color: rgb(218, 236, 242);\n    color: black;\n  }\n"]);return d=function(){return e},e}var m=o.a.div(d());function p(e){var t=e.column,a=t.filterValue,n=t.preFilteredRows,r=t.setFilter,c=n.length;return l.a.createElement("input",{value:a||"",onChange:function(e){r(e.target.value||void 0)},placeholder:"Buscar en ".concat(c," registros..."),className:"inputPageFilter"})}function f(e,t,a){return Object(s.a)(e,a,{keys:[function(e){return e.values[t]}]})}function g(e){var t=e.columns,a=e.data,r=l.a.useMemo((function(){return{fuzzyText:f,text:function(e,t,a){return e.filter((function(e){var n=e.values[t];return void 0===n||String(n).toLowerCase().startsWith(String(a).toLowerCase())}))}}}),[]),c=l.a.useMemo((function(){return{Filter:p}}),[]),o=Object(i.useTable)({columns:t,data:a,defaultColumn:c,filterTypes:r,initialState:{pageIndex:0}},i.useFilters,i.useSortBy,i.usePagination),s=o.getTableProps,d=o.getTableBodyProps,m=o.headerGroups,g=o.page,b=o.prepareRow,h=o.canPreviousPage,E=o.canNextPage,v=o.pageOptions,y=o.pageCount,j=o.gotoPage,O=o.nextPage,x=o.previousPage,C=o.setPageSize,k=o.state,S=k.pageIndex,w=k.pageSize;return l.a.createElement("div",{className:"table-responsive"},l.a.createElement("table",Object.assign({},s(),{className:"table table-bordered"}),l.a.createElement("thead",null,m.map((function(e){return l.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return l.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"tr_cabecera"}),e.render("Header"),l.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),l.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),l.a.createElement("tbody",Object.assign({},d(),{className:"text-center"}),g.map((function(e,t){return b(e)||l.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return l.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),l.a.createElement("div",{className:"pagination"},l.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return j(0)},disabled:!h},"<<")," ",l.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x()},disabled:!h},"<")," ",l.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O()},disabled:!E},">")," ",l.a.createElement(u.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return j(y-1)},disabled:!E},">>")," ",l.a.createElement("span",null,"P\xe1gina"," ",l.a.createElement("strong",null,S+1," de ",v.length)," "),l.a.createElement("span",{className:"ml-3"},"| ",l.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),l.a.createElement("input",Object(n.a)({type:"number",defaultValue:S+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;j(t)},className:"inputPage"},"onChange",(function(e){e.target.value>v.length&&(e.target.value=1)}))))," ",l.a.createElement("select",{value:w,onChange:function(e){C(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return l.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}f.autoRemove=function(e){return!e};t.a=function(e){var t=e.data,a=e.columns;return l.a.createElement(m,null,l.a.createElement(g,{data:t,columns:a}))}},657:function(e,t,a){},662:function(e,t,a){"use strict";var n=a(3),r=a(4),c=a(5),l=a.n(c),o=a(1),i=a.n(o),s=(a(334),a(8)),u=i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.placement,o=e.className,u=e.style,d=e.children,m=e.arrowProps,p=(e.popper,e.show,Object(r.a)(e,["bsPrefix","placement","className","style","children","arrowProps","popper","show"]));a=Object(s.a)(a,"tooltip");var f=((null==c?void 0:c.split("-"))||[])[0];return i.a.createElement("div",Object(n.a)({ref:t,style:u,role:"tooltip","x-placement":f,className:l()(o,a,"bs-tooltip-"+f)},p),i.a.createElement("div",Object(n.a)({className:"arrow"},m)),i.a.createElement("div",{className:a+"-inner"},d))}));u.defaultProps={placement:"right"},u.displayName="Tooltip",t.a=u},663:function(e,t,a){"use strict";var n=a(3),r=a(4),c=a(13),l=a(216),o=a(1),i=a.n(o),s=a(217),u=a(212),d=(a(96),a(56)),m=a(5),p=a.n(m),f=a(2),g=a.n(f),b=a(33),h=a.n(b),E=a(127),v=a(67),y=a(220),j=a(221),O=a(222),x=a(672),C=a(218),k=i.a.forwardRef((function(e,t){var a=e.flip,c=e.offset,l=e.placement,s=e.containerPadding,u=void 0===s?5:s,d=e.popperConfig,m=void 0===d?{}:d,p=e.transition,f=Object(E.a)(),g=f[0],b=f[1],y=Object(E.a)(),k=y[0],S=y[1],w=Object(v.a)(b,t),_=Object(x.a)(e.container),N=Object(x.a)(e.target),P=Object(o.useState)(!e.show),R=P[0],T=P[1],z=Object(j.a)(N,g,Object(C.a)({placement:l,enableEvents:!!e.show,containerPadding:u||5,flip:a,offset:c,arrowElement:k,popperConfig:m})),I=z.styles,F=z.attributes,D=Object(r.a)(z,["styles","attributes"]);e.show?R&&T(!1):e.transition||R||T(!0);var H=e.show||p&&!R;if(Object(O.a)(g,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!H)return null;var q=e.children(Object(n.a)({},D,{show:!!e.show,props:Object(n.a)({},F.popper,{style:I.popper,ref:w}),arrowProps:Object(n.a)({},F.arrow,{style:I.arrow,ref:S})}));if(p){var B=e.onExit,V=e.onExiting,M=e.onEnter,A=e.onEntering,L=e.onEntered;q=i.a.createElement(p,{in:e.show,appear:!0,onExit:B,onExiting:V,onExited:function(){T(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:M,onEntering:A,onEntered:L},q)}return _?h.a.createPortal(q,_):null}));k.displayName="Overlay",k.propTypes={show:g.a.bool,placement:g.a.oneOf(y.b),target:g.a.any,container:g.a.any,flip:g.a.bool,children:g.a.func.isRequired,containerPadding:g.a.number,popperConfig:g.a.object,rootClose:g.a.bool,rootCloseEvent:g.a.oneOf(["click","mousedown"]),rootCloseDisabled:g.a.bool,onHide:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r;return e.rootClose?(r=g.a.func).isRequired.apply(r,[e].concat(a)):g.a.func.apply(g.a,[e].concat(a))},transition:g.a.elementType,onEnter:g.a.func,onEntering:g.a.func,onEntered:g.a.func,onExit:g.a.func,onExiting:g.a.func,onExited:g.a.func};var S=k,w=a(219),_=a(665),N={transition:_.a,rootClose:!1,show:!1,placement:"top"};function P(e){var t=e.children,a=e.transition,c=e.popperConfig,l=void 0===c?{}:c,s=Object(r.a)(e,["children","transition","popperConfig"]),d=Object(o.useRef)({}),m=Object(w.a)(),f=m[0],g=m[1],b=!0===a?_.a:a||null;return i.a.createElement(S,Object(n.a)({},s,{ref:f,popperConfig:Object(n.a)({},l,{modifiers:g.concat(l.modifiers||[])}),transition:b}),(function(e){var c,l=e.props,o=e.arrowProps,s=e.show,m=e.update,f=(e.forceUpdate,e.placement),g=e.state,b=Object(r.a)(e,["props","arrowProps","show","update","forceUpdate","placement","state"]);!function(e,t){var a=e.ref,n=t.ref;e.ref=a.__wrapped||(a.__wrapped=function(e){return a(Object(u.a)(e))}),t.ref=n.__wrapped||(n.__wrapped=function(e){return n(Object(u.a)(e))})}(l,o);var h=Object.assign(d.current,{state:g,scheduleUpdate:m,placement:f,outOfBoundaries:(null==g||null==(c=g.modifiersData.hide)?void 0:c.isReferenceHidden)||!1});return"function"===typeof t?t(Object(n.a)({},b,{},l,{placement:f,show:s,popper:h,arrowProps:o})):i.a.cloneElement(t,Object(n.a)({},b,{},l,{placement:f,arrowProps:o,popper:h,className:p()(t.props.className,!a&&s&&"show"),style:Object(n.a)({},t.props.style,{},l.style)}))}))}P.defaultProps=N;var R=P,T=function(e){function t(){return e.apply(this,arguments)||this}return Object(c.a)(t,e),t.prototype.render=function(){return this.props.children},t}(i.a.Component);function z(e,t,a){var n=t[0],r=n.currentTarget,c=n.relatedTarget||n.nativeEvent[a];c&&c===r||Object(l.a)(r,c)||e.apply(void 0,t)}function I(e){var t=e.trigger,a=e.overlay,c=e.children,l=e.popperConfig,m=void 0===l?{}:l,p=e.show,f=e.defaultShow,g=void 0!==f&&f,b=e.onToggle,h=e.delay,E=e.placement,v=e.flip,y=void 0===v?E&&-1!==E.indexOf("auto"):v,j=Object(r.a)(e,["trigger","overlay","children","popperConfig","show","defaultShow","onToggle","delay","placement","flip"]),O=Object(o.useRef)(null),x=Object(s.a)(),C=Object(o.useRef)(""),k=Object(d.b)(p,g,b),S=k[0],w=k[1],_=function(e){return e&&"object"===typeof e?e:{show:e,hide:e}}(h),N="function"!==typeof c?i.a.Children.only(c).props:{},P=N.onFocus,I=N.onBlur,F=N.onClick,D=Object(o.useCallback)((function(){return Object(u.a)(O.current)}),[]),H=Object(o.useCallback)((function(){x.clear(),C.current="show",_.show?x.set((function(){"show"===C.current&&w(!0)}),_.show):w(!0)}),[_.show,w,x]),q=Object(o.useCallback)((function(){x.clear(),C.current="hide",_.hide?x.set((function(){"hide"===C.current&&w(!1)}),_.hide):w(!1)}),[_.hide,w,x]),B=Object(o.useCallback)((function(){H();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];null==P||P.apply(void 0,t)}),[H,P]),V=Object(o.useCallback)((function(){q();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];null==I||I.apply(void 0,t)}),[q,I]),M=Object(o.useCallback)((function(){w(!S),F&&F.apply(void 0,arguments)}),[F,w,S]),A=Object(o.useCallback)((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];z(H,t,"fromElement")}),[H]),L=Object(o.useCallback)((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];z(q,t,"toElement")}),[q]),U=null==t?[]:[].concat(t),G={};return-1!==U.indexOf("click")&&(G.onClick=M),-1!==U.indexOf("focus")&&(G.onFocus=B,G.onBlur=V),-1!==U.indexOf("hover")&&(G.onMouseOver=A,G.onMouseOut=L),i.a.createElement(i.a.Fragment,null,"function"===typeof c?c(Object(n.a)({},G,{ref:O})):i.a.createElement(T,{ref:O},Object(o.cloneElement)(c,G)),i.a.createElement(R,Object(n.a)({},j,{show:S,onHide:q,flip:y,placement:E,popperConfig:m,target:D}),a))}I.defaultProps={defaultShow:!1,trigger:["hover","focus"]};t.a=I},666:function(e,t,a){(function(a){var n,r,c;r=[],void 0===(c="function"===typeof(n=function(){"use strict";function t(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){l(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(a)}}var c="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,l=c.saveAs||("object"!=typeof window||window!==c?function(){}:"download"in HTMLAnchorElement.prototype?function(e,a,l){var o=c.URL||c.webkitURL,i=document.createElement("a");a=a||e.name||"download",i.download=a,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?r(i):n(i.href)?t(e,a,l):r(i,i.target="_blank")):(i.href=o.createObjectURL(e),setTimeout((function(){o.revokeObjectURL(i.href)}),4e4),setTimeout((function(){r(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,c){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,c),a);else if(n(e))t(e,a,c);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout((function(){r(l)}))}}:function(e,a,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,a,n);var l="application/octet-stream"===e.type,o=/constructor/i.test(c.HTMLElement)||c.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||l&&o)&&"object"==typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},s.readAsDataURL(e)}else{var u=c.URL||c.webkitURL,d=u.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});c.saveAs=l.saveAs=l,e.exports=l})?n.apply(t,r):n)||(e.exports=c)}).call(this,a(70))},667:function(e,t,a){e.exports=a.p+"static/media/empty_logo.258d3697.jpg"},671:function(e,t,a){"use strict";var n=a(3),r=a(4),c=a(1),l=a.n(c),o=a(2),i=a.n(o),s=a(618),u=a(214),d=a(213),m={id:i.a.any,href:i.a.string,onClick:i.a.func,title:i.a.node.isRequired,disabled:i.a.bool,menuRole:i.a.string,renderMenuOnMount:i.a.bool,rootCloseEvent:i.a.string,bsPrefix:i.a.string,variant:i.a.string,size:i.a.string},p=l.a.forwardRef((function(e,t){var a=e.title,c=e.children,o=e.bsPrefix,i=e.rootCloseEvent,m=e.variant,p=e.size,f=e.menuRole,g=e.renderMenuOnMount,b=e.disabled,h=e.href,E=e.id,v=Object(r.a)(e,["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id"]);return l.a.createElement(s.a,Object(n.a)({ref:t},v),l.a.createElement(u.a,{id:E,href:h,size:p,variant:m,disabled:b,childBsPrefix:o},a),l.a.createElement(d.a,{role:f,renderOnMount:g,rootCloseEvent:i},c))}));p.displayName="DropdownButton",p.propTypes=m,t.a=p},673:function(e,t,a){},674:function(e,t,a){"use strict";var n=a(3),r=a(4),c=a(5),l=a.n(c),o=a(1),i=a.n(o),s=a(8),u=i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.variant,o=e.pill,u=e.className,d=e.as,m=void 0===d?"span":d,p=Object(r.a)(e,["bsPrefix","variant","pill","className","as"]),f=Object(s.a)(a,"badge");return i.a.createElement(m,Object(n.a)({ref:t},p,{className:l()(u,f,o&&f+"-pill",c&&f+"-"+c)}))}));u.displayName="Badge",u.defaultProps={pill:!1},t.a=u},675:function(e,t,a){"use strict";var n=a(45),r=a(23),c=a(61),l=a(1),o=a.n(l),i=a(836),s=a(50),u=a(627),d=a(318),m=a(319),p=a(32),f=a(31),g=(a(657),a(21)),b=a.n(g),h=a(15),E=a(170),v=function(e){var t=Object(l.useState)(!1),a=Object(c.a)(t,2),g=a[0],v=a[1],y=Object(l.useState)({name_client:"",email:"",type_document:"",data_document:"",phone:"",address:"",observation:"",picture:""}),j=Object(c.a)(y,2),O=j[0],x=j[1];Object(l.useEffect)((function(){if(e.dataModify){var t=Object.assign({},e.dataModify);x({name_client:t.name_client,email:t.email,type_document:t.type_document,data_document:t.data_document,phone:t.phone,address:t.address,observation:t.observation,picture:t.picture,id:t.id})}}),[e.dataModify]);var C=function(e){x(Object(r.a)(Object(r.a)({},O),{},Object(n.a)({},e.target.name,e.target.value)))},k=function(){x({name_client:"",email:"",type_document:"",data_document:"",phone:"",address:"",observation:"",picture:""}),e.onHide()};return o.a.createElement(i.a,{show:e.isShow,onHide:k,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(i.a.Header,{closeButton:!0,className:"header_dark"},o.a.createElement(i.a.Title,{id:"contained-modal-title-vcenter"},"Formulario de Clientes ",o.a.createElement(p.w,null))),o.a.createElement(s.a,{onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),!1===a.checkValidity())return t.stopPropagation(),void v(!0);var n=Object.assign({},O);e.dataModify?b.a.put(f.a+"client/"+n.id,n).then((function(e){h.b.success("Cliente Modificado"),k()})).catch((function(e){e.response?h.b.error(e.response.data.message):h.b.error("Error, contacte con soporte")})):b.a.post(f.a+"client",O).then((function(e){h.b.success("Cliente Registrado"),k()})).catch((function(e){e.response?h.b.error(e.response.data.message):h.b.error("Error, contacte con soporte")}))},noValidate:!0,validated:g},o.a.createElement(i.a.Body,null,o.a.createElement(u.a,null,o.a.createElement(d.a,{sm:12,md:12,lg:12,xs:12},o.a.createElement(u.a,null,o.a.createElement(E.a,Object.assign({},e.inputName,{handleChange:C,value:O.name_client})),o.a.createElement(E.a,Object.assign({},e.inputEmail,{handleChange:C,value:O.email}))),o.a.createElement(u.a,null,o.a.createElement(E.a,Object.assign({},e.inputTypeDocument,{handleChange:C,value:O.type_document}),o.a.createElement("option",{value:""},"--Seleccione--"),o.a.createElement("option",{value:"Rut"},"Rut"),o.a.createElement("option",{value:"Id"},"Id"),o.a.createElement("option",{value:"Nro pasaporte"},"N\xb0 pasaporte")),o.a.createElement(E.a,Object.assign({},e.inputDataDocument,{handleChange:C,value:O.data_document}))),o.a.createElement(u.a,null,o.a.createElement(E.a,Object.assign({},e.inputPhone,{handleChange:C,value:O.phone})),o.a.createElement(E.a,Object.assign({},e.inputAddress,{handleChange:C,value:O.address}))),o.a.createElement(u.a,null,o.a.createElement(E.a,Object.assign({},e.inputObservation,{handleChange:C,value:O.observation})))))),o.a.createElement(i.a.Footer,null,o.a.createElement(m.a,{size:"sm",variant:"success",type:"submit"},"Guardar"),o.a.createElement(m.a,{size:"sm",onClick:k},"Cerrar"))))};v.defaultProps={inputName:{type:"text",required:!0,name:"name_client",label:"Nombre Cliente",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]},inputEmail:{type:"email",required:!1,name:"email",label:"Email",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*, ","Formato Tipo Email*"]},inputPhone:{type:"phone",required:!1,name:"phone",label:"Tel\xe9fono",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:[]},inputAddress:{type:"textarea",required:!1,name:"address",label:"Direcci\xf3n",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",rows:3,messageErrors:[]},inputTypeDocument:{type:"select",required:!1,name:"type_document",label:"Tipo de Documento",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]},inputDataDocument:{type:"text",required:!1,name:"data_document",label:"Informaci\xf3n Identidad",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",placeholder:"Introduzca su rut, id o su n\xb0 de pasaporte",messageErrors:["Requerido*"]},inputObservation:{type:"textarea",required:!1,name:"observation",label:"Observaci\xf3n",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",rows:3,messageErrors:[]}},t.a=v},683:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=a(836),l=a(319),o=(a(657),a(684));t.a=function(e){return r.a.createElement(c.a,{show:e.show,onHide:e.onHide,size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(c.a.Header,{closeButton:!0,className:"header_dark"},r.a.createElement(c.a.Title,{id:"contained-modal-title-vcenter"})),r.a.createElement(c.a.Body,null,r.a.createElement("div",{style:{width:"100%",paddingLeft:"25%"}},r.a.createElement(o.a,{catchCode:e.catchCode}))),r.a.createElement(c.a.Footer,null,r.a.createElement(l.a,{size:"sm",onClick:e.onHide},"Cerrar")))}},684:function(e,t,a){"use strict";var n=a(1),r=a.n(n),c=(a(700),a(724)),l=a.n(c),o=a(15);t.a=function(e){Object(n.useEffect)((function(){return t(),function(){l.a.stop()}}),[]);var t=function(){l.a.init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("#camera"),numOfWorkers:navigator.hardwareConcurrency,constraints:{width:300,height:300}},decoder:{readers:["ean_reader"]}},(function(e){e?o.b.error("Error, revise que la c\xe1mara de su dispositivo este conectada"):(console.log("Initialization finished. Ready to start"),l.a.start())}));var t=[];l.a.onDetected((function(n){var r=n.codeResult.code;if(t.push(r),t.length>20){var c=a(t)[0];e.catchCode(c)}}))},a=function(e){var t={};return e.forEach((function(e){t[e]||(t[e]=0),t[e]++})),Object.keys(t).sort((function(e,a){return t[e]<t[a]}))};return r.a.createElement("div",{id:"camera"})}},685:function(e,t,a){"use strict";(function(t){var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var c=a(1),l=a(2),o=a(33).findDOMNode,i=a(702),s=["blur","checkValidity","click","focus","select","setCustomValidity","setSelectionRange","setRangeText"];var u=function(e){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={isOpen:!1,highlightedIndex:null},t._debugStates=[],t.ensureHighlightedIndex=t.ensureHighlightedIndex.bind(t),t.exposeAPI=t.exposeAPI.bind(t),t.handleInputFocus=t.handleInputFocus.bind(t),t.handleInputBlur=t.handleInputBlur.bind(t),t.handleChange=t.handleChange.bind(t),t.handleKeyDown=t.handleKeyDown.bind(t),t.handleInputClick=t.handleInputClick.bind(t),t.maybeAutoCompleteText=t.maybeAutoCompleteText.bind(t),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e),r(a,[{key:"componentWillMount",value:function(){this.refs={},this._ignoreBlur=!1,this._ignoreFocus=!1,this._scrollOffset=null,this._scrollTimer=null}},{key:"componentWillUnmount",value:function(){clearTimeout(this._scrollTimer),this._scrollTimer=null}},{key:"componentWillReceiveProps",value:function(e){null!==this.state.highlightedIndex&&this.setState(this.ensureHighlightedIndex),!e.autoHighlight||this.props.value===e.value&&null!==this.state.highlightedIndex||this.setState(this.maybeAutoCompleteText)}},{key:"componentDidMount",value:function(){this.isOpen()&&this.setMenuPositions()}},{key:"componentDidUpdate",value:function(e,t){(this.state.isOpen&&!t.isOpen||"open"in this.props&&this.props.open&&!e.open)&&this.setMenuPositions(),this.maybeScrollItemIntoView(),t.isOpen!==this.state.isOpen&&this.props.onMenuVisibilityChange(this.state.isOpen)}},{key:"exposeAPI",value:function(e){var t=this;this.refs.input=e,s.forEach((function(a){return t[a]=e&&e[a]&&e[a].bind(e)}))}},{key:"maybeScrollItemIntoView",value:function(){if(this.isOpen()&&null!==this.state.highlightedIndex){var e=this.refs["item-"+this.state.highlightedIndex],t=this.refs.menu;i(o(e),o(t),{onlyScrollIfNeeded:!0})}}},{key:"handleKeyDown",value:function(e){a.keyDownHandlers[e.key]?a.keyDownHandlers[e.key].call(this,e):this.isOpen()||this.setState({isOpen:!0})}},{key:"handleChange",value:function(e){this.props.onChange(e,e.target.value)}},{key:"getFilteredItems",value:function(e){var t=e.items;return e.shouldItemRender&&(t=t.filter((function(t){return e.shouldItemRender(t,e.value)}))),e.sortItems&&t.sort((function(t,a){return e.sortItems(t,a,e.value)})),t}},{key:"maybeAutoCompleteText",value:function(e,t){for(var a=e.highlightedIndex,n=t.value,r=t.getItemValue,c=null===a?0:a,l=this.getFilteredItems(t),o=0;o<l.length&&!t.isItemSelectable(l[c]);o++)c=(c+1)%l.length;var i=l[c]&&t.isItemSelectable(l[c])?l[c]:null;if(""!==n&&i&&0===r(i).toLowerCase().indexOf(n.toLowerCase()))return{highlightedIndex:c};return{highlightedIndex:null}}},{key:"ensureHighlightedIndex",value:function(e,t){if(e.highlightedIndex>=this.getFilteredItems(t).length)return{highlightedIndex:null}}},{key:"setMenuPositions",value:function(){var e=this.refs.input,a=e.getBoundingClientRect(),n=t.window.getComputedStyle(e),r=parseInt(n.marginBottom,10)||0,c=parseInt(n.marginLeft,10)||0,l=parseInt(n.marginRight,10)||0;this.setState({menuTop:a.bottom+r,menuLeft:a.left+c,menuWidth:a.width+c+l})}},{key:"highlightItemFromMouse",value:function(e){this.setState({highlightedIndex:e})}},{key:"selectItemFromMouse",value:function(e){var t=this,a=this.props.getItemValue(e);this.setIgnoreBlur(!1),this.setState({isOpen:!1,highlightedIndex:null},(function(){t.props.onSelect(a,e)}))}},{key:"setIgnoreBlur",value:function(e){this._ignoreBlur=e}},{key:"renderMenu",value:function(){var e=this,t=this.getFilteredItems(this.props).map((function(t,a){var n=e.props.renderItem(t,e.state.highlightedIndex===a,{cursor:"default"});return c.cloneElement(n,{onMouseEnter:e.props.isItemSelectable(t)?function(){return e.highlightItemFromMouse(a)}:null,onClick:e.props.isItemSelectable(t)?function(){return e.selectItemFromMouse(t)}:null,ref:function(t){return e.refs["item-"+a]=t}})})),a={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},n=this.props.renderMenu(t,this.props.value,a);return c.cloneElement(n,{ref:function(t){return e.refs.menu=t},onTouchStart:function(){return e.setIgnoreBlur(!0)},onMouseEnter:function(){return e.setIgnoreBlur(!0)},onMouseLeave:function(){return e.setIgnoreBlur(!1)}})}},{key:"handleInputBlur",value:function(e){var t=this;if(this._ignoreBlur)return this._ignoreFocus=!0,this._scrollOffset={x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},void this.refs.input.focus();var a=void 0,n=this.state.highlightedIndex;if(this.props.selectOnBlur&&null!==n){var r=this.getFilteredItems(this.props)[n],c=this.props.getItemValue(r);a=function(){return t.props.onSelect(c,r)}}this.setState({isOpen:!1,highlightedIndex:null},a);var l=this.props.inputProps.onBlur;l&&l(e)}},{key:"handleInputFocus",value:function(e){var t=this;if(this._ignoreFocus){this._ignoreFocus=!1;var a=this._scrollOffset,n=a.x,r=a.y;return this._scrollOffset=null,window.scrollTo(n,r),clearTimeout(this._scrollTimer),void(this._scrollTimer=setTimeout((function(){t._scrollTimer=null,window.scrollTo(n,r)}),0))}this.setState({isOpen:!0});var c=this.props.inputProps.onFocus;c&&c(e)}},{key:"isInputFocused",value:function(){var e=this.refs.input;return e.ownerDocument&&e===e.ownerDocument.activeElement}},{key:"handleInputClick",value:function(){this.isInputFocused()&&!this.isOpen()&&this.setState({isOpen:!0})}},{key:"composeEventHandlers",value:function(e,t){return t?function(a){e(a),t(a)}:e}},{key:"isOpen",value:function(){return"open"in this.props?this.props.open:this.state.isOpen}},{key:"render",value:function(){this.props.debug&&this._debugStates.push({id:this._debugStates.length,state:this.state});var e=this.props.inputProps,t=this.isOpen();return c.createElement("div",n({style:n({},this.props.wrapperStyle)},this.props.wrapperProps),this.props.renderInput(n({},e,{role:"combobox","aria-autocomplete":"list","aria-expanded":t,autoComplete:"off",ref:this.exposeAPI,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.composeEventHandlers(this.handleKeyDown,e.onKeyDown),onClick:this.composeEventHandlers(this.handleInputClick,e.onClick),value:this.props.value})),t&&this.renderMenu(),this.props.debug&&c.createElement("pre",{style:{marginLeft:300}},JSON.stringify(this._debugStates.slice(Math.max(0,this._debugStates.length-5),this._debugStates.length),null,2)))}}]),a}(c.Component);u.propTypes={items:l.array.isRequired,value:l.any,onChange:l.func,onSelect:l.func,shouldItemRender:l.func,isItemSelectable:l.func,sortItems:l.func,getItemValue:l.func.isRequired,renderItem:l.func.isRequired,renderMenu:l.func,menuStyle:l.object,renderInput:l.func,inputProps:l.object,wrapperProps:l.object,wrapperStyle:l.object,autoHighlight:l.bool,selectOnBlur:l.bool,onMenuVisibilityChange:l.func,open:l.bool,debug:l.bool},u.defaultProps={value:"",wrapperProps:{},wrapperStyle:{display:"inline-block"},inputProps:{},renderInput:function(e){return c.createElement("input",e)},onChange:function(){},onSelect:function(){},isItemSelectable:function(){return!0},renderMenu:function(e,t,a){return c.createElement("div",{style:n({},a,this.menuStyle),children:e})},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"},autoHighlight:!0,selectOnBlur:!1,onMenuVisibilityChange:function(){}},u.keyDownHandlers={ArrowDown:function(e){e.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var a=this.state.highlightedIndex,n=null===a?-1:a,r=0;r<t.length;r++){var c=(n+r+1)%t.length;if(this.props.isItemSelectable(t[c])){n=c;break}}n>-1&&n!==a&&this.setState({highlightedIndex:n,isOpen:!0})}},ArrowUp:function(e){e.preventDefault();var t=this.getFilteredItems(this.props);if(t.length){for(var a=this.state.highlightedIndex,n=null===a?t.length:a,r=0;r<t.length;r++){var c=(n-(1+r)+t.length)%t.length;if(this.props.isItemSelectable(t[c])){n=c;break}}n!==t.length&&this.setState({highlightedIndex:n,isOpen:!0})}},Enter:function(e){var t=this;if(13===e.keyCode&&(this.setIgnoreBlur(!1),this.isOpen()))if(null==this.state.highlightedIndex)this.setState({isOpen:!1},(function(){t.refs.input.select()}));else{e.preventDefault();var a=this.getFilteredItems(this.props)[this.state.highlightedIndex],n=this.props.getItemValue(a);this.setState({isOpen:!1,highlightedIndex:null},(function(){t.refs.input.setSelectionRange(n.length,n.length),t.props.onSelect(n,a)}))}},Escape:function(){this.setIgnoreBlur(!1),this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(){this.setIgnoreBlur(!1)}},e.exports=u}).call(this,a(70))},686:function(e,t,a){},700:function(e,t,a){},701:function(e,t,a){"use strict";var n=a(129),r=a(45),c=a(23),l=a(61),o=a(1),i=a.n(o),s=a(836),u=a(50),d=a(627),m=a(318),p=a(319),f=a(170),g=function(e){var t=Object(o.useState)({detail:"",price:""}),a=Object(l.a)(t,2),g=a[0],b=a[1],h=Object(o.useState)([]),E=Object(l.a)(h,2),v=E[0],y=E[1],j=Object(o.useState)(!1),O=Object(l.a)(j,2),x=O[0],C=O[1],k=function(){e.onHide()},S=function(e){b(Object(c.a)(Object(c.a)({},g),{},Object(r.a)({},e.target.name,e.target.value)))};return i.a.createElement(s.a,{show:e.isShow,onHide:k,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},i.a.createElement(s.a.Header,{closeButton:!0,className:"header_dark"},i.a.createElement(s.a.Title,{id:"contained-modal-title-vcenter"},"Detalle de Costos")),i.a.createElement(s.a.Body,null,i.a.createElement(u.a,{onSubmit:function(e){var t=e.currentTarget;if(e.preventDefault(),!1===t.checkValidity())return e.stopPropagation(),void C(!0);var a=Object.assign({},g);y([].concat(Object(n.a)(v),[a])),b({detail:"",price:""})},noValidate:!0,validated:x},i.a.createElement(d.a,null,i.a.createElement(f.a,Object.assign({},e.inputDetail,{value:g.detail,handleChange:S})),i.a.createElement(f.a,Object.assign({},e.inputPrice,{value:g.price,handleChange:S}))),i.a.createElement(d.a,{className:"justify-content-center"},i.a.createElement(m.a,{sm:6,md:6,lg:6,xs:12},i.a.createElement(p.a,{size:"sm",type:"submit",variant:"success",block:"true"},"Agregar")))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(d.a,{className:"justify-content-center"},i.a.createElement(m.a,{sm:6,md:6,lg:6,xs:12},i.a.createElement("table",{className:"table table-striped"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"text-center"},"Detalle"),i.a.createElement("th",{className:"text-center"},"Precio"),i.a.createElement("th",{className:"text-center"},"Acci\xf3n"))),i.a.createElement("tbody",{className:"text-center"},v.map((function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.detail),i.a.createElement("td",null,e.price),i.a.createElement("td",null,i.a.createElement(p.a,{size:"sm",variant:"danger",block:"true",onClick:function(){return function(e){var t=v.filter((function(t,a){if(a!==e)return t}));y(t)}(t)}},"Eliminar")))})),e.dataUpdate.map((function(t,a){return i.a.createElement("tr",{key:a},i.a.createElement("td",null,t.detail),i.a.createElement("td",null,t.cost),i.a.createElement("td",null,i.a.createElement(p.a,{size:"sm",variant:"danger",block:"true",onClick:function(){return a=t,void e.handleRemoveFromUpdate(a);var a}},"Eliminar")))}))))))),i.a.createElement(s.a.Footer,null,i.a.createElement(p.a,{size:"sm",variant:"secondary",onClick:function(){e.handleCostValues(v)}},"Finalizar"),i.a.createElement(p.a,{size:"sm",onClick:k},"Cerrar")))};g.defaultProps={inputDetail:{type:"text",required:!0,name:"detail",label:"Detalle",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]},inputPrice:{type:"number",step:"any",required:!0,name:"price",label:"Precio",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]}},t.a=g},702:function(e,t,a){e.exports=a(703)},703:function(e,t,a){var n=a(704);e.exports=function(e,t,a){a=a||{},9===t.nodeType&&(t=n.getWindow(t));var r=a.allowHorizontalScroll,c=a.onlyScrollIfNeeded,l=a.alignWithTop,o=a.alignWithLeft;r=void 0===r||r;var i,s,u,d,m,p,f,g,b,h,E=n.isWindow(t),v=n.offset(e),y=n.outerHeight(e),j=n.outerWidth(e);E?(f=t,h=n.height(f),b=n.width(f),g={left:n.scrollLeft(f),top:n.scrollTop(f)},m={left:v.left-g.left,top:v.top-g.top},p={left:v.left+j-(g.left+b),top:v.top+y-(g.top+h)},d=g):(i=n.offset(t),s=t.clientHeight,u=t.clientWidth,d={left:t.scrollLeft,top:t.scrollTop},m={left:v.left-(i.left+(parseFloat(n.css(t,"borderLeftWidth"))||0)),top:v.top-(i.top+(parseFloat(n.css(t,"borderTopWidth"))||0))},p={left:v.left+j-(i.left+u+(parseFloat(n.css(t,"borderRightWidth"))||0)),top:v.top+y-(i.top+s+(parseFloat(n.css(t,"borderBottomWidth"))||0))}),m.top<0||p.top>0?!0===l?n.scrollTop(t,d.top+m.top):!1===l?n.scrollTop(t,d.top+p.top):m.top<0?n.scrollTop(t,d.top+m.top):n.scrollTop(t,d.top+p.top):c||((l=void 0===l||!!l)?n.scrollTop(t,d.top+m.top):n.scrollTop(t,d.top+p.top)),r&&(m.left<0||p.left>0?!0===o?n.scrollLeft(t,d.left+m.left):!1===o?n.scrollLeft(t,d.left+p.left):m.left<0?n.scrollLeft(t,d.left+m.left):n.scrollLeft(t,d.left+p.left):c||((o=void 0===o||!!o)?n.scrollLeft(t,d.left+m.left):n.scrollLeft(t,d.left+p.left)))}},704:function(e,t){function a(e,t){var a=e["page"+(t?"Y":"X")+"Offset"],n="scroll"+(t?"Top":"Left");if("number"!==typeof a){var r=e.document;"number"!==typeof(a=r.documentElement[n])&&(a=r.body[n])}return a}function n(e){return a(e)}function r(e){return a(e,!0)}function c(e){var t=function(e){var t,a,n,r=e.ownerDocument,c=r.body,l=r&&r.documentElement;return a=(t=e.getBoundingClientRect()).left,n=t.top,{left:a-=l.clientLeft||c.clientLeft||0,top:n-=l.clientTop||c.clientTop||0}}(e),a=e.ownerDocument,c=a.defaultView||a.parentWindow;return t.left+=n(c),t.top+=r(c),t}var l,o=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),i=/^(top|right|bottom|left)$/,s="left";function u(e,t){for(var a=0;a<e.length;a++)t(e[a])}function d(e){return"border-box"===l(e,"boxSizing")}"undefined"!==typeof window&&(l=window.getComputedStyle?function(e,t,a){var n="",r=e.ownerDocument;return(a=a||r.defaultView.getComputedStyle(e,null))&&(n=a.getPropertyValue(t)||a[t]),n}:function(e,t){var a=e.currentStyle&&e.currentStyle[t];if(o.test(a)&&!i.test(t)){var n=e.style,r=n[s],c=e.runtimeStyle[s];e.runtimeStyle[s]=e.currentStyle[s],n[s]="fontSize"===t?"1em":a||0,a=n.pixelLeft+"px",n[s]=r,e.runtimeStyle[s]=c}return""===a?"auto":a});var m=["margin","border","padding"];function p(e,t,a){var n,r={},c=e.style;for(n in t)r[n]=c[n],c[n]=t[n];for(n in a.call(e),t)c[n]=r[n]}function f(e,t,a){var n,r,c,o=0;for(r=0;r<t.length;r++)if(n=t[r])for(c=0;c<a.length;c++){var i;i="border"===n?n+a[c]+"Width":n+a[c],o+=parseFloat(l(e,i))||0}return o}function g(e){return null!=e&&e==e.window}var b={};function h(e,t,a){if(g(e))return"width"===t?b.viewportWidth(e):b.viewportHeight(e);if(9===e.nodeType)return"width"===t?b.docWidth(e):b.docHeight(e);var n="width"===t?["Left","Right"]:["Top","Bottom"],r="width"===t?e.offsetWidth:e.offsetHeight,c=(l(e),d(e)),o=0;(null==r||r<=0)&&(r=void 0,(null==(o=l(e,t))||Number(o)<0)&&(o=e.style[t]||0),o=parseFloat(o)||0),void 0===a&&(a=c?1:-1);var i=void 0!==r||c,s=r||o;return-1===a?i?s-f(e,["border","padding"],n):o:i?s+(1===a?0:2===a?-f(e,["border"],n):f(e,["margin"],n)):o+f(e,m.slice(a),n)}u(["Width","Height"],(function(e){b["doc"+e]=function(t){var a=t.document;return Math.max(a.documentElement["scroll"+e],a.body["scroll"+e],b["viewport"+e](a))},b["viewport"+e]=function(t){var a="client"+e,n=t.document,r=n.body,c=n.documentElement[a];return"CSS1Compat"===n.compatMode&&c||r&&r[a]||c}}));var E={position:"absolute",visibility:"hidden",display:"block"};function v(e){var t,a=arguments;return 0!==e.offsetWidth?t=h.apply(void 0,a):p(e,E,(function(){t=h.apply(void 0,a)})),t}function y(e,t,a){if("object"!==typeof t){if("undefined"===typeof a)return l(e,t);"number"===typeof a&&(a+="px"),e.style[t]=a}else for(var n in t)y(e,n,t[n])}function j(e,t){for(var a in t)e[a]=t[a];return e}u(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);b["outer"+t]=function(t,a){return t&&v(t,e,a?0:1)};var a="width"===e?["Left","Right"]:["Top","Bottom"];b[e]=function(t,n){if(void 0===n)return t&&v(t,e,-1);if(t){l(t);return d(t)&&(n+=f(t,["padding","border"],a)),y(t,e,n)}}}));var O=e.exports={getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if("undefined"===typeof t)return c(e);!function(e,t){"static"===y(e,"position")&&(e.style.position="relative");var a,n,r=c(e),l={};for(n in t)a=parseFloat(y(e,n))||0,l[n]=a+t[n]-r[n];y(e,l)}(e,t)},isWindow:g,each:u,css:y,clone:function(e){var t={};for(var a in e)t[a]=e[a];if(e.overflow)for(a in e)t.overflow[a]=e.overflow[a];return t},mix:j,scrollLeft:function(e,t){if(g(e)){if(void 0===t)return n(e);window.scrollTo(t,r(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(g(e)){if(void 0===t)return r(e);window.scrollTo(n(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},merge:function(){for(var e={},t=0;t<arguments.length;t++)O.mix(e,arguments[t]);return e},viewportWidth:0,viewportHeight:0};j(O,b)},705:function(e,t,a){"use strict";var n=a(61),r=a(1),c=a.n(r),l=a(685),o=a.n(l),i=a(32),s=(a(686),a(663)),u=a(662);t.a=function(e){var t=Object(r.useState)(""),a=Object(n.a)(t,2),l=a[0],d=a[1];return Object(r.useEffect)((function(){e.resetValue&&(d(""),e.handleResetValueClient())}),[e.resetValue]),c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{placement:"top",overlay:c.a.createElement(u.a,{id:"tooltip-disabled3"},"Buscar Cliente")},c.a.createElement("div",{className:"input-search"},c.a.createElement(i.r,null),c.a.createElement(o.a,{getItemValue:function(e){return e.name_client+"-"+e.data_document},items:e.items,shouldItemRender:function(e,t){return!e.name_client.toLowerCase().indexOf(t.toString().toLowerCase())||!e.data_document.toLowerCase().indexOf(t.toString().toLowerCase())},renderItem:function(e,t){return c.a.createElement("div",{style:{background:t?"lightgray":"white"},key:e.name_client+"-"+e.data_document},e.name_client)},value:l,onChange:function(e){return d(e.target.value)},onClick:function(t){console.log("aqui perro"),d(t),e.returnValue(t)},onSelect:function(t){d(t),e.returnValue(t)}}))))}},706:function(e,t,a){},808:function(e,t,a){},809:function(e,t,a){},817:function(e,t,a){"use strict";var n=a(3),r=a(4),c=a(5),l=a.n(c),o=a(1),i=a.n(o),s=a(8),u=a(48),d=a(692),m=a(230),p=i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,o=e.variant,u=e.as,d=void 0===u?"img":u,m=Object(r.a)(e,["bsPrefix","className","variant","as"]),p=Object(s.a)(a,"card-img");return i.a.createElement(d,Object(n.a)({ref:t,className:l()(o?p+"-"+o:p,c)},m))}));p.displayName="CardImg",p.defaultProps={variant:null};var f=p,g=Object(d.a)("h5"),b=Object(d.a)("h6"),h=Object(u.a)("card-body"),E=Object(u.a)("card-title",{Component:g}),v=Object(u.a)("card-subtitle",{Component:b}),y=Object(u.a)("card-link",{Component:"a"}),j=Object(u.a)("card-text",{Component:"p"}),O=Object(u.a)("card-header"),x=Object(u.a)("card-footer"),C=Object(u.a)("card-img-overlay"),k=i.a.forwardRef((function(e,t){var a=e.bsPrefix,c=e.className,u=e.bg,d=e.text,p=e.border,f=e.body,g=e.children,b=e.as,E=void 0===b?"div":b,v=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),y=Object(s.a)(a,"card"),j=Object(o.useMemo)((function(){return{cardHeaderBsPrefix:y+"-header"}}),[y]);return i.a.createElement(m.a.Provider,{value:j},i.a.createElement(E,Object(n.a)({ref:t},v,{className:l()(c,y,u&&"bg-"+u,d&&"text-"+d,p&&"border-"+p)}),f?i.a.createElement(h,null,g):g))}));k.displayName="Card",k.defaultProps={body:!1},k.Img=f,k.Title=E,k.Subtitle=v,k.Body=h,k.Link=y,k.Text=j,k.Header=O,k.Footer=x,k.ImgOverlay=C;t.a=k},835:function(e,t,a){"use strict";a.r(t);var n=a(61),r=a(1),c=a.n(r),l=a(45),o=a(86),i=a.n(o),s=a(125),u=a(21),d=a.n(u),m=a(626),p=a(627),f=a(318),g=a(319),b=a(671),h=a(618),E=a(32),v=(a(673),a(682)),y=a(31),j=a(29),O=function(e){return c.a.createElement("div",{style:{width:"100%",border:"0px solid white",borderRadius:"15px",boxShadow:"10px 5px 5px lightgray"}},e.product.img_product?c.a.createElement("div",{className:"d-flex align-items-center justify-content-center divTitleShowImg",style:{overflow:"hidden"}},c.a.createElement(v.a,{src:y.a+"images/product/principal/"+e.product.img_product,thumbnail:!0})):c.a.createElement("div",{className:"d-flex align-items-center justify-content-center divTitleShow",style:{borderTopRightRadius:"15px",borderTopLeftRadius:"15px",height:"70px"}},e.product.name_product),c.a.createElement("div",{className:"divDescriptionShow",style:{borderBottomLeftRadius:"15px",borderBottomRightRadius:"15px",backgroundColor:e.product.sticker_color?e.product.sticker_color:"#9c7901"}},e.product.img_product?c.a.createElement(c.a.Fragment,null,e.product.name_product,c.a.createElement("br",null)):"",c.a.createElement(p.a,{className:"d-flex align-items-center"},c.a.createElement(f.a,{sm:12,md:12,lg:12},e.config?e.config.simbolo_moneda:"$"," ",function(t,a){if(e.product.is_neto)return t=parseFloat(t),Object(j.f)(e.config,t);var n=(t=parseFloat(t))+(a=parseFloat(a))*t/100;return Object(j.f)(e.config,n)}(e.product.price,e.configStore.tax)," ",e.config?e.config.simbolo_moneda:"$"))))},x=a(15),C=a(654),k=a(674),S=[],w=function(e){Object(r.useEffect)((function(){return function(){S=[]}}),[]),Object(r.useMemo)((function(){S.push({Header:"Nombre Producto",accessor:"name_product"},{Header:"Precio",accessor:function(t){if(t.is_neto)return[Object(j.f)(e.config,t.price)];var a=parseFloat(t.price);return a+=parseFloat(a*parseFloat(e.configStore.tax)/100),[Object(j.f)(e.config,a)]},Cell:function(t){var a=t.cell.row.original;if(a.is_neto)return Object(j.f)(e.config,a.price);var n=parseFloat(a.price);return n+=parseFloat(n*parseFloat(e.configStore.tax)/100),Object(j.f)(e.config,n)}},{Header:"Categoria",accessor:function(e){return e.categories.map((function(e){return e.categories?e.categories.name_category:""}))},Cell:function(e){return c.a.createElement("ul",{className:"list-group"},e.cell.row.original.categories.map((function(e,t){return c.a.createElement("li",{key:t,className:"list-group-item"},e.categories?e.categories.name_category:"")})))}},{Header:"Tipo de Venta",accessor:"method_sale_format"},{Header:"Cantidad Disponible",accessor:function(e){return e.inventary.stock},Cell:function(e){return c.a.createElement(k.a,{variant:"danger",className:"font_badge"}," ",e.cell.row.original.inventary[0].stock," ")}},{Header:"Acciones",Cell:function(e){e.cell.row.original.id;return c.a.createElement(b.a,{size:"sm",id:"drop"+e.cell.row.original.id,title:"Seleccione",block:"true"},c.a.createElement(h.a.Item,{onClick:function(){return t(e.cell.row.original)}},"A\xf1adir al Carrito"))}})}),[]);var t=function(t){e.addToCart(t)};return c.a.createElement(C.a,{data:e.data,columns:S})},_=a(675),N=a(683),P=a(836),R=(a(657),null),T=function(e){return Object(r.useEffect)((function(){var e=document.getElementById("preview");return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,navigator.getUserMedia?navigator.getUserMedia({video:!0},(function(t){e.srcObject=t,R=t}),(function(e){return x.b.error("Error, debe enceder su c\xe1mara")})):console.log("error con el getUserMedia"),function(){var e=document.getElementById("preview");e.pause(),e.src="",R&&(R.getTracks()[0].stop(),R=null)}}),[]),c.a.createElement(p.a,{className:"align-items-center justify-content-center"},c.a.createElement(f.a,{sm:12,md:12,lg:12,xs:12},c.a.createElement("video",{id:"preview",width:"500px",height:"300px",autoPlay:!0,muted:!0}),c.a.createElement("canvas",{id:"my_canvas",style:{position:"absolute",top:"0px",left:"120px"},width:"500px",height:"300px"}),c.a.createElement("div",{className:"line",id:"line",style:{visibility:"hidden"}}),c.a.createElement("div",{className:"line1",id:"line1",style:{visibility:"hidden"}})))},z=function(e){return c.a.createElement(P.a,{show:e.show,onHide:e.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(P.a.Header,{closeButton:!0,className:"header_dark"},c.a.createElement(P.a.Title,{id:"contained-modal-title-vcenter"},"Scanner Qr Code de Productos")),c.a.createElement(P.a.Body,null,c.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},c.a.createElement(T,null))),c.a.createElement(P.a.Footer,null,c.a.createElement(g.a,{size:"sm",onClick:e.onHide},"Cerrar")))},I=a(23),F=a(170),D=(a(655),a(656),a(701)),H=a(729),q=a(50),B=function(e){var t,o,u,b=Object(r.useState)({name_product:"",cost:"",code_ean:"",description:"",is_neto:!0,id_category:[],is_auto_sale:!1,img_product:"",method_sale:1,price:"",qr_image:"",sticker_color:"#9c7901",detailCost:[],pack:""}),h=Object(n.a)(b,2),O=h[0],C=h[1],k=Object(r.useState)(!1),S=Object(n.a)(k,2),w=S[0],_=S[1],P=Object(r.useState)(!1),R=Object(n.a)(P,2),T=R[0],z=R[1],B=Object(r.useState)(!1),V=Object(n.a)(B,2),M=V[0],A=V[1],L=Object(r.useState)([]),U=Object(n.a)(L,2),G=U[0],W=U[1],K=Object(r.useState)([]),Y=Object(n.a)(K,2),X=Y[0],$=Y[1],Q=Object(r.useState)(!1),J=Object(n.a)(Q,2),Z=J[0],ee=J[1],te=Object(r.useState)(!1),ae=Object(n.a)(te,2),ne=(ae[0],ae[1],Object(r.useState)("")),re=Object(n.a)(ne,2),ce=re[0],le=re[1],oe=Object(r.useState)([]),ie=Object(n.a)(oe,2),se=ie[0],ue=ie[1],de=Object(r.useState)(""),me=Object(n.a)(de,2),pe=me[0],fe=me[1],ge=Object(r.useState)(""),be=Object(n.a)(ge,2),he=be[0],Ee=be[1],ve=Object(r.useState)("Guardar"),ye=Object(n.a)(ve,2),je=ye[0],Oe=ye[1],xe=Object(r.useState)(!1),Ce=Object(n.a)(xe,2),ke=Ce[0],Se=Ce[1],we=Object(r.useState)([]),_e=Object(n.a)(we,2),Ne=(_e[0],_e[1],Object(r.useState)(!1)),Pe=Object(n.a)(Ne,2),Re=Pe[0],Te=Pe[1],ze=Object(r.useState)(c.a.createElement(v.a,{src:a(667),id:"imagen_logo",style:{width:"80px"},roundedCircle:!0})),Ie=Object(n.a)(ze,2),Fe=Ie[0],De=(Ie[1],Object(r.useState)(c.a.createElement(v.a,{src:a(667),id:"img_show",style:{width:"80px"},roundedCircle:!0}))),He=Object(n.a)(De,2),qe=He[0],Be=He[1];Object(r.useEffect)((function(){return Me(),function(){Le()}}),[]),Object(r.useEffect)((function(){Ue()}),[se]);var Ve=function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("method_sale"!==t.target.name){e.next=6;break}return 2==t.target.value&&Te(!0),e.next=4,C(Object(I.a)(Object(I.a)({},O),{},Object(l.a)({},t.target.name,t.target.value)));case 4:e.next=14;break;case 6:if("is_neto"!==t.target.name&&"is_auto_sale"!==t.target.name){e.next=12;break}return a="true"===t.target.value,e.next=10,C(Object(I.a)(Object(I.a)({},O),{},Object(l.a)({},t.target.name,a)));case 10:e.next=14;break;case 12:return e.next=14,C(Object(I.a)(Object(I.a)({},O),{},Object(l.a)({},t.target.name,t.target.value)));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=[d.a.get(y.a+"category"),d.a.get(y.a+"config_general")];Promise.all(e).then((function(e){e[0].data?$(e[0].data):x.b.warning("Debe realizar su configuraci\xf3n general"),W(e[1].data)})).catch((function(e){e.response?x.b.error(e.response.data.message):(console.log(e),x.b.error("Error,contacte con soporte"))}))},Ae=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.currentTarget,t.preventDefault(),!1!==a.checkValidity()){e.next=6;break}return t.stopPropagation(),ee(!0),e.abrupt("return");case 6:n=new FormData,r=Object.assign({},O,{detailCost:O.detailCost.concat(w)}),Object.keys(r).forEach((function(e,t){"img_product"===e?ce&&n.append(e,ce):"id_category"===e?O[e].forEach((function(e,t){n.append("id_category",e.value)})):n.append(e,O[e])})),Oe("Guardando Datos, Espere por favor..."),Se(!0),d.a.post(y.a+"product",n).then((function(e){if(r.detailCost.length>0&&d.a.put(y.a+"product_detail_cost/"+e.data.id,r).then((function(e){})).catch((function(e){console.log(e),e.response?x.b.error(e.response.data.message):x.b.error("Error guardando el detalle de costos, contacte con soporte")})),se.length>0){Oe("Guardando Galeria de Imagenes...");var t=new FormData;Object.keys(se).forEach((function(e,a){t.append("gallery",se[e])})),t.append("id_product",e.data.id),d.a.post(y.a+"product_gallery",t).then((function(e){x.b.success("Producto Creado"),Oe("Guardar"),Se(!1),Le()})).catch((function(e){Oe("Guardar"),Se(!1);var t=e.response;t?x.b.error(t.data.message):x.b.error("Error, contacte con soporte")}))}else x.b.success("Producto Creado"),Oe("Guardar"),Se(!1),Le()})).catch((function(e){Oe("Guardar"),Se(!1);var t=e.response;t?x.b.error(t.data.message):x.b.error("Error, contacte con soporte")}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){C({name_product:"",cost:"",code_ean:"",description:"",is_neto:"",id_category:"",is_auto_sale:"",img_product:"",method_sale:"",price:"",qr_image:"",sticker_color:"#9c7901",detailCost:[],pack:""}),le(null),Be(null),ue([]),fe(""),Ee(""),document.getElementById("imagen_logo").src=a(667),Be(c.a.createElement(v.a,{src:a(667),id:"img_show",style:{width:"80px"},roundedCircle:!0})),document.getElementById("code_ean").setAttribute("readonly",!0),e.handleSubmitProduct()},Ue=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",0,e.next=4,Promise.all(Object.keys(se).map(function(){var e=Object(s.a)(i.a.mark((function e(a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=se[a],e.next=3,Object(j.b)(t);case 3:return r=e.sent,e.abrupt("return",c.a.createElement(f.a,{sm:12,md:12,lg:12,xs:12,key:n,className:"paddingColGallery"},c.a.createElement(v.a,{src:r,id:"imagen_logo",style:{width:"80%",height:"80%"},rounded:!0}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(g.a,{size:"sm",variant:"dark",title:"Eliminar",onClick:function(){return Ge(a)},className:"buttonTrashGallery"},c.a.createElement(E.u,null))));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 4:a=e.sent,fe(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(e){var t=Object.assign({},se);delete t[e],ue(t)},We=function(){z((function(e){return!e}))};return c.a.createElement(m.a,null,c.a.createElement(q.a,{onSubmit:Ae,noValidate:!0,validated:Z},c.a.createElement(p.a,{className:"justify-content-center align-items-center"},c.a.createElement(f.a,{sm:7,md:7,lg:7,xs:12,className:""},c.a.createElement(p.a,{className:"align-items-center"},c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:12},c.a.createElement(g.a,Object(l.a)({size:"sm",onClick:function(){document.getElementById("file_product").click()},variant:"success",block:"true"},"size","sm"),"Escoger Imagen Producto ",c.a.createElement(E.k,null)),c.a.createElement("input",{type:"file",id:"file_product",style:{display:"none"},onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onload=function(e){document.getElementById("imagen_logo").src=e.target.result,Be(c.a.createElement(v.a,{src:e.target.result,id:"img_show",style:{width:"100%",height:"100%"},thumbnail:!0})),le(t)},a.readAsDataURL(t)}})),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:12,className:"text-center"},Fe)),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(F.a,Object.assign({},e.inputNameProduct,{handleChange:Ve,value:O.name_product,placeholder:"Nombre del Producto"})),c.a.createElement(F.a,Object.assign({},e.inputPrice,{handleChange:Ve,value:O.price})),c.a.createElement(q.a.Group,{className:"col-md-4 col-sm-4 col-lg-4"},c.a.createElement(q.a.Label,{className:"fontBold"},"Categor\xedas"),c.a.createElement(H.a,{value:O.id_category,onChange:function(e){C(Object(I.a)(Object(I.a)({},O),{},{id_category:e}))},isMulti:!0,options:X.map((function(e,t){return{value:e.id,label:e.name_category}}))}))),c.a.createElement(p.a,null,c.a.createElement(F.a,Object.assign({},e.inputDescription,{handleChange:Ve,value:O.description})),c.a.createElement(F.a,Object.assign({},e.inputCodeEan,{handleChange:Ve,value:O.code_ean})),c.a.createElement(F.a,Object.assign({},e.inputCost,{handleChange:Ve,value:O.cost}))),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:4,md:4,lg:4},c.a.createElement(g.a,(t={size:"sm",variant:"dark"},Object(l.a)(t,"size","sm"),Object(l.a)(t,"onClick",(function(){document.getElementById("code_ean").removeAttribute("readonly")})),Object(l.a)(t,"block",!0),t),"Escribir EAN")),c.a.createElement(f.a,{sm:4,md:4,lg:4},c.a.createElement(g.a,(o={size:"sm",variant:"dark"},Object(l.a)(o,"size","sm"),Object(l.a)(o,"onClick",(function(){document.getElementById("code_ean").setAttribute("readonly",!0),A(!0)})),Object(l.a)(o,"block",!0),o),"Scannear EAN")),c.a.createElement(f.a,{sm:4,md:4,lg:4},c.a.createElement(g.a,(u={size:"sm",variant:"secondary"},Object(l.a)(u,"size","sm"),Object(l.a)(u,"onClick",We),Object(l.a)(u,"block",!0),u),"A\xf1adir Detalle de Costos"))),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:12},c.a.createElement("label",{className:"form-control-label"},"Es Neto"),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:12},c.a.createElement("label",{className:"checkbox-inline"},"Si \xa0\xa0\xa0",c.a.createElement("input",{type:"checkbox",name:"is_neto",checked:!!O.is_neto,value:!0,onChange:Ve}))),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:12},c.a.createElement("label",{className:"checkbox-inline"},"No \xa0\xa0\xa0",c.a.createElement("input",{type:"checkbox",name:"is_neto",checked:!O.is_neto,value:!1,onChange:Ve}))))),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:12},c.a.createElement("label",{className:"form-control-label"},"Es Auto Venta"),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:12},c.a.createElement("label",{className:"checkbox-inline"},"Si \xa0\xa0\xa0",c.a.createElement("input",{type:"checkbox",name:"is_auto_sale",checked:!!O.is_auto_sale,value:!0,onChange:Ve}))),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:12},c.a.createElement("label",{className:"checkbox-inline"},"No \xa0\xa0\xa0",c.a.createElement("input",{type:"checkbox",name:"is_auto_sale",checked:!O.is_auto_sale,value:!1,onChange:Ve})))))),c.a.createElement(p.a,null,c.a.createElement(F.a,Object.assign({},e.inputSticker,{handleChange:Ve,value:O.sticker_color})),c.a.createElement(F.a,Object.assign({},e.inputMethodSale,{handleChange:Ve,value:O.method_sale}),c.a.createElement("option",{value:""},"--Seleccione--"),c.a.createElement("option",{value:1},"Unidad"),c.a.createElement("option",{value:2},"Mayorista"),c.a.createElement("option",{value:3},"(Kilo, Litros, Metros, Entre Otros...)")),Re?c.a.createElement(F.a,Object.assign({},e.inputPack,{handleChange:Ve,value:O.pack})):""),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{md:6,sm:6,lg:6},c.a.createElement(g.a,{size:"sm",type:"submit",disabled:ke,variant:"primary",block:!0},je)))),c.a.createElement(f.a,{sm:3,md:3,lg:3,xs:12,className:"containerDiv divGallery"},O.img_product&&!ce?c.a.createElement("div",{className:"d-flex align-items-center justify-content-center divTitleShowImg"},c.a.createElement(v.a,{src:y.a+"images/product/principal/"+O.img_product,thumbnail:!0,style:{width:"100%",height:"100%"}})):ce&&qe?c.a.createElement("div",{className:"d-flex align-items-center justify-content-center divTitleShowImg"},qe):c.a.createElement("div",{className:"d-flex align-items-center justify-content-center divTitleShow"},O.name_product),c.a.createElement("div",{className:"divDescriptionShow d-flex align-items-center",style:{backgroundColor:O.sticker_color?O.sticker_color:"#9c7901"}},O.name_product,c.a.createElement("br",null),G?G.simbolo_moneda:"$"," ",O.price),c.a.createElement("br",null),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:12,md:12,lg:12,xs:12},c.a.createElement(g.a,{size:"sm",variant:"secondary",onClick:function(){document.getElementById("galleryImg").click()},block:"true"},"Galeria ",c.a.createElement(E.k,null)),c.a.createElement("input",{type:"file",id:"galleryImg",style:{display:"none"},multiple:!0,accept:".jpg, .png, .jpeg",onChange:function(e){ue(e.target.files)}}))),c.a.createElement("br",null),c.a.createElement(p.a,null,pe),c.a.createElement(p.a,null,he)))),c.a.createElement(N.a,{show:M,onHide:function(){return A(!1)},catchCode:function(e){A(!1)}}),c.a.createElement(D.a,{isShow:T,onHide:We,handleCostValues:function(e){_(e),z(!1)},dataUpdate:O.detailCost,handleRemoveFromUpdate:function(e){var t=Object.assign({},O,{detailCost:O.detailCost.filter((function(t){return t.id!==e.id}))});C(t)}}))};B.defaultProps={inputNameProduct:{type:"text",required:!0,name:"name_product",label:"Nombre",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputCodeEan:{type:"text",required:!1,readonly:!0,name:"code_ean",label:"Codigo EAN",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputIsNeto:{type:"select",required:!0,name:"is_neto",label:"Es Neto",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputDescription:{type:"textarea",required:!1,name:"description",label:"Descripci\xf3n",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputAutoSale:{type:"select",required:!0,name:"is_auto_sale",label:"Auto Venta",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputMethodSale:{type:"select",required:!0,name:"method_sale",label:"M\xe9todo de Venta",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputPrice:{type:"number",required:!0,name:"price",label:"Precio",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",step:"any",messageErrors:["Requerido*"]},inputCost:{type:"number",required:!1,name:"cost",label:"Costo",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",step:"any",messageErrors:["Requerido*"]},inputSticker:{type:"color",required:!0,name:"sticker_color",label:"color de la Etiqueta",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputCategory:{type:"select",multiple:!0,required:!1,name:"id_category",label:"Categoria",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputPack:{type:"number",required:!1,name:"pack",label:"Pack",placeholder:"Ingrese la cantidad de venta",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",step:"any",messageErrors:["Requerido*"]}};var V=B,M=function(e){return c.a.createElement(P.a,{show:e.show,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(P.a.Header,{closeButton:!0,className:"header_dark"},c.a.createElement(P.a.Title,{id:"contained-modal-title-vcenter"},"Formulario de Productos")),c.a.createElement(P.a.Body,null,c.a.createElement(V,Object.assign({},e,{handleSubmitProduct:function(){e.handleSubmitProduct()}}))),c.a.createElement(P.a.Footer,null,c.a.createElement(g.a,{size:"sm",onClick:e.onHide},"Cerrar")))},A=function(e){var t=Object(r.useState)({name_product:"",price:"",observation:""}),a=Object(n.a)(t,2),o=a[0],i=a[1],s=Object(r.useState)(!1),u=Object(n.a)(s,2),d=u[0],m=u[1],f=function(){e.onHide()},b=function(e){i(Object(I.a)(Object(I.a)({},o),{},Object(l.a)({},e.target.name,e.target.value)))};return c.a.createElement(P.a,{show:e.isShow,onHide:f,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(P.a.Header,{closeButton:!0,className:"header_dark"},c.a.createElement(P.a.Title,{id:"contained-modal-title-vcenter"},"Agregar al Carrito Producto no Registrado")),c.a.createElement(q.a,{onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),!1===a.checkValidity())return t.stopPropagation(),void m(!0);e.handleAddProduct(Object.assign({},o)),i({name_product:"",price:"",observation:""})},noValidate:!0,validated:d},c.a.createElement(P.a.Body,null,c.a.createElement(p.a,null,c.a.createElement(F.a,Object.assign({},e.inputName,{value:o.name_product,handleChange:b})),c.a.createElement(F.a,Object.assign({},e.inputPrice,{value:o.price,handleChange:b}))),c.a.createElement(p.a,null,c.a.createElement(F.a,Object.assign({},e.inputObservation,{value:o.observation,handleChange:b})))),c.a.createElement(P.a.Footer,null,c.a.createElement(g.a,{size:"sm",type:"submit",variant:"secondary"},"Agregar"),c.a.createElement(g.a,{size:"sm",onClick:f},"Cerrar"))))};A.defaultProps={inputName:{type:"text",required:!1,name:"name_product",label:"Nombre Producto",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:[]},inputPrice:{type:"number",required:!0,name:"price",step:"any",label:"Precio",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]},inputObservation:{type:"textarea",required:!1,name:"observation",label:"Observaci\xf3n",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",rows:3,messageErrors:["Requerido*"]}};var L=A,U=a(685),G=a.n(U),W=(a(686),a(663)),K=a(662),Y=function(e){var t=Object(r.useState)(""),a=Object(n.a)(t,2),l=a[0],o=a[1];return c.a.createElement(W.a,{placement:"top",overlay:c.a.createElement(K.a,{id:"tooltip-disabled"},e.titleTooltip?e.titleTooltip:"")},c.a.createElement("div",{className:"input-search"},c.a.createElement(E.r,null),c.a.createElement(G.a,{getItemValue:function(t){return t[e.keyName]},items:e.items,shouldItemRender:function(t,a){return!t[e.keyName].toLowerCase().indexOf(a.toLowerCase())},renderItem:function(t,a){return c.a.createElement("div",{style:{background:a?"lightgray":"white"},key:t[e.keyName]},t[e.keyName])},value:l,onChange:function(t){o(t.target.value),""===t.target.value&&e.showAllCategories()},onSelect:function(t){o(t),e.returnValue(t)}})))},X=a(705),$=a(53),Q=a(0),J=function(e){return Object(Q.a)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 0 0 0 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM699 387c-35.3 0-64-28.7-64-64s28.7-64 64-64 64 28.7 64 64-28.7 64-64 64z"}}]})(e)};J.displayName="AiFillTag";var Z=function(e){return Object(Q.a)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M120 160H72c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zm833 0h-48c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8zM200 736h112c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H200c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm321 0h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm126 0h178c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8H647c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm-255 0h48c4.4 0 8-3.6 8-8V168c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v560c0 4.4 3.6 8 8 8zm-79 64H201c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm257 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm256 0H648c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h178c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-385 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]})(e)};Z.displayName="AiOutlineBarcode";var ee=function(e){return Object(Q.a)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M468 128H160c-17.7 0-32 14.3-32 32v308c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V136c0-4.4-3.6-8-8-8zm-56 284H192V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210H136c-4.4 0-8 3.6-8 8v308c0 17.7 14.3 32 32 32h308c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zm-56 284H192V612h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm590-630H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h332c4.4 0 8-3.6 8-8V160c0-17.7-14.3-32-32-32zm-32 284H612V192h220v220zm-138-74h56c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm194 210h-48c-4.4 0-8 3.6-8 8v134h-78V556c0-4.4-3.6-8-8-8H556c-4.4 0-8 3.6-8 8v332c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h78v102c0 4.4 3.6 8 8 8h190c4.4 0 8-3.6 8-8V556c0-4.4-3.6-8-8-8zM746 832h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm142 0h-48c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}}]})(e)};ee.displayName="AiOutlineQrcode";var te=a(684),ae=function(e){var t,a,o,u,v,j,C,k,S=Object(r.useState)([]),P=Object(n.a)(S,2),R=P[0],T=P[1],I=Object(r.useState)([]),F=Object(n.a)(I,2),D=F[0],H=F[1],q=Object(r.useState)(!1),B=Object(n.a)(q,2),V=B[0],A=B[1],U=Object(r.useState)(!1),G=Object(n.a)(U,2),Q=G[0],ae=G[1],ne=Object(r.useState)(!1),re=Object(n.a)(ne,2),ce=re[0],le=re[1],oe=Object(r.useState)(!1),ie=Object(n.a)(oe,2),se=ie[0],ue=ie[1],de=Object(r.useState)(!1),me=Object(n.a)(de,2),pe=me[0],fe=me[1],ge=Object(r.useState)([]),be=Object(n.a)(ge,2),he=be[0],Ee=be[1],ve=Object(r.useState)([]),ye=Object(n.a)(ve,2),je=(ye[0],ye[1]),Oe=Object(r.useState)([]),xe=Object(n.a)(Oe,2),Ce=xe[0],ke=xe[1],Se=Object(r.useState)(!1),we=Object(n.a)(Se,2),_e=we[0],Ne=we[1],Pe=Object(r.useState)(!1),Re=Object(n.a)(Pe,2),Te=Re[0],ze=Re[1],Ie=Object(r.useState)(!1),Fe=Object(n.a)(Ie,2),De=Fe[0],He=Fe[1];Object(r.useEffect)((function(){Ae(),Me(),Ve(),Be()}),[]),Object(r.useEffect)((function(){1!==e.sale.rooms.length&&x.b.success("Proceso Completado")}),[e.sale.rooms.length]);var qe=function(e){d.a.get(y.a+"productByCodeBar/"+e).then((function(e){ae(!1)})).catch((function(e){e.response?x.b.error(e.response.data.message):x.b.error("Error, contacte con soporte")}))},Be=function(){d.a.get(y.a+"productByCategory/todos").then((function(e){ke(e.data)})).catch((function(e){e.response?x.b.error(e.response.data.message):x.b.error("Error, contacte con soporte")}))},Ve=function(){d.a.get(y.a+"client").then((function(e){H(e.data)})).catch((function(e){e.response?x.b.error(e.response.data.message):x.b.error("Error, contacte con soporte")}))},Me=function(){d.a.get(y.a+"category").then((function(e){T(e.data)})).catch((function(e){e.response?x.b.error(e.response.data.message):x.b.error("Error, contacte con soporte")}))},Ae=function(){var t=[d.a.get(y.a+"productByCategory/mas_vendidos")];Promise.all(t).then(function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ee(t[0].data),je(t[0].data);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){t.response?"Debe hacer la configuraci\xf3n de empresa para continuar"===t.response.data.message?e.history.replace("/config/config_store"):x.b.error(t.response.data.message):x.b.error("Error, contacte con soporte")}))},Le=function(t){var a=Object.assign({},t),n=e.sale.rooms[e.sale.idCartSelected].carts.registered.find((function(e){return e.id===t.id}));n?e.configStore.handle_stock?2===a.method_sale?n.cantidad+a.pack>a.inventary[0].stock?x.b.error("No existe cantidad en el inventario para satisfacer el pedido"):(e.addProduct({product:a,configStore:e.configStore}),x.b.success("Proceso Completado")):n.cantidad+1>a.inventary[0].stock?x.b.error("No existe cantidad en el inventario para satisfacer el pedido"):(e.addProduct({product:a,configStore:e.configStore}),x.b.success("Proceso Completado")):(e.addProduct({product:a,configStore:e.configStore}),x.b.success("Proceso Completado")):e.configStore.handle_stock?2===a.method_sale?n?n.cantidad+a.pack>a.inventary[0].stock?x.b.error("No existe cantidad en el inventario para satisfacer el pedido"):(e.addProduct({product:a,configStore:e.configStore}),x.b.success("Proceso Completado")):a.pack>a.inventary[0].stock?x.b.error("No existe cantidad en el inventario para satisfacer el pedido"):(e.addProduct({product:a,configStore:e.configStore}),x.b.success("Proceso Completado")):n&&n.cantidad+1>a.inventary[0].stock?x.b.error("No existe cantidad en el inventario para satisfacer el pedido"):(e.addProduct({product:a,configStore:e.configStore}),x.b.success("Proceso Completado")):(e.addProduct({product:a,configStore:e.configStore}),x.b.success("Proceso Completado"))},Ue=function(e){switch(e){case"qr":le(!1);break;case"ean":ae(!1);break;case"client":A(!1),Ve();break;case"not_registered":ue(!1);break;case"product":fe(!1)}},Ge=function(e){switch(e){case"qr":le(!0);break;case"ean":ae(!0);break;case"client":A(!0);break;case"not_registered":ue(!0);break;case"product":fe(!0)}},We=function(){ze((function(e){return!e}))},Ke=function(e){e&&d.a.get(y.a+"productByCategory/"+e).then((function(e){Ee(e.data),je(e.data)})).catch((function(e){e.response?x.b.error(e.response.data.message):x.b.error("Error, contacte con soporte")}))};return c.a.createElement(m.a,{fluid:"true"},c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:4,style:{borderRadius:"15px",boxShadow:"10px 5px 5px lightgray",padding:"20px"}},c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:8,md:8,lg:8},c.a.createElement(X.a,{items:D,returnValue:function(t){var a=t.split("-")[1],n=D.find((function(e){return e.data_document===a}));e.setBuyer(n)},handleResetValueClient:function(){Ne(!1)},resetValue:_e})),c.a.createElement(f.a,{sm:2,md:2,lg:2,xs:2},c.a.createElement("a",{href:"javascript:void(0)",onClick:function(){return Ge("client")}},c.a.createElement(W.a,{placement:"top",overlay:c.a.createElement(K.a,{id:"tooltip-disabled2"},"Agregar Cliente")},c.a.createElement($.f,{size:"2.5em"}))))),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:12,md:12,lg:12},c.a.createElement("br",null),c.a.createElement("ul",{className:""},Object.keys(e.sale.rooms[e.sale.idCartSelected].client).length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,c.a.createElement("b",null,"Nombre:\xa0"),e.sale.rooms[e.sale.idCartSelected].client.name_client,c.a.createElement("br",null),c.a.createElement("b",null,"N\xb0:"),"\xa0",e.sale.rooms[e.sale.idCartSelected].client.data_document,"\xa0\xa0\xa0",c.a.createElement("a",{style:{color:"red"},href:"javascript:void(0)",onClick:function(t){e.deleteBuyer(),Ne(!0)}},c.a.createElement(E.v,null)))):c.a.createElement("h6",{className:"text-center"},"Sin cliente de compra")))),c.a.createElement("hr",null),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:10,md:10,lg:10},c.a.createElement("div",{style:{width:"100%",position:"relative",zIndex:"1000"}},c.a.createElement(Y,{items:Ce,keyName:"name_product",returnValue:function(e){var t=Ce.find((function(t){return t.name_product===e}));Ee([t])},showAllCategories:function(){Ke("todos")},titleTooltip:"Buscar Producto"})))),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:3,md:3,lg:3,xs:3},c.a.createElement(W.a,{placement:"botton",overlay:c.a.createElement(K.a,{id:"tooltip-disabled"},"Buscar Producto por Qr")},c.a.createElement(g.a,(t={size:"sm"},Object(l.a)(t,"size","sm"),Object(l.a)(t,"variant","secondary"),Object(l.a)(t,"block","true"),Object(l.a)(t,"onClick",(function(){return Ge("qr")})),t),c.a.createElement(ee,{size:"1.3em"})))),c.a.createElement(f.a,{sm:3,md:3,lg:3,xs:3},c.a.createElement(W.a,{placement:"button",overlay:c.a.createElement(K.a,{id:"tooltip-disabled"},"Buscar Producto por EAN")},c.a.createElement(g.a,(a={size:"sm"},Object(l.a)(a,"size","sm"),Object(l.a)(a,"variant","secondary"),Object(l.a)(a,"block","true"),Object(l.a)(a,"onClick",(function(){He(!0)})),a),c.a.createElement(Z,{size:"1.3em"})))),c.a.createElement(f.a,{sm:3,md:3,lg:3,xs:3},c.a.createElement(W.a,{placement:"button",overlay:c.a.createElement(K.a,{id:"tooltip-disabled"},"Vender Producto no Registrado")},c.a.createElement(g.a,(o={size:"sm"},Object(l.a)(o,"size","sm"),Object(l.a)(o,"variant","secondary"),Object(l.a)(o,"block","true"),Object(l.a)(o,"onClick",(function(){return Ge("not_registered")})),o),c.a.createElement(J,{size:"1.3em"})))),c.a.createElement(f.a,{sm:3,md:3,lg:3,xs:3},Te?c.a.createElement(c.a.Fragment,null,c.a.createElement(W.a,{placement:"button",overlay:c.a.createElement(K.a,{id:"tooltip-disabled"},"Mostar por Tableros")},c.a.createElement(g.a,(u={size:"sm"},Object(l.a)(u,"size","sm"),Object(l.a)(u,"variant","secondary"),Object(l.a)(u,"block","true"),Object(l.a)(u,"onClick",We),u),c.a.createElement(E.q,{size:"1.3em"})))):c.a.createElement(c.a.Fragment,null,c.a.createElement(W.a,{placement:"button",overlay:c.a.createElement(K.a,{id:"tooltip-disabled"},"Mostar como Lista")},c.a.createElement(g.a,(v={size:"sm"},Object(l.a)(v,"size","sm"),Object(l.a)(v,"variant","secondary"),Object(l.a)(v,"block","true"),Object(l.a)(v,"onClick",We),v),c.a.createElement(E.l,{size:"1.3em"})))))),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:12,md:12,lg:12},c.a.createElement(g.a,(j={size:"sm"},Object(l.a)(j,"size","sm"),Object(l.a)(j,"variant","primary"),Object(l.a)(j,"block","true"),Object(l.a)(j,"size","sm"),Object(l.a)(j,"onClick",(function(){return e.addCart()})),j),"Agregar \xa0\xa0",c.a.createElement(E.s,null)))),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:12,md:12,lg:12},c.a.createElement(b.a,{size:"sm",id:"cart_button_quantity",title:"Cambiar de Carrito",block:"true",variant:"primary",className:"dropdown_block",drop:"up"},e.sale.rooms.map((function(t,a){return c.a.createElement(h.a.Item,{onClick:function(){return e.changeCartId(a)},key:a},"Carrito N\xb0 ",a+1)}))))),c.a.createElement("br",null),e.showProductAndTotal(),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:12,md:12,lg:12},c.a.createElement(g.a,(C={size:"sm"},Object(l.a)(C,"size","sm"),Object(l.a)(C,"variant","danger"),Object(l.a)(C,"block","true"),Object(l.a)(C,"onClick",(function(){return e.handleChangeView(2)})),Object(l.a)(C,"style",{color:"black"}),C),"Ver Detalle del \xa0\xa0",c.a.createElement(E.s,null))))),De?c.a.createElement(f.a,{sm:8,md:8,lg:8,style:{border:"1px solid white",borderRadius:"15px",boxShadow:"10px 5px 5px lightgray"}},c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement(g.a,{variant:"danger",block:!0,type:"button",size:"sm",onClick:function(){He(!1)}},"Mostrar Productos"))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:7,md:7,lg:7},c.a.createElement(te.a,{catchCode:qe})))):c.a.createElement(f.a,{sm:8,md:8,lg:8,xs:8,style:{border:"1px solid white",borderRadius:"15px",boxShadow:"10px 5px 5px lightgray"}},c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:7,md:7,lg:7,xs:7},c.a.createElement("select",{className:"form-control",onChange:function(e){Ke(e.target.value)},defaultValue:"mas_vendidos",id:"select_category"},c.a.createElement("option",{value:"todos"},"Todos"),c.a.createElement("option",{value:"mas_vendidos"},"M\xe1s Vendidos"),R.map((function(e,t){return c.a.createElement("option",{key:t,value:e.id},e.name_category)})))),c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:4},c.a.createElement("label",{className:"form-control-label"},"Seleccione por Categoria")),c.a.createElement(f.a,{sm:12,md:12,lg:12,xs:12,onClick:function(){return Ge("product")}},c.a.createElement("br",null),c.a.createElement(W.a,{placement:"button",overlay:c.a.createElement(K.a,{id:"tooltip-disabled"},"Nuevo Producto")},c.a.createElement(g.a,(k={size:"sm",block:!0},Object(l.a)(k,"size","sm"),Object(l.a)(k,"variant","success"),k),"Agregar Producto \xa0\xa0",c.a.createElement(E.o,null))))),c.a.createElement("hr",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:12,md:12,lg:12,style:{overflow:"auto",height:"100%",maxHeight:"520px"}},Te?c.a.createElement(w,{data:he,addToCart:Le,configStore:e.configStore,config:e.config}):c.a.createElement(p.a,{style:{overflowY:"auto"}},he.map((function(t,a){return c.a.createElement(f.a,{sm:3,md:3,lg:3,xs:3,key:a,onClick:function(){return Le(t)},className:"separatedBlockProducts"},c.a.createElement(O,{product:t,config:e.config,configStore:e.configStore}))}))))))),c.a.createElement(_.a,{isShow:V,onHide:function(){return Ue("client")}}),c.a.createElement(N.a,{show:Q,onHide:function(){return Ue("ean")},catchCode:qe}),c.a.createElement(z,{show:ce,onHide:function(){return Ue("qr")},catchQrCode:function(e){console.log(e)}}),c.a.createElement(M,Object.assign({show:pe,onHide:function(){return Ue("product")},handleSubmitProduct:function(){Ue("product");var e=document.getElementById("select_category").value;Ke(e)}},e)),c.a.createElement(L,{isShow:se,onHide:function(){return Ue("not_registered")},handleAddProduct:function(t){Ue("not_registered"),e.addProductNotRegistered({product:Object.assign({},t),configStore:e.configStore}),x.b.success("Proceso Completado")}}))},ne=a(36),re=a(229),ce=a(817);a(808);var le=Object(ne.b)((function(e){return{sale:e.sale.sale}}),{updateProduct:re.q})((function(e){var t,a,o,i,s,u,d=Object(r.useState)(),m=Object(n.a)(d,2),b=m[0],h=m[1],v=Object(r.useState)(!1),y=Object(n.a)(v,2),O=y[0],C=y[1],k=Object(r.useState)(!1),S=Object(n.a)(k,2),w=S[0],_=S[1],N=Object(r.useState)(""),P=Object(n.a)(N,2),R=P[0],T=P[1],z=Object(r.useRef)(null),I=Object(r.useRef)(null);Object(r.useEffect)((function(){T(e.product.price),h(e.product.cantidad)}),[e.product.price,e.product.cantidad]);var F=function(t){if(13===t.keyCode){var a=Object.assign({},e.product),n=e.sale.rooms[e.sale.idCartSelected].carts.registered.find((function(e){return e.id===a.id}));n&&e.configStore.handle_stock&&b>a.inventary[0].stock?(x.b.error("No existe cantidad en el inventario para satisfacer el pedido"),h(n.cantidad),C(!1),_(!1)):(e.updateProduct({cantidad:b||0,price:R,name_product:a.name_product,id_product:a.id,typeProduct:e.isRegistered?"registered":"not_registered",configStore:e.configStore}),C(!1),_(!1))}};return c.a.createElement(ce.a,{className:"separationCard"},c.a.createElement(ce.a.Header,null,c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:2,md:2,lg:2},c.a.createElement("h6",{className:"text-center"},"Cantidad"),c.a.createElement("br",null),c.a.createElement("input",{ref:z,style:{display:O?"block":"none"},id:"input_quantity",type:"number",className:"form-control",placeholder:"Presione enter para enviar",onKeyUp:F,value:b,onChange:function(e){h(e.target.value)}}),O?"":c.a.createElement("h6",{className:"text-center"},e.product.cantidad)),c.a.createElement(f.a,{sm:2,md:2,lg:2},c.a.createElement("h6",{className:"text-center"},"Nombre Producto"),c.a.createElement("br",null),c.a.createElement("h6",{className:"text-center"},e.product.name_product)),c.a.createElement(f.a,{sm:2,md:2,lg:2},c.a.createElement("h6",{className:"text-center"},"Precio"),c.a.createElement("br",null),c.a.createElement("input",{ref:I,style:{display:w?"block":"none"},type:"number",step:"any",className:"form-control",placeholder:"Presione enter para enviar",onKeyUp:F,value:R,onChange:function(e){T(e.target.value)}}),w?"":c.a.createElement("h6",{className:"text-center"},Object(j.f)(e.config,e.product.price))),c.a.createElement(f.a,{sm:2,md:2,lg:2},c.a.createElement("h6",{className:"text-center"},"Total"),c.a.createElement("br",null),c.a.createElement("h6",{className:"text-center"},Object(j.f)(e.config,e.product.price*e.product.cantidad))),c.a.createElement(f.a,{sm:2,md:2,lg:2},c.a.createElement("h6",{className:"text-center"},"Remover"),c.a.createElement("br",null),c.a.createElement(g.a,(t={size:"sm"},Object(l.a)(t,"size","sm"),Object(l.a)(t,"variant","danger"),Object(l.a)(t,"onClick",(function(){e.removeProduct({product:Object.assign({},e.product),typeProduct:e.isRegistered?"registered":"not_registered"})})),Object(l.a)(t,"block",!0),t),c.a.createElement(E.u,null))))),c.a.createElement(ce.a.Body,null,c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:2,md:2,lg:2,xs:6},c.a.createElement(g.a,(a={size:"sm"},Object(l.a)(a,"size","sm"),Object(l.a)(a,"block","true"),Object(l.a)(a,"onClick",(function(){C(!O),setTimeout((function(){z.current.focus()}),300)})),a),"Cantidad")),c.a.createElement(f.a,{sm:2,md:2,lg:2,xs:6},c.a.createElement(g.a,(o={size:"sm"},Object(l.a)(o,"size","sm"),Object(l.a)(o,"block","true"),Object(l.a)(o,"onClick",(function(){_(!w),setTimeout((function(){I.current.focus()}),300)})),o),"Precio")),c.a.createElement(f.a,{sm:2,md:2,lg:2,xs:6},c.a.createElement(g.a,(i={size:"sm"},Object(l.a)(i,"size","sm"),Object(l.a)(i,"block","true"),Object(l.a)(i,"onClick",(function(){return t=e.product,void e.handleModalDescription(t);var t})),i),"Descripci\xf3n")),",",c.a.createElement(f.a,{sm:2,md:2,lg:2,xs:6},c.a.createElement(g.a,(s={size:"sm"},Object(l.a)(s,"size","sm"),Object(l.a)(s,"block","true"),Object(l.a)(s,"onClick",(function(){return e.handleModalRecharge(e.product,e.isRegistered)})),s),"Recargo")),c.a.createElement(f.a,{sm:2,md:2,lg:2,xs:6},c.a.createElement(g.a,(u={size:"sm"},Object(l.a)(u,"size","sm"),Object(l.a)(u,"block","true"),Object(l.a)(u,"onClick",(function(){return e.handleModalDiscount(e.product,e.isRegistered)})),u),"Descuento")))))})),oe=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),l=a[0],o=a[1],i=Object(r.useState)(""),s=Object(n.a)(i,2),u=s[0],d=s[1],m=function(){e.onHide()};return c.a.createElement(P.a,{show:e.isShow,onHide:m,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(P.a.Header,{closeButton:!0,className:"header_dark"},c.a.createElement(P.a.Title,{id:"contained-modal-title-vcenter"},"Descripci\xf3n de venta para el Producto ",e.product.name_product)),c.a.createElement(q.a,{onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),!1===a.checkValidity())return t.stopPropagation(),void o(!0);e.returnDescriptionValue(u),d("")},noValidate:!0,validated:l},c.a.createElement(P.a.Body,null,c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(F.a,Object.assign({},e.inputDescription,{value:u,handleChange:function(e){d(e.target.value)}})))),c.a.createElement(P.a.Footer,null,c.a.createElement(g.a,{size:"sm",variant:"secondary",type:"submit"},"Guardar"),c.a.createElement(g.a,{size:"sm",onClick:m},"Cerrar"))))};oe.defaultProps={inputDescription:{type:"textarea",required:!0,name:"description",label:"Descripci\xf3n de Venta",rows:4,messageErrors:["Requerido*"],cols:"col-sm-9 col-md-9 col-lg-9 col-xs-9"}};var ie=oe,se=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),o=a[0],i=a[1],s=Object(r.useState)(0),u=Object(n.a)(s,2),d=u[0],m=u[1],b=Object(r.useState)({type:"fijo",amount:""}),h=Object(n.a)(b,2),E=h[0],v=h[1],y=Object(r.useRef)();Object(r.useEffect)((function(){e.isShow&&y.current.focus()}),[e.isShow]),Object(r.useEffect)((function(){return function(){v({type:"fijo",amount:""}),m(0)}}),[]);var j=function(){e.onHide()},O=function(t){if(v(Object(I.a)(Object(I.a)({},E),{},Object(l.a)({},t.target.name,t.target.value))),e.product&&"amount"===t.target.name)if("fijo"!==E.type){var a=parseFloat(e.product.price)*parseFloat(e.product.cantidad),n=a*E.amount/100*parseFloat(e.product.cantidad);m(a=(a+=n)||0)}else{var r=parseFloat(e.product.price)*parseFloat(e.product.cantidad),c=parseFloat(t.target.value)*parseFloat(e.product.cantidad);m(r=(r+=c)||0)}else if(!e.product&&"amount"===t.target.name)if("fijo"!==E.type){var o=parseFloat(e.totales.total_backup)*parseFloat(t.target.value)/100;o+=parseFloat(e.totales.total_backup),m(o=o||0)}else{var i=parseFloat(e.totales.total_backup)+parseFloat(t.target.value);m(i=i||0)}};return c.a.createElement(P.a,{show:e.isShow,onHide:j,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(P.a.Header,{closeButton:!0,className:"header_dark"},c.a.createElement(P.a.Title,{id:"contained-modal-title-vcenter"},e.titleTotal?c.a.createElement("span",null,e.titleTotal):c.a.createElement("span",null,"Agregar Recargo al Producto"))),c.a.createElement(q.a,{onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),!1===a.checkValidity())return t.stopPropagation(),void i(!0);e.handleRechargeProduct(Object.assign({},E)),v({type:"fijo",amount:""})},noValidate:!0,validated:o},c.a.createElement(P.a.Body,null,c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(F.a,Object.assign({},e.inputType,{value:E.type,handleChange:O}),c.a.createElement("option",{value:""},"--Seleccione--"),c.a.createElement("option",{value:"fijo"},"Fijo"),c.a.createElement("option",{value:"percentaje"},"Porcentaje")),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:12},c.a.createElement("label",{className:"form-control-label"},"Monto"),c.a.createElement("input",Object.assign({className:"form-control",ref:y,value:E.amount,onChange:O},e.inputRecharge)),c.a.createElement(q.a.Control.Feedback,{type:"invalid"},c.a.createElement("span",{className:"error-input"},"Requerido*")))),e.product?c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement(q.a.Control,{type:"number",name:"total_calculado",value:d,readOnly:!0,className:"form-control",step:"any"})),c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement("br",null),c.a.createElement(g.a,{size:"sm",variant:"secondary",onClick:function(){e.handleResetRechargeDiscount({product:e.product,isRegistered:e.product.is_neto?"registered":"not_registered"})}},"Reestablecer Precio Base"))):c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement(q.a.Control,{type:"number",name:"total_calculado",value:d,readOnly:!0,className:"form-control",step:"any"})),c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement("br",null),c.a.createElement(g.a,{size:"sm",variant:"secondary",onClick:function(){e.handleResetTotal()}},"Reestablecer Precio Base")))),c.a.createElement(P.a.Footer,null,c.a.createElement(g.a,{size:"sm",variant:"secondary",type:"submit"},"Enviar"),c.a.createElement(g.a,{size:"sm",onClick:j},"Cerrar"))))};se.defaultProps={inputType:{type:"select",required:!0,name:"type",label:"Tipo de Recargo",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputRecharge:{type:"number",required:!0,name:"amount",label:"Monto Recarga",step:"any",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"}};var ue=se,de=function(e){var t=Object(r.useState)(!1),a=Object(n.a)(t,2),o=a[0],i=a[1],s=Object(r.useState)(0),u=Object(n.a)(s,2),d=u[0],m=u[1],b=Object(r.useState)({type:"fijo",amount:""}),h=Object(n.a)(b,2),E=h[0],v=h[1],y=Object(r.useRef)();Object(r.useEffect)((function(){e.isShow&&y.current.focus()}),[e.isShow]),Object(r.useEffect)((function(){return function(){v({type:"fijo",amount:""})}}),[]);var j=function(){e.onHide()},O=function(t){if(v(Object(I.a)(Object(I.a)({},E),{},Object(l.a)({},t.target.name,t.target.value))),e.product&&"amount"===t.target.name)if("fijo"!==E.type){var a=parseFloat(e.product.price)*parseFloat(e.product.cantidad),n=a*E.amount/100*parseFloat(e.product.cantidad);m(a=(a-=n)||0)}else{var r=parseFloat(e.product.price)*parseFloat(e.product.cantidad),c=parseFloat(t.target.value)*parseFloat(e.product.cantidad);m(r=(r-=c)||0)}else if(!e.product&&"amount"===t.target.name)if("fijo"!==E.type){var o=parseFloat(e.totales.total_backup)*parseFloat(t.target.value)/100;o=parseFloat(e.totales.total_backup)-o,m(o=o||0)}else{var i=parseFloat(e.totales.total_backup)-parseFloat(t.target.value);m(i=i||0)}};return c.a.createElement(P.a,{show:e.isShow,onHide:j,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(P.a.Header,{closeButton:!0,className:"header_dark"},c.a.createElement(P.a.Title,{id:"contained-modal-title-vcenter"},"Agregar Descuento al Producto")),c.a.createElement(q.a,{onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),!1===a.checkValidity())return t.stopPropagation(),void i(!0);e.handleDiscountProduct(Object.assign({},E)),v({type:"fijo",amount:""})},noValidate:!0,validated:o},c.a.createElement(P.a.Body,null,c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(F.a,Object.assign({},e.inputType,{value:E.type,handleChange:O}),c.a.createElement("option",{value:""},"--Seleccione--"),c.a.createElement("option",{value:"fijo"},"Fijo"),c.a.createElement("option",{value:"percentaje"},"Porcentaje")),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:12},c.a.createElement("label",{className:"form-control-label"},"Monto"),c.a.createElement("input",Object.assign({className:"form-control",ref:y,value:E.amount,onChange:O},e.inputDiscount)),c.a.createElement(q.a.Control.Feedback,{type:"invalid"},c.a.createElement("span",{className:"error-input"},"Requerido*")))),e.product?c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement(q.a.Control,{type:"number",name:"total_calculado",value:d,readOnly:!0,className:"form-control",step:"any"})),c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement("br",null),c.a.createElement(g.a,{size:"sm",variant:"secondary",onClick:function(){e.handleResetRechargeDiscount({product:e.product,isRegistered:e.product.is_neto?"registered":"not_registered"})}},"Reestablecer Precio Base"))):c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement(q.a.Control,{type:"number",name:"total_calculado",value:d,readOnly:!0,className:"form-control",step:"any"})),c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement("br",null),c.a.createElement(g.a,{size:"sm",variant:"secondary",onClick:function(){e.handleResetTotal()}},"Reestablecer Precio Base")))),c.a.createElement(P.a.Footer,null,c.a.createElement(g.a,{size:"sm",variant:"secondary",type:"submit"},"Enviar"),c.a.createElement(g.a,{size:"sm",onClick:j},"Cerrar"))))};de.defaultProps={inputType:{type:"select",required:!0,name:"type",label:"Tipo de Descuento",messageErrors:["Requerido*"],cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"},inputDiscount:{type:"number",required:!0,name:"amount",label:"Monto Descuento",step:"any",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6"}};var me=de,pe=function(e){var t,a,o,i=Object(r.useState)(!1),s=Object(n.a)(i,2),u=s[0],v=s[1],j=Object(r.useState)(!1),O=Object(n.a)(j,2),C=(O[0],O[1],Object(r.useState)(!1)),S=Object(n.a)(C,2),w=(S[0],S[1],Object(r.useState)(!1)),_=Object(n.a)(w,2),N=_[0],P=_[1],R=Object(r.useState)(!1),T=Object(n.a)(R,2),z=T[0],D=T[1],H=Object(r.useState)(!1),B=Object(n.a)(H,2),V=B[0],M=B[1],A=Object(r.useState)(!1),L=Object(n.a)(A,2),U=L[0],G=L[1],W=Object(r.useState)(!1),K=Object(n.a)(W,2),Y=K[0],X=K[1],$=Object(r.useState)({}),Q=Object(n.a)($,2),J=Q[0],Z=Q[1],ee=Object(r.useState)(""),te=Object(n.a)(ee,2),ae=(te[0],te[1],Object(r.useState)("")),ne=Object(n.a)(ae,2),re=(ne[0],ne[1],Object(r.useState)(!1)),ce=Object(n.a)(re,2),oe=ce[0],se=ce[1],de=Object(r.useState)(!1),pe=Object(n.a)(de,2),fe=pe[0],ge=pe[1],be=Object(r.useState)(!0),he=Object(n.a)(be,2),Ee=he[0],ve=he[1],ye=Object(r.useState)({address1_dispatch:"",address2_dispatch:"",phone_dispatch:"",note_dispatch:"",type_address:3}),je=Object(n.a)(ye,2),Oe=je[0],xe=je[1],Ce=Object(r.useState)(!1),ke=Object(n.a)(Ce,2),Se=ke[0],we=ke[1],_e=function(e){var t=e.inventary?"registered":"not_registered";Z(e),P(!N),v(t)},Ne=function(e,t){var a=t?"registered":"not_registered";Z(e),M(!V),v(a)},Pe=function(e,t){var a=t?"registered":"not_registered";Z(e),D(!z),v(a)},Re=function(){e.handleResetTotal({configStore:e.configStore}),X(!1),G(!1)},Te=function(t){e.resetDiscountRecharge({product:Object.assign({},t.product),configStore:e.configStore,typeRegister:t.isRegistered}),D(!1),M(!1)},ze=function(t){if("discount"===t)switch(e.sale.rooms[e.sale.idCartSelected].total_recharge_discount.type){case"resta":return c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{variant:"danger"},e.sale.rooms[e.sale.idCartSelected].total_recharge_discount.amount),c.a.createElement("br",null),c.a.createElement("span",null,"percentaje"===e.sale.rooms[e.sale.idCartSelected].total_recharge_discount.percentajeFixed?"porcentaje":"fijo"));default:return 0}else if("recharge"===t)switch(e.sale.rooms[e.sale.idCartSelected].total_recharge_discount.type){case"suma":return c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{variant:"danger"},e.sale.rooms[e.sale.idCartSelected].total_recharge_discount.amount),c.a.createElement("br",null),c.a.createElement("span",null,"percentaje"===e.sale.rooms[e.sale.idCartSelected].total_recharge_discount.percentajeFixed?"porcentaje":"fijo"));default:return 0}},Ie=function(e){xe(Object(I.a)(Object(I.a)({},Oe),{},Object(l.a)({},e.target.name,e.target.value)))},Fe=function(t){var a=parseInt(t,10);if(1===a)if(Object.keys(e.sale.rooms[e.sale.idCartSelected].client).length>0){var n=e.sale.rooms[e.sale.idCartSelected].client.address,r=e.sale.rooms[e.sale.idCartSelected].client.phone;xe(Object(I.a)(Object(I.a)({},Oe),{},{address1_dispatch:n,address2_dispatch:"",phone_dispatch:r,type_address:a})),we(!1)}else x.b.error("No hay cliente seleccionado para este pedido");else if(2===a)if(Object.keys(e.sale.rooms[e.sale.idCartSelected].client).length>0){var c=e.sale.rooms[e.sale.idCartSelected].client.address,l=e.sale.rooms[e.sale.idCartSelected].client.phone;xe(Object(I.a)(Object(I.a)({},Oe),{},{address1_dispatch:c,phone_dispatch:l,type_address:a})),we(!0),ve(!0)}else x.b.error("No hay cliente seleccionado para este pedido");else xe(Object(I.a)(Object(I.a)({},Oe),{},{address1_dispatch:"",address2_dispatch:"",phone_dispatch:"",type_address:a})),we(!1),ve(!1)},De=function(){xe({address1_dispatch:"",address2_dispatch:"",phone_dispatch:"",note_dispatch:"",type_address:3})};return c.a.createElement(m.a,{fluid:"true"},oe?c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{style:{borderRadius:"15px",boxShadow:"10px 5px 5px lightgray",paddingRight:"10px",paddingLeft:"10px"}},c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:4},c.a.createElement(g.a,{size:"sm",variant:"primary",onClick:function(){return e.handleChangeView(1)}},"Volver a la Secci\xf3n 1")),c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:4},c.a.createElement("h3",{className:"text-center font-title"},"Carrito N\xb0 ",e.sale.idCartSelected+1)),c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:4,className:"text-right"},c.a.createElement(g.a,{size:"sm",variant:"primary",onClick:function(){return se(!1)}},"Detalles del carrito"))),c.a.createElement(p.a,{style:{borderRadius:"15px",boxShadow:"10px 5px 5px lightgray",paddingTop:"20px",paddingBottom:"20px"}},c.a.createElement(f.a,{sm:12,md:12,lg:12},c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:4,md:4,lg:4},c.a.createElement(g.a,{variant:"danger",block:!0,type:"button",size:"sm",onClick:function(){return Fe(1)}},"Usar Datos del Cliente")),c.a.createElement(f.a,{sm:4,md:4,lg:4},c.a.createElement(g.a,{variant:"danger",block:!0,type:"button",size:"sm",onClick:function(){return Fe(2)}},"Usar datos del cliente pero con otra direcci\xf3n")),c.a.createElement(f.a,{sm:4,md:4,lg:4},c.a.createElement(g.a,{variant:"danger",block:!0,type:"button",size:"sm",onClick:function(){return Fe(3)}},"Ingresar Datos"))),c.a.createElement("hr",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:12,md:12,lg:12},c.a.createElement(q.a,{onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),!1===a.checkValidity())return t.stopPropagation(),void ge(!0);var n=Object.assign({},Oe),r=Object.assign({},e.sale.rooms[e.sale.idCartSelected],{payment:{},status:4,dispatch:n});d.a.post(y.a+"sale_by_dispatch",r).then((function(t){x.b.success("Despacho Guardado"),De(),e.removeCart(),setTimeout((function(){e.handleChangeView(1)}),1e3)})).catch((function(e){e.response?x.b.error(e.response.data.message):(console.log(e),x.b.error("Error, contacte con soporte"))}))},noValidate:!0,validated:fe},c.a.createElement(p.a,null,c.a.createElement(F.a,{type:"text",name:"address1_dispatch",required:!0,label:"Direcci\xf3n",value:Oe.address1_dispatch,handleChange:Ie,messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-sm-4",readonly:Ee}),c.a.createElement(F.a,{type:"number",name:"phone_dispatch",required:!0,label:"Tel\xe9fono",value:Oe.phone_dispatch,handleChange:Ie,messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-sm-4",readonly:Ee}),c.a.createElement(F.a,{type:"text",name:"note_dispatch",required:!0,label:"Nota",value:Oe.note_dispatch,handleChange:Ie,messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-sm-4"})),Se?c.a.createElement(p.a,null,c.a.createElement(F.a,{type:"text",name:"address2_dispatch",required:!0,label:"Direcci\xf3n2",value:Oe.address2_dispatch,handleChange:Ie,messageErrors:["Requerido*"],cols:"col-sm-4 col-md-4 col-sm-4"})):"",c.a.createElement("br",null),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:4,md:4,lg:4},c.a.createElement(g.a,{variant:"primary",block:!0,type:"submit",size:"sm"},"Guardar Despacho")),c.a.createElement(f.a,{sm:4,md:4,lg:4},c.a.createElement(g.a,{variant:"secondary",block:!0,type:"button",size:"sm",onClick:function(){return se(!1)}},"Ver detalle del Carrito"))))))))):c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{style:{borderRadius:"15px",boxShadow:"10px 5px 5px lightgray"}},c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:4},c.a.createElement(g.a,(t={size:"sm"},Object(l.a)(t,"size","sm"),Object(l.a)(t,"onClick",(function(){return e.handleChangeView(1)})),t),"Volver a la Secci\xf3n 1")),c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:4},c.a.createElement("h3",{className:"text-center font-title"},"Carrito N\xb0 ",e.sale.idCartSelected+1))),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:4,style:{borderRadius:"15px",boxShadow:"5px 5px 5px lightgray"}},e.showIndexCart(),c.a.createElement("hr",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"font-title"},"Neto: ",e.sale.rooms[e.sale.idCartSelected].totales.neto),c.a.createElement("h4",{className:"font-title"},"Tax: ",e.sale.rooms[e.sale.idCartSelected].totales.tax),c.a.createElement("h4",{className:"font-title"},"Total: ",e.sale.rooms[e.sale.idCartSelected].totales.total))),c.a.createElement("hr",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement(g.a,{size:"sm",variant:"secondary",type:"button",block:"true",onClick:function(){return G(!0)}},"+\xa0Descuento del\xa0",c.a.createElement(E.s,null)),c.a.createElement("br",null),ze("discount")),c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement(g.a,(a={size:"sm"},Object(l.a)(a,"size","sm"),Object(l.a)(a,"variant","secondary"),Object(l.a)(a,"type","button"),Object(l.a)(a,"block","true"),Object(l.a)(a,"onClick",(function(){return X(!0)})),a),"+\xa0Recargo del\xa0",c.a.createElement(E.s,null)),c.a.createElement("br",null),ze("recharge"))),c.a.createElement("hr",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:12,md:12,lg:12},c.a.createElement(b.a,{size:"sm",id:"cart_button_quantity",title:"Opciones del Carrito",block:"true",variant:"primary",className:"dropdown_block",drop:"up"},c.a.createElement(h.a.Item,{onClick:function(){return e.handleChangeView(1)}},"Volver a la Secci\xf3n 1"),e.sale.rooms.map((function(t,a){return c.a.createElement(h.a.Item,{onClick:function(){return e.changeCartId(a)},key:a},"Carrito N\xb0 ",a+1)}))))),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:12,md:12,lg:12},c.a.createElement(g.a,{size:"sm",variant:"secondary",block:!0,onClick:function(){return se(!0)},type:"button"},"Con Despacho"))),c.a.createElement("hr",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:12,md:12,lg:12},c.a.createElement(g.a,(o={size:"sm",className:"text-white"},Object(l.a)(o,"size","sm"),Object(l.a)(o,"block","true"),Object(l.a)(o,"variant","danger"),Object(l.a)(o,"onClick",(function(){return e.handleChangeView(3)})),Object(l.a)(o,"style",{color:"black"}),o),"Avanzar al Pago")))),c.a.createElement(f.a,{sm:8,md:8,lg:8,xs:8,style:{borderRadius:"15px",boxShadow:"10px 5px 5px lightgray"}},c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:12,md:12,lg:12},c.a.createElement("h3",{className:"font-title text-center"},"Productos"))),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:12,md:12,lg:12,style:{overflow:"auto",height:"500px",maxHeight:"500px"}},e.sale.rooms[e.sale.idCartSelected].carts.registered.map((function(t,a){return c.a.createElement(le,{product:t,key:a,isRegistered:!0,handleModalDescription:_e,handleModalRecharge:Pe,handleModalDiscount:Ne,configStore:e.configStore,config:e.config,removeProduct:e.removeProduct})})),e.sale.rooms[e.sale.idCartSelected].carts.not_registered.map((function(t,a){return c.a.createElement(le,{product:t,key:a,isRegistered:!1,handleModalDescription:_e,handleModalRecharge:Pe,handleModalDiscount:Ne,configStore:e.configStore,config:e.config,removeProduct:e.removeProduct})}))))))),c.a.createElement(ie,{isShow:N,onHide:function(){return P(!N)},returnDescriptionValue:function(t){P(!N),e.setDescription({id_product:Object.assign({},J).id,description:t,typeProduct:Object.assign({},{},{isRegister:u}).isRegister})},product:J}),c.a.createElement(me,{isShow:V,onHide:function(){return M(!V)},handleDiscountProduct:function(t){e.setDiscount({discount:t,product:Object.assign({},J),isRegistered:Object.assign({},{},{isRegister:u}).isRegister,configStore:e.configStore}),M(!V)},product:J,handleResetRechargeDiscount:Te}),c.a.createElement(ue,{isShow:z,onHide:function(){return D(!z)},handleRechargeProduct:function(t){e.setRecharge({discount:t,product:Object.assign({},J),isRegistered:Object.assign({},{},{isRegister:u}).isRegister,configStore:e.configStore}),D(!z)},product:J,handleResetRechargeDiscount:Te}),c.a.createElement(ue,{isShow:Y,onHide:function(){return X(!Y)},handleRechargeProduct:function(t){e.setRechargeTotal({recharge:t,configStore:e.configStore}),X(!Y)},titleTotal:"Agregar Recarga al Total",totales:e.sale.rooms[e.sale.idCartSelected].totales,handleResetTotal:Re}),c.a.createElement(me,{isShow:U,onHide:function(){return G(!U)},handleDiscountProduct:function(t){e.setDiscountTotal({discount:t,configStore:e.configStore}),G(!U)},titleTotal:"Agregar Descuento al Total",totales:e.sale.rooms[e.sale.idCartSelected].totales,handleResetTotal:Re}))},fe=function(e){var t=Object(r.useState)({efectivo:0,tarjeta:0,sumup:0,cheque:0,otros:0}),a=Object(n.a)(t,2),o=a[0],i=a[1],s=function(e){i(Object(I.a)(Object(I.a)({},o),{},Object(l.a)({},e.target.name,e.target.value?e.target.value:0)))};return c.a.createElement(P.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(P.a.Header,{closeButton:!0,className:"header_dark"},c.a.createElement(P.a.Title,{id:"contained-modal-title-vcenter"},"Historial del Producto ",e.name_product)),c.a.createElement(q.a,{onSubmit:function(t){t.currentTarget;t.preventDefault(),t.stopPropagation();var a=!1;Object.keys(o).forEach((function(e){o[e]>0&&(a=!0)})),a?e.handlePaymentMultiple(o):x.b.error("Debe llenar al menos un m\xe9todo de pago")}},c.a.createElement(P.a.Body,null,c.a.createElement(p.a,null,c.a.createElement(F.a,Object.assign({},e.inputEfectivo,{value:o.efectivo,handleChange:s})),c.a.createElement(F.a,Object.assign({},e.inputTarjeta,{value:o.tarjeta,handleChange:s}))),c.a.createElement(p.a,null,c.a.createElement(F.a,Object.assign({},e.inputSumup,{value:o.sumup,handleChange:s})),c.a.createElement(F.a,Object.assign({},e.inputCheque,{value:o.cheque,handleChange:s}))),c.a.createElement(p.a,null,c.a.createElement(F.a,Object.assign({},e.inputOtros,{value:o.otros,handleChange:s})))),c.a.createElement(P.a.Footer,null,c.a.createElement(g.a,{size:"sm",type:"submit",variant:"secondary"},"Finalizar"),c.a.createElement(g.a,{size:"sm",onClick:e.onHide},"Cerrar"))))};fe.defaultProps={inputEfectivo:{type:"number",required:!1,name:"efectivo",label:"Efectivo",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:[]},inputTarjeta:{type:"number",required:!1,name:"tarjeta",label:"Tarjeta",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:[]},inputSumup:{type:"number",required:!1,name:"sumup",label:"Sumup",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:[]},inputCheque:{type:"number",required:!1,name:"cheque",label:"Cheque",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:[]},inputOtros:{type:"number",required:!1,name:"otros",label:"Otros",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:[]}};var ge=fe,be=(a(706),a(658)),he=a(666),Ee=a.n(he),ve="",ye=function(e){var t=function(t){var a=0;if(t.is_neto||void 0===t.is_neto)return a+=t.cantidad*t.price,a,a,Object(j.f)(e.config,a);a=t.cantidad*t.price,a;var n=t.price*t.cantidad*e.configStore.tax/100;return n,a+n,Object(j.f)(e.config,a+n)};return c.a.createElement(P.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static"},c.a.createElement(P.a.Header,{closeButton:!0,className:"header_dark"},c.a.createElement(P.a.Title,{id:"contained-modal-title-vcenter"},"Pre Factura de la Compra")),c.a.createElement(P.a.Body,null,c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:12,className:"text-center"},c.a.createElement(v.a,{src:y.a+"images/store/logo/"+e.configStore.logo,style:{width:"70%"}}))),c.a.createElement("br",null),c.a.createElement(p.a,{className:"justify-content-center text-center"},c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:12},c.a.createElement("h4",null,e.configStore.name_store))),c.a.createElement(p.a,{className:"justify-content-center text-center"},c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:12},c.a.createElement("h4",null,e.configStore.address))),c.a.createElement(p.a,{className:"justify-content-center text-center"},c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:12},c.a.createElement("h4",null,"Fono: ",e.configStore.phone))),c.a.createElement("br",null),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:8,md:8,lg:8,xs:8,className:"div_client"},c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement("h6",null,"Se\xf1or(es)")),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},e.sale.client?c.a.createElement("h6",null,e.sale.client.name_client):"")),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement("h6",null,"Fecha: ")),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},be.tz("America/Santiago").format("DD-MM-YYYY"))),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement("h6",null,"Rut")),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},e.sale.client?c.a.createElement(c.a.Fragment,null,c.a.createElement("h6",null,e.sale.client.type_document),c.a.createElement("h6",null,e.sale.client.data_document)):"")),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement("h6",null,"Direcci\xf3n")),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},e.sale.client?c.a.createElement("h6",null,e.sale.client.address):"")),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement("h6",null,"Tel\xe9fono")),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},e.sale.client?c.a.createElement("h6",null,e.sale.client.phone):"")))),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:8,md:8,lg:8,xs:8,className:"div_client"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center bgThead"},"Producto"),c.a.createElement("th",{className:"text-center bgThead"},"Precio.U"),c.a.createElement("th",{className:"text-center bgThead"},"Cantidad"),c.a.createElement("th",{className:"text-center bgThead"},"Iva"),c.a.createElement("th",{className:"text-center bgThead"},"Total"))),c.a.createElement("tbody",{className:"text-center"},e.sale.carts.registered.map((function(a,n){return ve=function(t){if(t.is_neto||void 0===t.is_neto)return c.a.createElement("span",null,"Excento");var a=t.price*t.cantidad*e.configStore.tax/100;return a,Object(j.f)(e.config,a)}(a),c.a.createElement("tr",{key:n},c.a.createElement("td",null,a.name_product),c.a.createElement("td",null,e.config.simbolo_moneda,Object(j.f)(e.config,a.price)),c.a.createElement("td",null,a.cantidad),c.a.createElement("td",null,a.is_neto?"":e.config.simbolo_moneda,ve),c.a.createElement("td",null,e.config.simbolo_moneda,t(a)," "))})),e.sale.carts.not_registered.map((function(a,n){return c.a.createElement("tr",{key:n},c.a.createElement("td",null,a.name_product),c.a.createElement("td",null,e.config.simbolo_moneda,Object(j.f)(e.config,a.price)),c.a.createElement("td",null,a.cantidad),c.a.createElement("td",null,"Excento"),c.a.createElement("td",null,e.config.simbolo_moneda,t(a)," "))})))))),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:8,md:8,lg:8,xs:8,className:"div_client"},c.a.createElement("table",{className:"table"},c.a.createElement("tbody",{className:""},c.a.createElement("tr",null,c.a.createElement("td",null,"Monto Neto:"),c.a.createElement("td",null,Object(j.f)(e.config,e.sale.totales.neto))),c.a.createElement("tr",null,c.a.createElement("td",null,"Tax",e.configStore.tax," :"),c.a.createElement("td",null,Object(j.f)(e.config,e.sale.totales.tax))),c.a.createElement("tr",null,c.a.createElement("td",null,"Total:"),c.a.createElement("td",null,Object(j.f)(e.config,e.sale.totales.total))))))),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:8,md:8,lg:8,xs:8,className:"div_client"},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{className:"text-center rowTable"},"ACUSE DE RECIBO")),c.a.createElement("tr",null,c.a.createElement("td",null,"Nombre:")),c.a.createElement("tr",null,c.a.createElement("td",null,"Rut:")),c.a.createElement("tr",null,c.a.createElement("td",null,"Fecha:")),c.a.createElement("tr",null,c.a.createElement("td",null,"Recinto:")),c.a.createElement("tr",null,c.a.createElement("td",null,"Firma:")),c.a.createElement("tr",null,c.a.createElement("td",null,"El acuse de recibo que se declara en esteacto, de acuerdo a lo dispuesto en la letra b)del art\xedculo 4\xba y la letra c) del art\xedculo 5\xba de laley 19.983, acredita que la entrega demercader\xeda(s) o servicio(s) prestado(s) ha(n)sido recibo(s)"))))))),c.a.createElement(P.a.Footer,null,c.a.createElement(g.a,{size:"sm",variant:"secondary",type:"button",onClick:function(){window.open("/invoicePrintPage/"+e.lastSale.id)}},"Imprimir"),c.a.createElement(g.a,{size:"sm",variant:"secondary",type:"button",onClick:function(){var t=Object.assign({},{},{configStore:e.configStore,sale:e.sale,config:e.config});d.a.post(y.a+"invoiceSale",t,{responseType:"blob"}).then((function(e){Ee.a.saveAs(e.data,"test.pdf")})).catch((function(e){console.log(e)}))}},"Generar Pdf"),c.a.createElement(g.a,{size:"sm",onClick:function(){e.onHide()}},"Finalizar")))},je=function(e){var t,a=Object(r.useState)({payment:"",turned:"",type:1,multiple_payment:{efectivo:0,tarjeta:0,sumup:0,cheque:0,otros:0,status:!1},voucher:!1,type_delivery:!0}),o=Object(n.a)(a,2),i=o[0],s=o[1],u=Object(r.useState)({}),E=Object(n.a)(u,2),v=E[0],O=E[1],C=Object(r.useState)(!1),S=Object(n.a)(C,2),w=S[0],_=S[1],N=Object(r.useState)(!1),P=Object(n.a)(N,2),R=P[0],T=P[1],z=Object(r.useState)(!1),D=Object(n.a)(z,2),H=D[0],B=D[1],V=Object(r.useState)(!1),M=Object(n.a)(V,2),A=(M[0],M[1],function(t){if(i.type){var a=parseFloat(e.sale.rooms[e.sale.idCartSelected].totales.total);if(parseFloat(i.payment)<a)x.b.error("El monto pagado es inferior al total por pagar");else{var n=Object.assign({},e.sale.rooms[e.sale.idCartSelected],{payment:i,status:t});d.a.post(y.a+"sale",n).then((function(a){x.b.success("Proceso Completado"),2===t?(G(),e.removeCart(),setTimeout((function(){e.handleChangeView(1)}),1e3)):(G(),O(a.data),T(!0))})).catch((function(e){e.response?x.b.error(e.response.data.message):(console.log(e),x.b.error("Error, contacte con soporte"))}))}}else x.b.error("Debe escoger un m\xe9todo de pago")}),L=function(e){if("voucherCheckbox"===e.target.id)s(Object(I.a)(Object(I.a)({},i),{},{voucher:e.target.checked}));else if("type_delivery"===e.target.name){var t="true"===e.target.value;s(Object(I.a)(Object(I.a)({},i),{},Object(l.a)({},e.target.name,t)))}else s(Object(I.a)(Object(I.a)({},i),{},Object(l.a)({},e.target.name,e.target.value)))},U=function(t){var a=Object.assign({},n).turned,n=Object.assign({},n).payment;6===t?(_(!0),B(!0),n=0):[2,3,4].includes(t)?(a=0,n=Object.assign({},e.sale.rooms[e.sale.idCartSelected].totales).total,B(!0)):(n=0,B(!1)),s(Object(I.a)(Object(I.a)({},n),{},{turned:a,payment:n,type:t,multiple_payment:{efectivo:0,tarjeta:0,sumup:0,cheque:0,otros:0,status:!1}}))},G=function(){s({payment:"",turned:"",type:1,multiple_payment:{efectivo:0,tarjeta:0,sumup:0,cheque:0,otros:0,status:!1}})};return c.a.createElement(m.a,{fluid:"true"},c.a.createElement(p.a,{style:{borderRadius:"15px",boxShadow:"10px 5px 5px lightgray"}},c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:4},c.a.createElement(g.a,(t={size:"sm"},Object(l.a)(t,"size","sm"),Object(l.a)(t,"onClick",(function(){return e.handleChangeView(2)})),t),"Volver a la Secci\xf3n 2")),c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:4},c.a.createElement("h3",{className:"text-center font-title"},"Pago del Carrito N\xb0 ",e.sale.idCartSelected+1))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:4,md:4,lg:4,style:{borderRadius:"15px",boxShadow:"5px 5px 5px lightgray"}},c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement(g.a,{size:"sm",onClick:function(){return U(1)},variant:1===i.type?"secondary":"dark",block:"true"},"Efectivo")),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement(g.a,{size:"sm",onClick:function(){return U(2)},variant:2===i.type?"secondary":"dark",block:"true"},"Tarjeta"))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement(g.a,{size:"sm",onClick:function(){return U(3)},variant:3===i.type?"secondary":"dark",block:"true"},"Sumup")),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement(g.a,{size:"sm",onClick:function(){return U(4)},variant:4===i.type?"secondary":"dark",block:"true"},"Cheque"))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement(g.a,{size:"sm",onClick:function(){return U(5)},variant:5===i.type?"secondary":"dark",block:"true"},"Otros")),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement(g.a,{size:"sm",onClick:function(){return U(6)},variant:6===i.type?"secondary":"dark",block:"true"},"Pago multiple"))),c.a.createElement("br",null),c.a.createElement("hr",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement(q.a.Group,null,c.a.createElement(q.a.Check,{type:"checkbox",custom:!0,id:"voucherCheckbox",label:"Venta sin Boleta",value:i.voucher,checked:i.voucher,onChange:L})))),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement(q.a.Group,null,c.a.createElement(q.a.Check,{type:"radio",custom:!0,id:"typeDelivery1",name:"type_delivery",label:"Entrega Inmediata",value:!0,checked:i.type_delivery,onChange:L}))),c.a.createElement(f.a,{sm:6,md:6,lg:6},c.a.createElement(q.a.Group,null,c.a.createElement(q.a.Check,{type:"radio",custom:!0,id:"typeDelivery2",name:"type_delivery",label:"Guardar en Despacho",value:!1,checked:!i.type_delivery,onChange:L})))),c.a.createElement(g.a,{size:"sm",variant:"danger",className:"text-white",block:"true",onClick:function(){return A(1)},style:{color:"black"}},"Finalizar"),c.a.createElement("br",null)),c.a.createElement(f.a,{sm:7,md:7,lg:7,xs:7,style:{borderRadius:"15px",boxShadow:"10px 5px 5px lightgray"}},c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:12,className:"text-center"},c.a.createElement("h4",null,"Sub Total: ",c.a.createElement(k.a,{variant:"primary",style:{fontSize:"18px"}},Object(j.f)(e.config,e.sale.rooms[e.sale.idCartSelected].totales.neto)," "))),c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:12,className:"text-center"},c.a.createElement("h4",null,"Tax: ",c.a.createElement(k.a,{variant:"primary",style:{fontSize:"18px"}},Object(j.f)(e.config,e.sale.rooms[e.sale.idCartSelected].totales.tax)))),c.a.createElement(f.a,{sm:4,md:4,lg:4,xs:12,className:"text-center"},c.a.createElement("h4",null,"Total: ",c.a.createElement(k.a,{variant:"primary",style:{fontSize:"18px"}},Object(j.f)(e.config,e.sale.rooms[e.sale.idCartSelected].totales.total))))),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(F.a,Object.assign({},e.inputPayment,{handleChange:L,value:i.payment,handleKeyUp:function(t){var a=parseFloat(t.target.value)-parseFloat(e.sale.rooms[e.sale.idCartSelected].totales.total);s(a>0?Object(I.a)(Object(I.a)({},i),{},{turned:[2,3,4].includes(i.type)?0:a}):Object(I.a)(Object(I.a)({},i),{},{turned:0}))},readonly:H}))),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(F.a,Object.assign({},e.inputTurned,{handleChange:L,value:i.turned}))),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:12},c.a.createElement(g.a,{size:"sm",block:"true",variant:"primary",type:"button",onClick:function(){return A(2)}},"Guardar Pedido"))),c.a.createElement("br",null),c.a.createElement(p.a,{className:"justify-content-center"},c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:12},c.a.createElement(b.a,{size:"sm",id:"cart_button_quantity",title:"Opciones del Carrito",block:"true",variant:"primary",className:"dropdown_block",drop:"up"},c.a.createElement(h.a.Item,{onClick:function(){return e.handleChangeView(2)}},"Volver a la Secci\xf3n 2"),e.sale.rooms.map((function(t,a){return c.a.createElement(h.a.Item,{onClick:function(){return e.changeCartId(a)},key:a},"Carrito N\xb0 ",a+1)}))),e.showIndexCart(),c.a.createElement("br",null),c.a.createElement("br",null))))),c.a.createElement(ge,{isShow:w,onHide:function(){_(!1)},handlePaymentMultiple:function(t){s((function(a){a.multiple_payment={efectivo:t.efectivo,tarjeta:t.tarjeta,sumup:t.sumup,cheque:t.cheque,otros:t.otros,status:!0},a.payment=parseFloat(t.efectivo)+parseFloat(t.tarjeta)+parseFloat(t.sumup)+parseFloat(t.cheque)+parseFloat(t.otros);var n=a.payment-parseFloat(e.sale.rooms[e.sale.idCartSelected].totales.total);return a.turned=n<0?0:n,a})),_(!1)}}),c.a.createElement(ye,{isShow:R,onHide:function(){T(!1),e.removeCart(),setTimeout((function(){e.handleChangeView(1)}),1e3)},lastSale:v,configStore:e.configStore,config:e.config,sale:e.sale.rooms[e.sale.idCartSelected]}))};je.defaultProps={inputPayment:{type:"number",required:!0,name:"payment",label:"",placeholder:"Cantidad Recibida",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",step:"any",messageErrors:["Requerido*"]},inputTurned:{type:"number",required:!0,name:"turned",label:"",placeholder:"Vuelto",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",step:"any",readonly:!0,messageErrors:["Requerido*"]}};var Oe=je,xe=a(60);a(809);t.default=Object(ne.b)((function(e){return{sale:e.sale.sale}}),{resetCart:re.i,updateProduct:re.q,setDescription:re.l,setRecharge:re.o,setDiscount:re.m,setRechargeTotal:re.p,setDiscountTotal:re.n,changeCartId:re.d,addCart:re.a,addProduct:re.b,addProductNotRegistered:re.c,removeCart:re.g,removeProduct:re.h,deleteBuyer:re.e,setBuyer:re.k,resetDiscountRecharge:re.j,handleResetTotal:re.f})((function(e){var t=Object(r.useState)(1),a=Object(n.a)(t,2),l=a[0],o=a[1],i=Object(r.useState)({}),s=Object(n.a)(i,2),u=s[0],m=s[1],g=Object(r.useState)({}),b=Object(n.a)(g,2),h=b[0],E=b[1];Object(r.useEffect)((function(){return v(),xe.a.toggleCollapsed(),function(){e.resetCart(),xe.a.toggleCollapsed()}}),[]);var v=function(){var t=[d.a.get(y.a+"config_store"),d.a.get(y.a+"config_general")];Promise.all(t).then((function(t){t[1].data&&t[0].data?(m(t[1].data),E(t[0].data)):t[1].data?t[0].data||(x.b.error("Error, debe hacer su configuraci\xf3n de la tienda primero"),e.history.replace("/config/config_store")):(x.b.error("Error, debe hacer su configuraci\xf3n general"),e.history.replace("/config/config_general"))}))},j=function(e){o(e)},O=function(){var t=0;return e.sale.rooms[e.sale.idCartSelected].carts.registered.forEach((function(e,a){t+=parseInt(e.cantidad,10)})),e.sale.rooms[e.sale.idCartSelected].carts.not_registered.forEach((function(e,a){t+=parseInt(e.cantidad,10)})),t},C=function(){return c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement("br",null),"Carrito: ",e.sale.idCartSelected+1),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},c.a.createElement("br",null),"Productos: ",O()))};return c.a.createElement(c.a.Fragment,null,1==l?c.a.createElement(ae,Object.assign({handleChangeView:j},e,{config:u,configStore:h,addCart:e.addCart,addProduct:e.addProduct,addProductNotRegistered:e.addProductNotRegistered,removeCart:e.removeCart,removeProduct:e.removeProduct,setBuyer:e.setBuyer,deleteBuyer:e.deleteBuyer,sale:e.sale,showIndexCart:C,showProductAndTotal:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.a,{className:""},c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},"Productos: ",O()),c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},"Total: ",e.sale.rooms[e.sale.idCartSelected].totales.total)),c.a.createElement("br",null),c.a.createElement(p.a,null,c.a.createElement(f.a,{sm:6,md:6,lg:6,xs:6},"Carrito: ",e.sale.idCartSelected+1)))}})):2==l?c.a.createElement(pe,Object.assign({handleChangeView:j},e,{config:u,configStore:h,setDescription:e.setDescription,setRecharge:e.setRecharge,setDiscount:e.setDiscount,setRechargeTotal:e.setRechargeTotal,setDiscountTotal:e.setDiscountTotal,changeCartId:e.changeCartId,sale:e.sale,removeProduct:e.removeProduct,resetDiscountRecharge:e.resetDiscountRecharge,showIndexCart:C,handleResetTotal:e.handleResetTotal})):c.a.createElement(Oe,Object.assign({handleChangeView:j},e,{config:u,configStore:h,changeCartId:e.changeCartId,sale:e.sale,removeCart:e.removeCart,showIndexCart:C})))}))}}]);
//# sourceMappingURL=9.465e7d6e.chunk.js.map