(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[27],{611:function(e,t,a){"use strict";var n=a(47),l=a(119),r=a(1),c=a.n(r),o=a(120),s=a(621),i=a(622),m=a(301);function u(){var e=Object(l.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .table_responsive_eddit{\n    overflow-x: auto;\n  }\n"]);return u=function(){return e},e}var d=o.a.div(u());function E(e){var t=e.column,a=t.filterValue,n=t.preFilteredRows,l=t.setFilter,r=n.length;return c.a.createElement("input",{value:a||"",onChange:function(e){l(e.target.value||void 0)},placeholder:"Buscar en ".concat(r," registros..."),className:"inputPageFilter"})}function b(e,t,a){return Object(i.a)(e,a,{keys:[function(e){return e.values[t]}]})}function g(e){var t=e.columns,a=e.data,l=e.menuTop,r=e.headerColor,o=e.headerFontColor,i=e.pageSizeHandler,u=c.a.useMemo((function(){return{fuzzyText:b,text:function(e,t,a){return e.filter((function(e){var n=e.values[t];return void 0===n||String(n).toLowerCase().startsWith(String(a).toLowerCase())}))}}}),[]),d=c.a.useMemo((function(){return{Filter:E}}),[]),g=Object(s.useTable)({columns:t,data:a,defaultColumn:d,filterTypes:u,initialState:{pageIndex:0,pageSize:i[0]}},s.useFilters,s.useSortBy,s.usePagination),p=g.getTableProps,f=g.getTableBodyProps,h=g.headerGroups,v=g.page,y=g.prepareRow,N=g.canPreviousPage,_=g.canNextPage,C=g.pageOptions,k=g.pageCount,x=g.gotoPage,O=g.nextPage,j=g.previousPage,z=g.setPageSize,w=g.state,S=w.pageIndex,G=w.pageSize;return c.a.createElement("div",{className:"table_responsive_eddit"},l?c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(0)},disabled:!N},"<<")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return j()},disabled:!N},"<")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O()},disabled:!_},">")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(k-1)},disabled:!_},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,S+1," de ",C.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:S+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;x(t)},className:"inputPage"},"onChange",(function(e){e.target.value>C.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:G,onChange:function(e){z(Number(e.target.value))},className:"inputPage"},i.map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))):"",c.a.createElement("table",Object.assign({},p(),{className:"table table-bordered"}),c.a.createElement("thead",null,h.map((function(e){return c.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return c.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{style:{backgroundColor:r||"rgb(218, 236, 242)",color:o||"black"}}),e.render("Header"),c.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),c.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),c.a.createElement("tbody",Object.assign({},f(),{className:"text-center"}),v.map((function(e,t){return y(e)||c.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return c.a.createElement("td",Object.assign({style:{position:"relative"}},e.getCellProps()),e.render("Cell"))})))})))),c.a.createElement("div",{className:"pagination"},c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(0)},disabled:!N},"<<")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return j()},disabled:!N},"<")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return O()},disabled:!_},">")," ",c.a.createElement(m.a,{size:"sm",style:{height:"40px"},className:"button-pagination",variant:"secondary",onClick:function(){return x(k-1)},disabled:!_},">>")," ",c.a.createElement("span",null,"P\xe1gina"," ",c.a.createElement("strong",null,S+1," de ",C.length)," "),c.a.createElement("span",{className:"ml-3"},"| ",c.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),c.a.createElement("input",Object(n.a)({type:"number",defaultValue:S+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;x(t)},className:"inputPage"},"onChange",(function(e){e.target.value>C.length&&(e.target.value=1)}))))," ",c.a.createElement("select",{value:G,onChange:function(e){z(Number(e.target.value))},className:"inputPage"},i.map((function(e){return c.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}b.autoRemove=function(e){return!e};t.a=function(e){var t=e.data,a=e.columns,n=e.menuTop,l=e.headerColor,r=e.headerFontColor,o=e.pageSizeHandler;return o=o||[10,20,30,40,50],c.a.createElement(d,null,c.a.createElement(g,{pageSizeHandler:o,data:t,columns:a,menuTop:n,headerFontColor:r,headerColor:l}))}},612:function(e,t,a){},616:function(e,t,a){"use strict";var n=a(1),l=a.n(n),r=a(63),c=a(201),o=a(29);t.a=function(e){var t=Object(r.a)(e,{activeKey:"onSelect"}),a=t.id,s=t.generateChildId,i=t.onSelect,m=t.activeKey,u=t.transition,d=t.mountOnEnter,E=t.unmountOnExit,b=t.children,g=Object(n.useMemo)((function(){return s||function(e,t){return a?a+"-"+t+"-"+e:null}}),[a,s]),p=Object(n.useMemo)((function(){return{onSelect:i,activeKey:m,transition:u,mountOnEnter:d||!1,unmountOnExit:E||!1,getControlledId:function(e){return g(e,"tabpane")},getControllerId:function(e){return g(e,"tab")}}}),[i,m,u,d,E,g]);return l.a.createElement(c.a.Provider,{value:p},l.a.createElement(o.a.Provider,{value:i||null},b))}},617:function(e,t,a){"use strict";var n=a(2),l=a(4),r=a(6),c=a.n(r),o=a(1),s=a.n(o),i=a(7),m=s.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.as,o=void 0===r?"div":r,m=e.className,u=Object(l.a)(e,["bsPrefix","as","className"]),d=Object(i.a)(a,"tab-content");return s.a.createElement(o,Object(n.a)({ref:t},u,{className:c()(m,d)}))}));t.a=m},618:function(e,t,a){"use strict";var n=a(2),l=a(4),r=a(6),c=a.n(r),o=a(1),s=a.n(o),i=a(7),m=a(201),u=a(29),d=a(619);var E=s.a.forwardRef((function(e,t){var a=function(e){var t=Object(o.useContext)(m.a);if(!t)return e;var a=t.activeKey,r=t.getControlledId,c=t.getControllerId,s=Object(l.a)(t,["activeKey","getControlledId","getControllerId"]),i=!1!==e.transition&&!1!==s.transition,E=Object(u.b)(e.eventKey);return Object(n.a)({},e,{active:null==e.active&&null!=E?Object(u.b)(a)===E:e.active,id:r(e.eventKey),"aria-labelledby":c(e.eventKey),transition:i&&(e.transition||s.transition||d.a),mountOnEnter:null!=e.mountOnEnter?e.mountOnEnter:s.mountOnEnter,unmountOnExit:null!=e.unmountOnExit?e.unmountOnExit:s.unmountOnExit})}(e),r=a.bsPrefix,E=a.className,b=a.active,g=a.onEnter,p=a.onEntering,f=a.onEntered,h=a.onExit,v=a.onExiting,y=a.onExited,N=a.mountOnEnter,_=a.unmountOnExit,C=a.transition,k=a.as,x=void 0===k?"div":k,O=(a.eventKey,Object(l.a)(a,["bsPrefix","className","active","onEnter","onEntering","onEntered","onExit","onExiting","onExited","mountOnEnter","unmountOnExit","transition","as","eventKey"])),j=Object(i.a)(r,"tab-pane");if(!b&&!C&&_)return null;var z=s.a.createElement(x,Object(n.a)({},O,{ref:t,role:"tabpanel","aria-hidden":!b,className:c()(E,j,{active:b})}));return C&&(z=s.a.createElement(C,{in:b,onEnter:g,onEntering:p,onEntered:f,onExit:h,onExiting:v,onExited:y,mountOnEnter:N,unmountOnExit:_},z)),s.a.createElement(m.a.Provider,{value:null},s.a.createElement(u.a.Provider,{value:null},z))}));E.displayName="TabPane",t.a=E},642:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var n=a(1),l=a.n(n);function r(e,t){var a=0;return l.a.Children.map(e,(function(e){return l.a.isValidElement(e)?t(e,a++):e}))}function c(e,t){var a=0;l.a.Children.forEach(e,(function(e){l.a.isValidElement(e)&&t(e,a++)}))}},650:function(e,t,a){"use strict";var n=a(1),l=a.n(n),r=(a(612),a(839)),c=a(598),o=a(197),s=a(301),i=a(31),m=a(77);t.a=function(e){return l.a.createElement(r.a,{show:e.isShow,onHide:e.onHide,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},l.a.createElement(r.a.Header,{closeButton:!0,className:"header_dark"},l.a.createElement(r.a.Title,{id:"contained-modal-title-vcenter"},"Acciones Disponibles")),e.isLoading?l.a.createElement(r.a.Body,null,l.a.createElement(m.a,null)):l.a.createElement(r.a.Body,null,e.cotization.status>=1&&e.cotization.status<=3?l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"title_principal"},"Acciones generales"),l.a.createElement("hr",null),e.isInvoice?l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.seeDetailCotization(e.cotization)},block:!0},"Ver Detalle ",l.a.createElement(i.k,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.goToBond(e.cotization)},block:!0},"Pagos ",l.a.createElement(i.q,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization)},block:!0},"Ver factura pdf ",l.a.createElement(i.q,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.noteCredit(e.cotization)},block:!0},"Nota de cr\xe9dito o Debito ",l.a.createElement(i.q,null)))):e.isGuide?l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:4,md:4,lg:4},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.seeDetailCotization(e.cotization)},block:!0},"Ver Detalle ",l.a.createElement(i.k,null))),l.a.createElement(o.a,{sm:4,md:4,lg:4},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.goToInvoice(e.cotization.id)},block:!0},"Facturar ",l.a.createElement(i.p,null))),l.a.createElement(o.a,{sm:4,md:4,lg:4},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization)},block:!0},"Ver factura pdf ",l.a.createElement(i.q,null)))):l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.seeDetailCotization(e.cotization)},block:!0},"Ver Detalle ",l.a.createElement(i.k,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.goToBond(e.cotization)},block:!0},"Pagos ",l.a.createElement(i.q,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization)},block:!0},"Ver factura pdf ",l.a.createElement(i.q,null))),2==e.cotization.type?l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization,3)},block:!0},"Generar nueva factura pdf ",l.a.createElement(i.q,null))):""),l.a.createElement("br",null),l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:12,md:12,lg:12},l.a.createElement("h5",{className:"title_principal"},"Anular Documento"),l.a.createElement("hr",null)),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.anulateInvoice(e.cotization)},block:!0},"Anular Documento ",l.a.createElement(i.a,null))))):l.a.createElement(l.a.Fragment,null,l.a.createElement("h5",{className:"title_principal"},"Acciones generales"),l.a.createElement("hr",null),l.a.createElement(c.a,{className:"justify-content-center"},l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.seeDetailCotization(e.cotization)},block:!0},"Ver Detalle ",l.a.createElement(i.k,null))),l.a.createElement(o.a,{sm:3,md:3,lg:3},l.a.createElement(s.a,{size:"sm",variant:"secondary",type:"button",onClick:function(t){return e.printInvoice(e.cotization)},block:!0},"Ver factura pdf ",l.a.createElement(i.q,null)))))),l.a.createElement(r.a.Footer,null,l.a.createElement(s.a,{variant:"danger",size:"md",onClick:e.onHide},"Cerrar")))}},651:function(e,t,a){"use strict";var n=a(47),l=a(18),r=a(1),c=a.n(r),o=a(598),s=a(197),i=a(661),m=a(659),u=a(301),d=a(607),E=a(88),b=(a(9),a(17)),g=a(31),p=(a(157),a(653)),f=a(10),h={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0},v={scales:{yAxes:[{ticks:{beginAtZero:!0}}]},maintainAspectRatio:!1},y={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},N={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},_={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},C={labels:[],datasets:[{label:"Monto acumulado de pagos hechos por mes",backgroundColor:"rgb(15, 13, 74)",borderColor:"rgb(27, 13, 74)",borderWidth:1,hoverBackgroundColor:"rgb(15, 13, 74)",hoverBorderColor:"rgb(27, 13, 74)",data:[]}]},k={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"rgb(125, 81, 52)",borderColor:"rgb(99, 56, 21)"}]};t.a=function(e){Object(r.useEffect)((function(){e.redraw&&(y={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},_={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},C={labels:[],datasets:[{label:"Monto acumulado de pagos hechos por mes",backgroundColor:"rgb(15, 13, 74)",borderColor:"rgb(27, 13, 74)",borderWidth:1,hoverBackgroundColor:"rgb(15, 13, 74)",hoverBorderColor:"rgb(27, 13, 74)",data:[]}]},k={labels:[],datasets:[{label:"Cantidad facturada por a\xf1os",data:[],fill:!1,backgroundColor:"rgb(125, 81, 52)",borderColor:"rgb(99, 56, 21)"}]},N={labels:[],datasets:[{data:[],backgroundColor:[],hoverBackgroundColor:[]}]},x())}),[e.redraw]);var t=function(t){e.setDataForm(Object(l.a)(Object(l.a)({},e.dataForm),{},Object(n.a)({},t.target.name,t.target.value)))},x=function(){e.statusCotization.statuses.forEach((function(e,t){y.labels.push(e.status),y.datasets[0].data.push(parseFloat(e.total)),y.datasets[0].backgroundColor.push(f.c[t]),y.datasets[0].hoverBackgroundColor.push(f.c[t])})),e.statusCotization.statusesBonds.forEach((function(e,t){_.labels.push(e.status),_.datasets[0].data.push(parseFloat(e.total)),_.datasets[0].backgroundColor.push(f.c[t]),_.datasets[0].hoverBackgroundColor.push(f.c[t])})),e.statusCotization.bondsByMonth.forEach((function(e,t){C.labels.push(e.mes),C.datasets[0].data.push(e.total)})),e.statusCotization.invoiceByYear.forEach((function(e,t){k.labels.push(e.year),k.datasets[0].data.push(e.total)})),e.statusCotization.totalByStatus.forEach((function(e,t){N.labels.push(e.name),N.datasets[0].data.push(parseFloat(e.total)),N.datasets[0].backgroundColor.push(f.c[t]),N.datasets[0].hoverBackgroundColor.push(f.c[t])}))},O=function(t){e.handleDisplayFilter(t)};return c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:12,md:12,lg:12,xs:12},c.a.createElement(i.a,null,c.a.createElement(m.a,null,c.a.createElement(i.a.Toggle,{as:m.a.Header,eventKey:"0",className:"header_card"},c.a.createElement("b",null,"Estad\xedsticas")," ",c.a.createElement(g.e,null)),c.a.createElement(i.a.Collapse,{eventKey:"0"},c.a.createElement(m.a.Body,null,c.a.createElement(o.a,{className:"justify-content-center"},1==e.displayFilter?c.a.createElement(s.a,{sm:2,md:2,lg:2},c.a.createElement(u.a,{variant:"secondary",type:"button",size:"sm",block:!0,onClick:function(){return O(2)}},"Activar Filtros")):2==e.displayFilter?c.a.createElement(c.a.Fragment,null,c.a.createElement(E.a,{type:"date",label:"Fecha desde",name:"date_desde",required:!0,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.dataForm.date_desde,handleChange:t}),c.a.createElement(E.a,{type:"date",label:"Fecha Hasta",name:"date_hasta",required:!0,messageErrors:["Requerido*"],cols:"col-md-3 col-lg-3 col-sm-3",value:e.dataForm.date_hasta,handleChange:t}),c.a.createElement(s.a,{sm:3,md:3,lg:3},c.a.createElement("br",null),c.a.createElement(u.a,{variant:"danger",type:"button",size:"sm",block:!0,onClick:function(){e.handleStadistics()}},"Buscar")),c.a.createElement(s.a,{sm:3,md:3,lg:3},c.a.createElement("br",null),c.a.createElement(u.a,{variant:"secondary",type:"button",size:"sm",block:!0,onClick:function(){return O(1)}},"Ocultar Filtros"))):c.a.createElement(s.a,{sm:12,md:12,lg:12,className:"text-center"},c.a.createElement("br",null),c.a.createElement(d.a,{src:a(308),width:"30"}),c.a.createElement("br",null),"Cargando datos...")),c.a.createElement("br",null),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:6,md:6,lg:6,style:{height:"150px"}},c.a.createElement(p.b,{data:y,redraw:e.redraw,options:h})),c.a.createElement(s.a,{sm:6,md:6,lg:6},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",colSpan:"2",style:{backgroundColor:"rgb(147, 52, 12)",color:"white"}},"Monto acumulado por estados")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Estado"),c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Total"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(e.statusCotization).length>0?c.a.createElement(c.a.Fragment,null,e.statusCotization.statuses.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,t.status),c.a.createElement("td",null,e.configGeneral.simbolo_moneda,Object(b.g)(e.configGeneral,t.total)))}))):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"3",className:"text-center"},"Sin registros...")))))),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:6,md:6,lg:6},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",colSpan:"2",style:{backgroundColor:"rgb(21, 26, 88)",color:"white"}},"Monto pagado por estados")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Estado"),c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Total"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(e.statusCotization).length>0?c.a.createElement(c.a.Fragment,null,e.statusCotization.statusesBonds.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,t.status),c.a.createElement("td",null,e.configGeneral.simbolo_moneda,Object(b.g)(e.configGeneral,t.total)))}))):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"3",className:"text-center"},"Sin registros..."))))),c.a.createElement(s.a,{sm:6,md:6,lg:6,style:{height:"150px"}},c.a.createElement(p.b,{data:_,redraw:e.redraw,options:h}))),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:12,md:12,lg:12,style:{height:"200px"}},c.a.createElement(p.a,{data:C,options:h,redraw:e.redraw}))),c.a.createElement("br",null),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:6,md:6,lg:6,style:{height:"200px"}},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",colSpan:"2",style:{backgroundColor:"rgb(147, 52, 12)",color:"white"}},"Total ",1==e.dataForm.type?"facturas":2==e.dataForm.type?"notas de ventas":"boletas"," realizadas")),c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Estado"),c.a.createElement("th",{className:"text-center",style:{backgroundColor:"rgb(133, 124, 124)",color:"white"}},"Total"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(e.statusCotization).length>0?c.a.createElement(c.a.Fragment,null,e.statusCotization.totalByStatus.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.total))}))):c.a.createElement("tr",null,c.a.createElement("td",{colSpan:"3",className:"text-center"},"Sin registros..."))))),c.a.createElement(s.a,{sm:6,md:6,lg:6,style:{height:"150px"},className:"text-center"},c.a.createElement(p.b,{data:N,redraw:e.redraw,options:h}))),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(o.a,null,c.a.createElement(s.a,{sm:12,md:12,lg:12,style:{height:"200px"}},c.a.createElement(p.d,{data:k,options:v})))))))))}},654:function(e,t,a){"use strict";var n=a(2),l=a(4),r=a(1),c=a.n(r),o=(a(307),a(63)),s=a(600),i=a(211),m=a(210),u=a(616),d=a(617),E=a(618),b=a(642);function g(e){var t=e.props,a=t.title,n=t.eventKey,l=t.disabled,r=t.tabClassName,o=t.id;return null==a?null:c.a.createElement(m.a,{as:i.a,eventKey:n,disabled:l,id:o,className:r},a)}var p=function(e){var t=Object(o.a)(e,{activeKey:"onSelect"}),a=t.id,r=t.onSelect,i=t.transition,m=t.mountOnEnter,p=t.unmountOnExit,f=t.children,h=t.activeKey,v=void 0===h?function(e){var t;return Object(b.a)(e,(function(e){null==t&&(t=e.props.eventKey)})),t}(f):h,y=Object(l.a)(t,["id","onSelect","transition","mountOnEnter","unmountOnExit","children","activeKey"]);return c.a.createElement(u.a,{id:a,activeKey:v,onSelect:r,transition:i,mountOnEnter:m,unmountOnExit:p},c.a.createElement(s.a,Object(n.a)({},y,{role:"tablist",as:"nav"}),Object(b.b)(f,g)),c.a.createElement(d.a,null,Object(b.b)(f,(function(e){var t=Object(n.a)({},e.props);return delete t.title,delete t.disabled,delete t.tabClassName,c.a.createElement(E.a,t)}))))};p.defaultProps={variant:"tabs",mountOnEnter:!1,unmountOnExit:!1},p.displayName="Tabs",t.a=p},655:function(e,t,a){"use strict";var n=a(19),l=a(1),r=a.n(l),c=a(616),o=a(617),s=a(618),i=function(e){function t(){return e.apply(this,arguments)||this}return Object(n.a)(t,e),t.prototype.render=function(){throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")},t}(r.a.Component);i.Container=c.a,i.Content=o.a,i.Pane=s.a,t.a=i},690:function(e,t,a){"use strict";var n=a(47),l=a(18),r=a(89),c=a(15),o=a(1),s=a.n(o),i=a(839),m=a(46),u=a(598),d=a(197),E=a(301),b=a(609),g=a(31),p=a(88),f=a(614),h=a(613),v=a(9),y=a.n(v),N=a(10),_=a(8),C=a(17),k=a(77);t.a=function(e){var t=Object(o.useState)(!1),a=Object(c.a)(t,2),v=a[0],x=a[1],O=Object(o.useState)({type_operation:null,type_note:null,products:[],sectionDisplay:1,cotization:{},reason_ref:""}),j=Object(c.a)(O,2),z=j[0],w=j[1],S=Object(o.useState)(!1),G=Object(c.a)(S,2),F=G[0],P=G[1],D=Object(o.useState)([]),T=Object(c.a)(D,2),B=T[0],H=T[1],R=Object(o.useRef)(null);Object(o.useEffect)((function(){if(e.isShow){var t=Object.assign({},e.invoiceObject),a=Object(r.a)(t.products);w(Object(l.a)(Object(l.a)({},z),{},{products:a,cotization:t})),H(a)}else e.invoiceObject.products=B,w({type_operation:null,type_note:null,products:[],sectionDisplay:1,cotization:{},reason_ref:""})}),[e.isShow]);var I=function(){e.onHide()},M=function(t){if(!1!==R.current.checkValidity()){var a=Object.assign({},z,{typeSubmit:t});x(!0),y.a.post(N.b+"invoice_note_credit",a).then((function(t){_.b.success("Nota de ".concat(a.type_operation?"Cr\xe9dito":"D\xe9bito"," realizada con \xe9xito")),x(!1),e.fetchData(),t.data.forEach((function(e,t){window.open(e.pdf_public_url,"_blank")})),setTimeout((function(){e.onHide()}),1e3)})).catch((function(e){x(!1),e.response?_.b.error(e.response.data.message):(console.log(e),_.b.error("Error, contacte con soporte"))}))}else P(!0)},q=function(e){if(e.persist(),"reason_ref"===e.target.name)w(Object(l.a)(Object(l.a)({},z),{},Object(n.a)({},e.target.name,e.target.value)));else if("type_note"===e.target.name){var t,a="true"===e.target.value;w(Object(l.a)(Object(l.a)({},z),{},(t={},Object(n.a)(t,e.target.name,a),Object(n.a)(t,"sectionDisplay",2),t)))}else if("type_operation"===e.target.name){var r,c="true"===e.target.value;w(Object(l.a)(Object(l.a)({},z),{},(r={},Object(n.a)(r,e.target.name,c),Object(n.a)(r,"sectionDisplay",c?4:3),r)))}},A=function(){w(Object(l.a)(Object(l.a)({},z),{},{sectionDisplay:z.sectionDisplay-1>0?z.sectionDisplay-1:z.sectionDisplay}))},V=function(e,t){var a=Object(r.a)(z.products);a[t][e.target.name]=e.target.value,w(Object(l.a)(Object(l.a)({},z),{},{products:a}))},K=function(e){return 1==e?"Unidad":2==e?"Mayorista":"Litros, Kg, Etc..."};return s.a.createElement(i.a,{show:e.isShow,onHide:I,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},s.a.createElement(i.a.Header,{closeButton:!0,className:"header_dark"},s.a.createElement(i.a.Title,{id:"contained-modal-title-vcenter"},"Nota para la factura ",Object.keys(z.cotization).length>0&&z.cotization.ref?z.cotization.ref:""," ",s.a.createElement(g.n,null))),s.a.createElement(m.a,{onSubmit:function(){},noValidate:!0,validated:F,ref:R},v?s.a.createElement(i.a.Body,null,s.a.createElement(k.a,null)):s.a.createElement(i.a.Body,null,1==z.sectionDisplay?s.a.createElement(u.a,{className:"justify-content-center"},s.a.createElement(d.a,{sm:4,md:4,lg:4},s.a.createElement(u.a,null,s.a.createElement(d.a,{sm:12,md:12,lg:12,className:"text-center"},s.a.createElement("b",null,"Tipo de Nota"))),s.a.createElement(u.a,null,s.a.createElement(d.a,{sm:6,md:6,lg:6},s.a.createElement(m.a.Group,null,s.a.createElement(m.a.Check,{name:"type_note",type:"radio",id:"radio-5",label:"Cr\xe9dito",value:!0,checked:!0===z.type_note,required:!0,onChange:q}))),s.a.createElement(d.a,{sm:6,md:6,lg:6,className:"text-right"},s.a.createElement(m.a.Group,null,s.a.createElement(m.a.Check,{name:"type_note",type:"radio",id:"radio-6",label:"Debito",value:!1,required:!0,checked:!1===z.type_note,onChange:q})))))):2==z.sectionDisplay?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,{className:"justify-content-center"},s.a.createElement(d.a,{sm:4,md:4,lg:4},s.a.createElement(u.a,null,s.a.createElement(d.a,{sm:12,md:12,lg:12,className:"text-center"},s.a.createElement("b",null,"Tipo de Operaci\xf3n"))),s.a.createElement(u.a,null,s.a.createElement(d.a,{sm:6,md:6,lg:6},s.a.createElement(m.a.Group,null,s.a.createElement(m.a.Check,{name:"type_operation",type:"radio",id:"radio-5",label:"Anulaci\xf3n",value:!0,checked:!0===z.type_operation,required:!0,onChange:q}))),s.a.createElement(d.a,{sm:6,md:6,lg:6,className:"text-right"},s.a.createElement(m.a.Group,null,s.a.createElement(m.a.Check,{name:"type_operation",type:"radio",id:"radio-6",label:"Parcial",value:!1,required:!0,checked:!1===z.type_operation,onChange:q})))))),s.a.createElement(u.a,{className:"justify-content-center"},s.a.createElement(d.a,{sm:4,md:4,lg:4,xl:4},s.a.createElement(E.a,{variant:"danger",block:!0,size:"sm",type:"button",onClick:A},"Ir atras")))):3===z.sectionDisplay?s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,null,s.a.createElement(d.a,{sm:12,md:12,lg:12},s.a.createElement("h4",{className:"title_principal text-center"},"Modificar Productos para la nota"))),s.a.createElement(u.a,null,s.a.createElement(d.a,{sm:12,md:12,lg:12,className:"table-responsive"},s.a.createElement("table",{className:"table table-striped table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",{style:{backgroundColor:"rgb(218,236,242)",fontWeight:"bold"}},s.a.createElement("th",{className:"text-center"},"Categoria"),s.a.createElement("th",{className:"text-center"},"Producto"),s.a.createElement("th",{className:"text-center"},"Precio"),s.a.createElement("th",{className:"text-center"},"M\xe9todo de Venta"),s.a.createElement("th",{className:"text-center"},"Inventariable"),s.a.createElement("th",{className:"text-center"},"Stock Inventario"),s.a.createElement("th",{className:"text-center"},"Cantidad"),s.a.createElement("th",{className:"text-center"}))),s.a.createElement("tbody",{className:"text-center"},z.products.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,s.a.createElement("br",null),e.category),s.a.createElement("td",null,s.a.createElement("br",null),e.name_product),s.a.createElement("td",null,s.a.createElement(p.a,{type:"text",id:"price-"+t,name:"price",required:!0,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:z.products[t].price,handleChange:function(e){return V(e,t)}})),s.a.createElement("td",null,s.a.createElement("br",null),K(e.method_sale)),s.a.createElement("td",null,s.a.createElement("br",null),e.id_product?s.a.createElement(b.a,{variant:"primary",className:"font-badge"},"Si"):s.a.createElement(b.a,{variant:"secondary",className:"font-badge"},"No")),s.a.createElement("td",null,s.a.createElement("br",null),e.id_product?e.products?Array.isArray(e.products.inventary)?e.products.inventary[0].stock:e.products.inventary.stock:e.inventary?e.inventary[0].stock:"Sin Stock":"Sin Stock"),s.a.createElement("td",null,s.a.createElement(p.a,{type:"text",id:"quantity-"+t,name:"quantity",required:!0,messageErrors:["Requerido*"],cols:"col-md-12 col-lg-12 col-sm-12",value:z.products[t].quantity,handleChange:function(e){return V(e,t)}})),s.a.createElement("td",null,s.a.createElement("br",null),s.a.createElement(f.a,{placement:"bottom",overlay:s.a.createElement(h.a,{id:"tooltip-modal-credit-"+t},"Remover producto de la nota")},s.a.createElement(E.a,{variant:"danger",block:!0,size:"sm",onClick:function(){return function(e){var t=Object(r.a)(z.products);t.splice(e,1),w(Object(l.a)(Object(l.a)({},z),{},{products:t}))}(t)}},s.a.createElement(g.O,null)))))})))))),s.a.createElement(u.a,{className:"justify-content-center"},s.a.createElement(p.a,{type:"text",label:"Raz\xf3n de Referencia",name:"reason_ref",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:z.reason_ref,handleChange:q})),s.a.createElement(u.a,{className:"justify-content-center"},s.a.createElement(d.a,{sm:4,md:4,lg:4},s.a.createElement(E.a,{variant:"primary",onClick:function(){return M(1)},block:!0,size:"sm",type:"button"},"Guardar y afectar inventario")),s.a.createElement(d.a,{sm:4,md:4,lg:4},s.a.createElement(E.a,{variant:"primary",onClick:function(){return M(2)},block:!0,size:"sm",type:"button"},"Guardar")),s.a.createElement(d.a,{sm:4,md:4,lg:4,xl:4},s.a.createElement(E.a,{variant:"danger",block:!0,size:"sm",type:"button",onClick:A},"Ir atras")))):s.a.createElement(s.a.Fragment,null,s.a.createElement(u.a,null,s.a.createElement(d.a,{sm:12,md:12,lg:12},s.a.createElement("h4",{className:"title_principal text-center"},"Modificar Productos para la nota"))),s.a.createElement(u.a,null,s.a.createElement(d.a,{sm:12,md:12,lg:12,className:"table-responsive"},s.a.createElement("table",{className:"table table-striped table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",{style:{backgroundColor:"rgb(218,236,242)",fontWeight:"bold"}},s.a.createElement("th",{className:"text-center"},"Categoria"),s.a.createElement("th",{className:"text-center"},"Producto"),s.a.createElement("th",{className:"text-center"},"Precio"),s.a.createElement("th",{className:"text-center"},"M\xe9todo de Venta"),s.a.createElement("th",{className:"text-center"},"Inventariable"),s.a.createElement("th",{className:"text-center"},"Stock Inventario"),s.a.createElement("th",{className:"text-center"},"Cantidad"))),s.a.createElement("tbody",{className:"text-center"},z.products.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.category),s.a.createElement("td",null,t.name_product),s.a.createElement("td",null,Object(C.g)(e.configGeneral,t.price)),s.a.createElement("td",null,K(t.method_sale)),s.a.createElement("td",null,t.id_product?s.a.createElement(b.a,{variant:"primary",className:"font-badge"},"Si"):s.a.createElement(b.a,{variant:"secondary",className:"font-badge"},"No")),s.a.createElement("td",null,t.id_product?t.products?Array.isArray(t.products.inventary)?t.products.inventary[0].stock:t.products.inventary.stock:t.inventary?t.inventary[0].stock:"Sin Stock":"Sin Stock"),s.a.createElement("td",null,t.quantity))})))))),s.a.createElement(u.a,{className:"justify-content-center"},s.a.createElement(p.a,{type:"text",label:"Raz\xf3n de Referencia",name:"reason_ref",required:!0,messageErrors:["Requerido*"],cols:"col-md-4 col-lg-4 col-sm-4",value:z.reason_ref,handleChange:q})),s.a.createElement(u.a,{className:"justify-content-center"},s.a.createElement(d.a,{sm:4,md:4,lg:4},s.a.createElement(E.a,{variant:"primary",onClick:function(){return M(1)},block:!0,size:"sm",type:"button"},"Guardar y afectar inventario")),s.a.createElement(d.a,{sm:4,md:4,lg:4},s.a.createElement(E.a,{variant:"primary",onClick:function(){return M(2)},block:!0,size:"sm",type:"button"},"Guardar")),s.a.createElement(d.a,{sm:4,md:4,lg:4,xl:4},s.a.createElement(E.a,{variant:"danger",block:!0,size:"sm",type:"button",onClick:A},"Ir atras"))))),s.a.createElement(i.a.Footer,null,s.a.createElement(E.a,{size:"md",variant:"secondary",onClick:I},"Cerrar"))))}},817:function(e,t,a){"use strict";a.r(t);var n=a(18),l=a(15),r=a(1),c=a.n(r),o=a(301),s=a(609),i=a(608),m=a(598),u=a(197),d=a(654),E=a(655),b=a(839),g=a(611),p=a(9),f=a.n(p),h=a(10),v=a(8),y=a(17),N=a(31),_=a(614),C=a(613),k=a(50),x=a(157),O=(a(612),a(28)),j=a(650),z=a(615),w=a(651),S=a(690),G=a(77),F=null,P=null;t.default=Object(O.b)((function(e){return{id_branch_office:e.enterpriseSucursal.id_branch_office,id_enterprise:e.enterpriseSucursal.id_enterprise,configGeneral:e.configs.config,configStore:e.configs.configStore}}),{})((function(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),p=a[0],O=a[1],D=Object(r.useState)([]),T=Object(l.a)(D,2),B=T[0],H=T[1],R=Object(r.useState)({}),I=Object(l.a)(R,2),M=I[0],q=I[1],A=Object(r.useState)(!1),V=Object(l.a)(A,2),K=V[0],Y=V[1],L=Object(r.useState)(!1),W=Object(l.a)(L,2),U=W[0],J=W[1],Z=Object(r.useState)({}),Q=Object(l.a)(Z,2),X=Q[0],$=Q[1],ee=Object(r.useState)(1),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],le=Object(r.useState)({date_desde:"",date_hasta:"",type:1}),re=Object(l.a)(le,2),ce=re[0],oe=re[1],se=Object(r.useState)(!1),ie=Object(l.a)(se,2),me=ie[0],ue=ie[1],de=Object(r.useState)({}),Ee=Object(l.a)(de,2),be=Ee[0],ge=Ee[1],pe=Object(r.useState)({}),fe=Object(l.a)(pe,2),he=fe[0],ve=fe[1],ye=Object(r.useState)(!1),Ne=Object(l.a)(ye,2),_e=Ne[0],Ce=Ne[1],ke=Object(r.useState)(!0),xe=Object(l.a)(ke,2),Oe=xe[0],je=xe[1];Object(r.useMemo)((function(){F=[{Header:"Referencia",accessor:"folio_bill",Cell:function(e){var t=e.cell.row.original;return c.a.createElement(_.a,{placement:"bottom",overlay:c.a.createElement(C.a,{id:"tooltip-disabled2"},"Hacer click para acceder a las acciones de la factura")},c.a.createElement(o.a,{variant:"link",block:!0,type:"button",size:"sm",onClick:function(){return ze(t)}},t.folio_bill))}},{Header:"Ref Cotizaci\xf3n",accessor:"ref_cotizacion"},{Header:"Ref Gu\xeda",accessor:"ref_guide"},{Header:"Rut Cliente",accessor:"rut_client"},{Header:"Raz\xf3n Social",accessor:"business_name_client",Cell:function(e){var t=e.cell.row.original;return c.a.createElement(_.a,{placement:"right",overlay:c.a.createElement(C.a,{id:"tooltip-disabled2"},c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Vendedor: ")," ",t.name_seller),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Fono del Vendedor: ")," ",t.phone_seller?t.phone_seller:"No posee"),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Contacto")," ",t.name_contact?t.name_contact:"No posee"),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Fono del Contacto: ")," ",t.phone_contact),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Comentario: ")," ",t.comment)))},c.a.createElement(o.a,{variant:"link",size:"sm",block:!0,type:"button"},t.business_name_client))}},{Header:"Tipo",accessor:function(e){return 1==e.type_invoicing?["Afecta"]:["Excento"]}},{Header:"Fecha-Emisi\xf3n",accessor:function(e){return[x(e.date_issue_invoice).format("DD-MM-YYYY")]}},{Header:"D\xedas de Vencimiento",accessor:"days_expiration"},{Header:"Status",accessor:function(e){return 1==e.status?["Pendiente"]:2==e.status?["Pagada"]:3==e.status?["Vencida"]:["Anulada"]},Cell:function(e){var t=e.cell.row.original;return 1==t.status?c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Pendiente"):2==t.status?c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Pagada"):3==t.status?c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Vencida"):c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Anulada")}},{Header:"Total Productos",accessor:"total_product",Cell:function(t){return c.a.createElement(_.a,{placement:"left",overlay:c.a.createElement(C.a,{id:"tooltip-total_pagar"+t.cell.row.original.id},c.a.createElement("ul",{className:"list-group"},t.cell.row.original.products.map((function(t,a){return c.a.createElement("li",{className:"list-group-item",key:a},c.a.createElement("b",null,"Producto"),": ",t.name_product,c.a.createElement("br",null),c.a.createElement("b",null,"Precio")," : ",e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.price),c.a.createElement("br",null),c.a.createElement("b",null,"Cantidad"),": ",t.quantity)}))))},c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_product)))}},{Header:"Total gastos",accessor:"total_gastos",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_gastos))}},{Header:"Total Iva",accessor:"total_iva",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_iva))}},{Header:"Descuento Global",accessor:"discount_global_amount",Cell:function(t){return c.a.createElement(_.a,{placement:"left",overlay:c.a.createElement(C.a,{id:"tooltip-total_pagar"+t.cell.row.original.id},t.cell.row.original.discount_global,"%")},c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.discount_global_amount)))}},{Header:"Total Balance",accessor:"total_balance",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_balance))}},{Header:"Abonado",accessor:"total_bond",Cell:function(t){return c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_bond))}},{Header:"Saldo Deudor",accessor:"debit_balance",Cell:function(t){return c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.debit_balance))}},{Header:"Acciones",Cell:function(e){var t=Object.assign({},e.cell.row.original);return c.a.createElement(o.a,{variant:"primary",block:!0,type:"button",size:"sm",onClick:function(){return ze(t)}},"Acciones")}}],P=[{Header:"Referencia",accessor:"folio_bill"},{Header:"Ref Factura",accessor:"ref_invoice"},{Header:"Rut Cliente",accessor:"rut_client"},{Header:"Raz\xf3n Social",accessor:"business_name_client",Cell:function(e){var t=e.cell.row.original;return c.a.createElement(_.a,{placement:"right",overlay:c.a.createElement(C.a,{id:"tooltip-disabled2"},c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Vendedor: ")," ",t.name_seller),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Fono del Vendedor: ")," ",t.phone_seller?t.phone_seller:"No posee"),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Contacto")," ",t.name_contact?t.name_contact:"No posee"),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Fono del Contacto: ")," ",t.phone_contact),c.a.createElement("li",{className:"list-group-item"},c.a.createElement("b",null,"Comentario: ")," ",t.comment)))},c.a.createElement(o.a,{variant:"link",size:"sm",block:!0,type:"button"},t.business_name_client))}},{Header:"Tipo",accessor:function(e){return 4==e.type?["Cr\xe9dito"]:["Debito"]}},{Header:"Fecha-Emisi\xf3n",accessor:function(e){return[x(e.date_issue_invoice).tz("America/Santiago").format("DD-MM-YYYY")]}},{Header:"D\xedas de Vencimiento",accessor:"days_expiration"},{Header:"Status",accessor:function(e){return["Facturada"]},Cell:function(e){if(1==e.cell.row.original.status)return c.a.createElement(s.a,{variant:"secondary",className:"font-badge"},"Generada")}},{Header:"Total Productos",accessor:"total_product",Cell:function(t){var a=t.cell.row.original;return c.a.createElement(_.a,{placement:"left",overlay:c.a.createElement(C.a,{id:"tooltip-total_pagar"+a.id},c.a.createElement("ul",{className:"list-group"},a.products.map((function(t,n){return c.a.createElement("li",{className:"list-group-item",key:n},c.a.createElement("b",null,"Producto"),": ",t.name_product,c.a.createElement("br",null),c.a.createElement("b",null,"Precio")," : ",e.configGeneral.simbolo_moneda+Object(y.g)(e.configGeneral,a.total_with_iva?t.price:t.total),c.a.createElement("br",null),c.a.createElement("b",null,"Cantidad"),": ",t.quantity)}))))},c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,a.total_product)))}},{Header:"Total Iva",accessor:"total_iva",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_iva))}},{Header:"Descuento Global",accessor:"discount_global_amount",Cell:function(t){return c.a.createElement(_.a,{placement:"left",overlay:c.a.createElement(C.a,{id:"tooltip-total_pagar"+t.cell.row.original.id},t.cell.row.original.discount_global,"%")},c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.discount_global_amount)))}},{Header:"Total Balance",accessor:"total_balance",Cell:function(t){return c.a.createElement(s.a,{variant:"info",className:"font-badge",style:{backgroundColor:"rgb(198, 196, 54)",color:"white"}},e.configGeneral?e.configGeneral.simbolo_moneda:"",Object(y.g)(e.configGeneral,t.cell.row.original.total_balance))}},{Header:"Documento",Cell:function(e){var t=e.cell.row.original;return c.a.createElement(o.a,{variant:"primary",block:!0,size:"sm",onClick:function(){window.open(t.name_pdf,"_blank")}},"Visualizar")}}]}),[]),Object(r.useEffect)((function(){return k.a.toggleCollapsed(),function(){F=null,P=null,k.a.toggleCollapsed()}}),[]),Object(r.useEffect)((function(){Ge(),Fe()}),[e.id_branch_office]),Object(r.useEffect)((function(){U&&we()}),[U]);var ze=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!_e&&e&&ve(e),Ce(!_e)},we=function(){setTimeout((function(){J(!1)}),2e3)},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){var t=Object.assign({},e);ge(t),ze(),setTimeout((function(){ue(!me)}),1e3)}else ue(!me)},Ge=function(){var t=Object.assign({},ce),a=[f.a.get(h.b+"invoice_by_cotization_ref/"+e.match.params.ref),f.a.post(h.b+"invoice_stadistics",t)];Promise.all(a).then((function(e){e[0].data&&O([e[0].data]),$(Object(n.a)(Object(n.a)({},X),{},{statusesBonds:e[1].data.statusesBonds,statuses:e[1].data.statuses,bondsByMonth:e[1].data.bondsByMonth,invoiceByYear:e[1].data.invoiceByYear,totalByStatus:e[1].data.totalByStatus})),setTimeout((function(){J(!0)}),1e3),je(!1)})).catch((function(t){je(!1),e.tokenExpired(t)}))},Fe=function(){var t=[f.a.get(h.b+"invoice_note_credit_by_cotization_ref/"+e.match.params.ref)];Promise.all(t).then((function(e){e[0].data&&H([e[0].data])})).catch((function(t){e.tokenExpired(t)}))},Pe=function(){Y(!K)},De=function(t){v.b.info("Anulando factura, esto podr\xeda tardar unos segundos... espere por favor"),je(!0),f.a.put(h.b+"invoice_status/"+t).then((function(e){v.b.success("Factura anulada con \xe9xito"),window.open(e.data.pdf_public_url,"_blank"),ve(Object(n.a)(Object(n.a)({},he),{},{status:4})),Ge(),Fe()})).catch((function(t){je(!1),e.tokenExpired(t)}))};return c.a.createElement(i.a,{fluid:!0},c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:4,md:4,lg:4,className:"text-center"},c.a.createElement("h4",{className:"title_principal"},"Tabla de Facturas"),c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(o.a,{block:!0,variant:"success",onClick:function(){e.history.replace("/invoice/create_invoice")},size:"sm"},"Nueva Factura ",c.a.createElement(N.A,null))),c.a.createElement(u.a,null,c.a.createElement(o.a,{block:!0,variant:"success",onClick:function(){e.history.replace("/invoice/invoice_search")},size:"sm"},"Ver todas las Facturas"))),c.a.createElement("br",null)),c.a.createElement(u.a,{sm:4,md:4,lg:4,className:"text-center title_principal"},c.a.createElement("h4",null,"Total Facturas Realizadas"),c.a.createElement(s.a,{variant:"danger"},p.length)),c.a.createElement(u.a,{sm:4,md:4,lg:4,className:"text-center title_principal"},c.a.createElement("h4",null,"Total Notas Cr\xe9dito"),c.a.createElement(s.a,{variant:"danger"},B.length))),c.a.createElement("hr",null),Oe?c.a.createElement(G.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{setDataForm:oe,dataForm:ce,redraw:U,statusCotization:X,handleDisplayFilter:function(e){3==e&&oe({date_desde:"",date_hasta:""}),ne(e)},handleStadistics:function(){var t=Object.assign({},ce);ne(3),f.a.post(h.b+"invoice_stadistics",t).then((function(e){$(Object(n.a)(Object(n.a)({},X),{},{statusesBonds:e.data.statusesBonds,statuses:e.data.statuses,bondsByMonth:e.data.bondsByMonth,invoiceByYear:e.data.invoiceByYear,totalByStatus:e.data.totalByStatus})),setTimeout((function(){J(!0),ne(1)}),1e3)})).catch((function(t){ne(1),e.tokenExpired(t)}))},displayFilter:ae,configGeneral:e.configGeneral}),c.a.createElement("br",null),c.a.createElement(d.a,{defaultActiveKey:"invoice",id:"uncontrolled-tab-example"},c.a.createElement(E.a,{eventKey:"invoice",title:"Facturas"},c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,xs:12},c.a.createElement(g.a,{columns:F,data:p})))),c.a.createElement(E.a,{eventKey:"product",title:"Notas"},c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,xs:12},c.a.createElement(g.a,{columns:P,data:B})))))),c.a.createElement(b.a,{show:K,onHide:Pe,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},c.a.createElement(b.a.Header,{closeButton:!0,className:"header_dark"},c.a.createElement(b.a.Title,{id:"contained-modal-title-vcenter"},"Detalles de la Factura N\xb0 ",Object.keys(M).length>0?M.ref:"")),c.a.createElement(b.a.Body,null,c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"title_principal text-center"},"Datos del Registrador"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Nombre"),c.a.createElement("th",{className:"text-center"},"Rut"),c.a.createElement("th",{className:"text-center"},"Direcci\xf3n"),c.a.createElement("th",{className:"text-center"},"Email"),c.a.createElement("th",{className:"text-center"},"Fono"),c.a.createElement("th",{className:"text-center"},"Pa\xeds"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement("tr",null,c.a.createElement("td",null,M.business_name_transmitter),c.a.createElement("td",null,M.rut_transmitter),c.a.createElement("td",null,M.address_transmitter),c.a.createElement("td",null,M.email_transmitter),c.a.createElement("td",null,M.phone_transmitter),c.a.createElement("td",null,M.country_transmitter)):"")))),c.a.createElement("br",null),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"title_principal text-center"},"Datos del Cliente"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Razon Social / Nombre"),c.a.createElement("th",{className:"text-center"},"Rut"),c.a.createElement("th",{className:"text-center"},"Direcci\xf3n"),c.a.createElement("th",{className:"text-center"},"Ciudad"),c.a.createElement("th",{className:"text-center"},"Comuna"),c.a.createElement("th",{className:"text-center"},"Giro"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement("tr",null,c.a.createElement("td",null,M.business_name_client),c.a.createElement("td",null,M.rut_client),c.a.createElement("td",null,M.address_client),c.a.createElement("td",null,M.city_client),c.a.createElement("td",null,M.comuna_client),c.a.createElement("td",null,M.spin_client)):"")))),c.a.createElement("br",null),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"title_principal text-center"},"Datos del Contacto"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Nombre"),c.a.createElement("th",{className:"text-center"},"Fono"),c.a.createElement("th",{className:"text-center"},"Email"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement("tr",null,c.a.createElement("td",null,M.name_contact),c.a.createElement("td",null,M.phone_contact),c.a.createElement("td",null,M.email_contact)):"")))),c.a.createElement("br",null),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12},c.a.createElement("h4",{className:"title_principal text-center"},"Datos del Vendedor"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Nombre"),c.a.createElement("th",{className:"text-center"},"Fono"),c.a.createElement("th",{className:"text-center"},"Email"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement("tr",null,c.a.createElement("td",null,M.name_seller),c.a.createElement("td",null,M.phone_seller),c.a.createElement("td",null,M.email_seller)):"")))),c.a.createElement("br",null),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,className:"table-responsive"},c.a.createElement("h4",{className:"title_principal text-center"},"Productos de la Factura"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Categoria"),c.a.createElement("th",{className:"text-center"},"Nombre"),c.a.createElement("th",{className:"text-center"},"Descripci\xf3n"),c.a.createElement("th",{className:"text-center"},"Cantidad"),c.a.createElement("th",{className:"text-center"},"Precio"),c.a.createElement("th",{className:"text-center"},"Descuento"),c.a.createElement("th",{className:"text-center"},"M\xe9todo de Venta"),c.a.createElement("th",{className:"text-center"},"Neto"),c.a.createElement("th",{className:"text-center"},"Total"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement(c.a.Fragment,null,M.products.map((function(t,a){return c.a.createElement("tr",null,c.a.createElement("td",null,t.category),c.a.createElement("td",null,t.name_product),c.a.createElement("td",null,t.description),c.a.createElement("td",null,t.quantity),c.a.createElement("td",null,e.configGeneral.simbolo_moneda,Object(y.a)(M.total_with_iva?t.price:t.total,2,",",".")),c.a.createElement("td",null,t.discount),c.a.createElement("td",null,(n=t.method_sale,1===(n=parseInt(n))?"Unidad":2===n?"Mayorista":"(Litros, Kg, Etc..)")),c.a.createElement("td",null,t.is_neto?"Neto":"Iva"),c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(t.total,2,",","."))));var n}))):"")))),c.a.createElement("br",null),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,className:""},c.a.createElement("h4",{className:"title_principal text-center"},"Gastos de la Factura"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Descripci\xf3n"),c.a.createElement("th",{className:"text-center"},"Monto"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement(c.a.Fragment,null,M.gastos.map((function(t,a){return c.a.createElement("tr",null,c.a.createElement("td",null,t.description),c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(t.amount,2,",","."))))}))):"")))),c.a.createElement("br",null),Object.keys(M).length>0&&M.refs.length>0?c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,className:""},c.a.createElement("h4",{className:"title_principal text-center"},"Referencias de la Factura"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Tipo de Documento"),c.a.createElement("th",{className:"text-center"},"Referencia Cotiz."),c.a.createElement("th",{className:"text-center"},"Ind"),c.a.createElement("th",{className:"text-center"},"Fecha Ref."),c.a.createElement("th",{className:"text-center"},"Raz\xf3n de Referencia"),c.a.createElement("th",{className:"text-center"},"Tipo de C\xf3digo"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement(c.a.Fragment,null,M.refs.map((function(e,t){return c.a.createElement("tr",null,c.a.createElement("td",null,e.type_document),c.a.createElement("td",null,e.ref_invoice),c.a.createElement("td",null,e.ind),c.a.createElement("td",null,e.date_ref?x(e.date_ref).tz("America/Santiago").format("DD-MM-YYYY"):""),c.a.createElement("td",null,e.reason_ref),c.a.createElement("td",null,e.type_code))}))):"")))):"",c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:12,md:12,lg:12,className:""},c.a.createElement("h4",{className:"title_principal text-center"},"Totales"),c.a.createElement("br",null),c.a.createElement("table",{className:"table table-striped table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"text-center"},"Total Neto"),c.a.createElement("th",{className:"text-center"},"Total Iva"),c.a.createElement("th",{className:"text-center"},"Total Gastos"),c.a.createElement("th",{className:"text-center"},"Total Descuento Global"),c.a.createElement("th",{className:"text-center"},"Total Balance"))),c.a.createElement("tbody",{className:"text-center"},Object.keys(M).length>0?c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(M.total_product,2,",","."))),c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(M.total_iva,2,",","."))),c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(M.total_gastos,2,",","."))),c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(M.discount_global_amount,2,",","."))),c.a.createElement("td",null,c.a.createElement(s.a,{variant:"danger",className:"font-badge"},e.configGeneral.simbolo_moneda,Object(y.a)(M.total_balance,2,",",".")))):"")))),c.a.createElement("br",null),c.a.createElement(m.a,null,c.a.createElement(u.a,{sm:6,md:6,lg:6},Object.keys(M).length>0?c.a.createElement("h5",null,"Mostrar solo los Totales: ",c.a.createElement(s.a,{variant:"primary",className:"font-badge"},M.total_with_iva?"No":"Si")):""),c.a.createElement(u.a,{sm:6,md:6,lg:6,className:"text-center"},Object.keys(M).length>0?c.a.createElement("h5",null,"M\xe9todo de Pago: ",c.a.createElement(s.a,{variant:"primary",className:"font-badge"},M.way_of_payment)):""))),c.a.createElement(b.a.Footer,null,c.a.createElement(o.a,{size:"md",variant:"secondary",onClick:Pe},"cerrar"))),c.a.createElement(S.a,{isShow:me,onHide:Se,invoiceObject:be,fetchData:Fe,configGeneral:e.configGeneral}),c.a.createElement(j.a,{isShow:_e,onHide:ze,cotization:he,printInvoice:function(e){v.b.info("Cargando documento, espere por favor"),window.open(e.name_pdf,"_target")},goToBond:function(t){e.history.replace("/invoice/invoice_bond/"+t.id)},noteCredit:Se,anulateInvoice:function(e){Object(z.confirmAlert)({customUI:function(t){var a=t.onClose;return c.a.createElement("div",{className:"custom-ui-edit"},c.a.createElement("h1",null,"\xbfEsta seguro?"),c.a.createElement("p",{className:"font-alert"},"\xbfDesea realmente anular este registro?"),c.a.createElement("button",{className:"button-alert",onClick:function(){De(e.id),a()}},"Si, Aceptar"),c.a.createElement("button",{className:"button-alert",onClick:a},"No"))}})},seeDetailCotization:function(e){q(e),Pe()},isInvoice:!0,isLoading:Oe}))}))}}]);