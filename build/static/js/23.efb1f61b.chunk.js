(this["webpackJsonpappwork-react-starter"]=this["webpackJsonpappwork-react-starter"]||[]).push([[23],{654:function(e,t,a){"use strict";var n=a(45),c=a(658),r=a(1),o=a.n(r),l=a(660),s=a(659),i=a(665),u=a(319);function m(){var e=Object(c.a)(["\n  padding: 1rem;\n\n  .button-pagination{\n    margin-right: 10px;\n  }\n\n  .inputPage{\n    display: inline-block;\n    width: 150px;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .inputPageFilter{\n    display: inline-block;\n    width: 80%;\n    height: 34px;\n    padding: 6px 12px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    background-image: none;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n\n  .pagination {\n    padding: 0.5rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  .tr_cabecera{\n    background-color: rgb(218, 236, 242);\n    color: black;\n  }\n"]);return m=function(){return e},e}var d=l.a.div(m());function E(e){var t=e.column,a=t.filterValue,n=t.preFilteredRows,c=t.setFilter,r=n.length;return o.a.createElement("input",{value:a||"",onChange:function(e){c(e.target.value||void 0)},placeholder:"Buscar en ".concat(r," registros..."),className:"inputPageFilter"})}function b(e,t,a){return Object(i.a)(e,a,{keys:[function(e){return e.values[t]}]})}function g(e){var t=e.columns,a=e.data,c=o.a.useMemo((function(){return{fuzzyText:b,text:function(e,t,a){return e.filter((function(e){var n=e.values[t];return void 0===n||String(n).toLowerCase().startsWith(String(a).toLowerCase())}))}}}),[]),r=o.a.useMemo((function(){return{Filter:E}}),[]),l=Object(s.useTable)({columns:t,data:a,defaultColumn:r,filterTypes:c,initialState:{pageIndex:0}},s.useFilters,s.useSortBy,s.usePagination),i=l.getTableProps,m=l.getTableBodyProps,d=l.headerGroups,g=l.page,f=l.prepareRow,p=l.canPreviousPage,_=l.canNextPage,h=l.pageOptions,v=l.pageCount,j=l.gotoPage,O=l.nextPage,C=l.previousPage,k=l.setPageSize,y=l.state,x=y.pageIndex,N=y.pageSize;return o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",Object.assign({},i(),{className:"table table-bordered"}),o.a.createElement("thead",null,d.map((function(e){return o.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"text-center"}),e.headers.map((function(e){return o.a.createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps()),{className:"tr_cabecera"}),e.render("Header"),o.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""),o.a.createElement("div",null,e.canFilter?e.render("Filter"):null))})))}))),o.a.createElement("tbody",Object.assign({},m(),{className:"text-center"}),g.map((function(e,t){return f(e)||o.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return o.a.createElement("td",e.getCellProps(),e.render("Cell"))})))})))),o.a.createElement("div",{className:"pagination"},o.a.createElement(u.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(0)},disabled:!p},"<<")," ",o.a.createElement(u.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return C()},disabled:!p},"<")," ",o.a.createElement(u.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return O()},disabled:!_},">")," ",o.a.createElement(u.a,{size:"sm",className:"button-pagination",variant:"secondary",onClick:function(){return j(v-1)},disabled:!_},">>")," ",o.a.createElement("span",null,"P\xe1gina"," ",o.a.createElement("strong",null,x+1," de ",h.length)," "),o.a.createElement("span",{className:"ml-3"},"| ",o.a.createElement("span",{className:"ml-2"},"Ir a la P\xe1gina:"," "),o.a.createElement("input",Object(n.a)({type:"number",defaultValue:x+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;j(t)},className:"inputPage"},"onChange",(function(e){e.target.value>h.length&&(e.target.value=1)}))))," ",o.a.createElement("select",{value:N,onChange:function(e){k(Number(e.target.value))},className:"inputPage"},[10,20,30,40,50].map((function(e){return o.a.createElement("option",{key:e,value:e},"Mostrar ",e)})))))}b.autoRemove=function(e){return!e};t.a=function(e){var t=e.data,a=e.columns;return o.a.createElement(d,null,o.a.createElement(g,{data:t,columns:a}))}},657:function(e,t,a){},675:function(e,t,a){"use strict";var n=a(1),c=a.n(n),r=a(654),o=a(662),l=a(29),s=a(670),i=a.n(s),u=a(32),m=a(319),d=a(30),E=a(21),b=a.n(E),g=a(15),f=[];t.a=function(e){Object(n.useEffect)((function(){return function(){f=[]}}),[]),Object(n.useMemo)((function(){f=[{Header:"Nombre",accessor:"name"},{Header:"Descripci\xf3n",accessor:"description"},{Header:"Monto",accessor:function(e){return[Object(d.a)(e.amount,2,",",".")]}},{Header:e.isAccount?"Centro de Costros":"Cuenta",accessor:function(t){return e.isReport?e.isAccount?[t.center_coste]:[t.account_name]:e.isAccount?[t.centerCoste.name]:[t.account.account_name]}},{Header:"Fecha de Ejecuci\xf3n",accessor:function(e){return e.date_execution?[o(e.date_execution).format("DD-MM-YYYY")]:["No posee"]}},{Header:"Es recurrente",accessor:function(e){return[e.is_recurrent?"Si":"No"]}},{Header:"Documento1",Cell:function(e){var a=e.cell.row.original;return a.document_1?c.a.createElement(m.a,{size:"sm",variant:"link",onClick:function(){return t(a.document_1)}},"Descargar ",c.a.createElement(l.e,null)," "):"No posee"}},{Header:"Documento2",Cell:function(e){var a=e.cell.row.original;return a.document_2?c.a.createElement(m.a,{size:"sm",variant:"link",onClick:function(){return t(a.document_2)}},"Descargar ",c.a.createElement(l.e,null)," "):"No posee"}}]}),[]);var t=function(e){b.a.get(u.a+"flow_cash_doc_download/"+e,{responseType:"blob"}).then((function(t){i.a.saveAs(t.data,e)})).catch((function(e){e.response?g.b.error(e.response.data.message):g.b.error("Error, contacte con soporte")}))};return c.a.createElement(r.a,{data:e.data,columns:f})}},742:function(e,t,a){"use strict";a.r(t);var n=a(61),c=a(1),r=a.n(c),o=a(626),l=a(627),s=a(318),i=a(694),u=a(695),m=a(15),d=a(32),E=a(21),b=a.n(E),g=a(45),f=a(23),p=a(671),_=a(618),h=a(50),v=a(319),j=a(739),O=a(171),C=a(654),k=a(655),y=(a(656),a(675)),x=[],N=function(e){var t=Object(c.useState)({account_name:""}),a=Object(n.a)(t,2),E=a[0],N=a[1],w=Object(c.useState)(!1),D=Object(n.a)(w,2),S=D[0],A=D[1],z=Object(c.useState)(!1),H=Object(n.a)(z,2),I=H[0],M=H[1],P=Object(c.useState)(!1),q=Object(n.a)(P,2),R=q[0],T=q[1],Y=Object(c.useState)([]),F=Object(n.a)(Y,2),B=F[0],V=F[1],K=Object(c.useState)([]),G=Object(n.a)(K,2),U=G[0],J=G[1];Object(c.useEffect)((function(){return function(){x=[]}}),[]),Object(c.useMemo)((function(){x=[{Header:"Nombre",accessor:"account_name"},{Header:"Ingresos",accessor:function(e){return[e.earnings.length]}},{Header:"Egresos",accessor:function(e){return[e.expensives.length]}},{Header:"Acciones",Cell:function(e){var t=e.cell.row.original.id;return r.a.createElement(p.a,{size:"sm",id:"drop"+t,title:"Seleccione",block:"true"},r.a.createElement(_.a.Item,{onClick:function(){return $(e.cell.row.original)}},"Ver Ingresos y Egresos"),r.a.createElement(_.a.Item,{onClick:function(){return Z(e.cell.row.original)}},"Modificar"),r.a.createElement(_.a.Item,{onClick:function(){return W(t)}},"Eliminar"))}}]}),[]);var L=function(){N({account_name:""})},W=function(t){Object(k.confirmAlert)({customUI:function(a){var n=a.onClose;return r.a.createElement("div",{className:"custom-ui-edit"},r.a.createElement("h1",null,"\xbfEsta seguro?"),r.a.createElement("p",{className:"font-alert"},"\xbfDesea realmente borrar este registro?"),r.a.createElement("button",{className:"button-alert",onClick:function(){!function(t){b.a.delete(d.a+"flow_cash_account/"+t).then((function(t){m.b.success("Registro Eliminado"),e.fetchData()})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))}(t),n()}},"Si, Aceptar"),r.a.createElement("button",{className:"button-alert",onClick:n},"No"))}})},Q=function(){A(!S)},X=function(){T(!R)},Z=function(e){N({account_name:e.account_name,id:e.id}),Q()},$=function(e){V(e.earnings),J(e.expensives),X()};return r.a.createElement(o.a,null,r.a.createElement("br",null),r.a.createElement("br",null),S?r.a.createElement(h.a,{onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),!1===a.checkValidity())return t.stopPropagation(),void M(!0);var n=Object.assign({},E);n.id?b.a.put(d.a+"flow_cash_account/"+n.id,n).then((function(t){m.b.success("Cuenta Modificada"),L(),Q(),e.fetchData()})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")})):b.a.post(d.a+"flow_cash_account",n).then((function(t){m.b.success("Cuenta Agregada"),L(),Q(),e.fetchData()})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))},noValidate:!0,validated:I},r.a.createElement(l.a,{className:"justify-content-center"},r.a.createElement(O.a,Object.assign({},e.inputName,{value:E.account_name,handleChange:function(e){N(Object(f.a)(Object(f.a)({},E),{},Object(g.a)({},e.target.name,e.target.value)))}}))),r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:6,md:6,lg:6,xs:12},r.a.createElement("br",null),r.a.createElement(v.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Guardar Cuenta")),r.a.createElement(s.a,{sm:6,md:6,lg:6,xs:12},r.a.createElement("br",null),r.a.createElement(v.a,{size:"sm",type:"button",variant:"info",block:!0,onClick:Q},"Desplegar Datos")))):r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:12,md:12,lg:12},r.a.createElement(l.a,{className:"justify-content-center"},r.a.createElement(s.a,{sm:6,md:6,lg:6,xs:12},r.a.createElement(v.a,{size:"sm",variant:"secondary",block:!0,onClick:Q},"Agregar Cuenta"))),r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:12,md:12,lg:12,xs:12},r.a.createElement(C.a,{data:e.accounts,columns:x}))))),r.a.createElement(j.a,{show:R,onHide:X,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(j.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},r.a.createElement(j.a.Title,{id:"contained-modal-title-vcenter"},"Ingresos y Egresos")),r.a.createElement(j.a.Body,null,r.a.createElement(i.a,{defaultActiveKey:"earnings",id:"uncontrolled-tab-example"},r.a.createElement(u.a,{eventKey:"earnings",title:"Ingresos"},r.a.createElement(y.a,{data:B,isAccount:!0})),r.a.createElement(u.a,{eventKey:"expensives",title:"Egresos"},r.a.createElement(y.a,{data:U,isAccount:!0})))),r.a.createElement(j.a.Footer,null,r.a.createElement(v.a,{size:"sm",variant:"secondary",onClick:X},"cerrar"))))};N.defaultProps={inputName:{type:"text",required:!0,name:"account_name",label:"Nombre de la Cuenta",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]}};var w=N,D=[],S=function(e){var t=Object(c.useState)({name:""}),a=Object(n.a)(t,2),E=a[0],x=a[1],N=Object(c.useState)(!1),w=Object(n.a)(N,2),S=w[0],A=w[1],z=Object(c.useState)(!1),H=Object(n.a)(z,2),I=H[0],M=H[1],P=Object(c.useState)(!1),q=Object(n.a)(P,2),R=q[0],T=q[1],Y=Object(c.useState)([]),F=Object(n.a)(Y,2),B=F[0],V=F[1],K=Object(c.useState)([]),G=Object(n.a)(K,2),U=G[0],J=G[1];Object(c.useEffect)((function(){return function(){D=[]}}),[]),Object(c.useMemo)((function(){D=[{Header:"Nombre",accessor:"name"},{Header:"Ingresos",accessor:function(e){return[e.earnings.length]}},{Header:"Egresos",accessor:function(e){return[e.expensives.length]}},{Header:"Acciones",Cell:function(e){var t=e.cell.row.original.id;return r.a.createElement(p.a,{size:"sm",id:"drop"+t,title:"Seleccione",block:"true"},r.a.createElement(_.a.Item,{onClick:function(){return $(e.cell.row.original)}},"Ver Ingresos y Egresos"),r.a.createElement(_.a.Item,{onClick:function(){return Z(e.cell.row.original)}},"Modificar"),r.a.createElement(_.a.Item,{onClick:function(){return W(t)}},"Eliminar"))}}]}),[]);var L=function(){x({name:""})},W=function(t){Object(k.confirmAlert)({customUI:function(a){var n=a.onClose;return r.a.createElement("div",{className:"custom-ui-edit"},r.a.createElement("h1",null,"\xbfEsta seguro?"),r.a.createElement("p",{className:"font-alert"},"\xbfDesea realmente borrar este registro?"),r.a.createElement("button",{className:"button-alert",onClick:function(){!function(t){b.a.delete(d.a+"flow_cash_center_coste/"+t).then((function(t){m.b.success("Registro Eliminado"),e.fetchData()})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))}(t),n()}},"Si, Aceptar"),r.a.createElement("button",{className:"button-alert",onClick:n},"No"))}})},Q=function(){A(!S)},X=function(){T(!R)},Z=function(e){x({name:e.name,id:e.id}),Q()},$=function(e){V(e.earnings),J(e.expensives),X()};return r.a.createElement(o.a,null,r.a.createElement("br",null),r.a.createElement("br",null),S?r.a.createElement(h.a,{onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),!1===a.checkValidity())return t.stopPropagation(),void M(!0);var n=Object.assign({},E);n.id?b.a.put(d.a+"flow_cash_center_coste/"+n.id,n).then((function(t){m.b.success("Cuenta Modificada"),L(),Q(),e.fetchData()})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")})):b.a.post(d.a+"flow_cash_center_coste",n).then((function(t){m.b.success("Cuenta Agregada"),L(),Q(),e.fetchData()})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))},noValidate:!0,validated:I},r.a.createElement(l.a,{className:"justify-content-center"},r.a.createElement(O.a,Object.assign({},e.inputName,{value:E.name,handleChange:function(e){x(Object(f.a)(Object(f.a)({},E),{},Object(g.a)({},e.target.name,e.target.value)))}}))),r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:6,md:6,lg:6,xs:12},r.a.createElement("br",null),r.a.createElement(v.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Guardar Centro de Costo")),r.a.createElement(s.a,{sm:6,md:6,lg:6,xs:12},r.a.createElement("br",null),r.a.createElement(v.a,{size:"sm",type:"button",variant:"info",block:!0,onClick:Q},"Desplegar Datos")))):r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:12,md:12,lg:12},r.a.createElement(l.a,{className:"justify-content-center"},r.a.createElement(s.a,{sm:6,md:6,lg:6,xs:12},r.a.createElement(v.a,{size:"sm",variant:"secondary",block:!0,onClick:Q},"Agregar Centro de Costo"))),r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:12,md:12,lg:12,xs:12},r.a.createElement(C.a,{data:e.centerCostes,columns:D}))))),r.a.createElement(j.a,{show:R,onHide:X,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(j.a.Header,{closeButton:!0,style:{backgroundColor:"black",color:"white"}},r.a.createElement(j.a.Title,{id:"contained-modal-title-vcenter"},"Ingresos y Egresos")),r.a.createElement(j.a.Body,null,r.a.createElement(i.a,{defaultActiveKey:"earnings",id:"uncontrolled-tab-example"},r.a.createElement(u.a,{eventKey:"earnings",title:"Ingresos"},r.a.createElement(y.a,{data:B,isAccount:!1})),r.a.createElement(u.a,{eventKey:"expensives",title:"Egresos"},r.a.createElement(y.a,{data:U,isAccount:!1})))),r.a.createElement(j.a.Footer,null,r.a.createElement(v.a,{size:"sm",variant:"secondary",onClick:X},"cerrar"))))};S.defaultProps={inputName:{type:"text",required:!0,name:"name",label:"Nombre del Centro de Costo",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]}};var A=S,z=a(745),H=a(722),I=a(662),M=a(670),P=a.n(M),q=(a(657),a(29)),R=[],T=function(e){var t,a=Object(c.useState)([]),i=Object(n.a)(a,2),u=i[0],E=i[1],y=Object(c.useState)((t={name:"",description:"",amount:"",id_flow_cash_account:"",id_flow_cash_center_cost:"",date_execution:"",is_recurrent:!1},Object(g.a)(t,"date_execution",""),Object(g.a)(t,"document_1",""),Object(g.a)(t,"document_2",""),t)),x=Object(n.a)(y,2),N=x[0],w=x[1],D=Object(c.useState)(!1),S=Object(n.a)(D,2),A=S[0],M=S[1],T=Object(c.useState)(!1),Y=Object(n.a)(T,2),F=Y[0],B=Y[1],V=Object(c.useState)(null),K=Object(n.a)(V,2),G=K[0],U=K[1],J=Object(c.useState)(null),L=Object(n.a)(J,2),W=L[0],Q=L[1],X=Object(c.useState)(!1),Z=Object(n.a)(X,2),$=Z[0],ee=Z[1],te=Object(c.useState)({}),ae=Object(n.a)(te,2),ne=ae[0],ce=ae[1];Object(c.useEffect)((function(){return ie(),function(){R=[]}}),[]),Object(c.useMemo)((function(){R=[{Header:"Nombre",accessor:"name"},{Header:"Descripci\xf3n",accessor:"description"},{Header:"Monto",accessor:"amount",Cell:function(e){return e.cell.row.original.amount}},{Header:"Cuenta",accessor:function(e){return[e.account.account_name]}},{Header:"Centro de Costros",accessor:function(e){return[e.centerCoste.name]}},{Header:"Acciones",Cell:function(e){var t=e.cell.row.original.id;return r.a.createElement(p.a,{size:"sm",id:"drop"+t,title:"Seleccione",block:"true"},r.a.createElement(_.a.Item,{onClick:function(){return ge(e.cell.row.original)}},"Ver Detalle"),r.a.createElement(_.a.Item,{onClick:function(){return Ee(e.cell.row.original)}},"Modificar"),r.a.createElement(_.a.Item,{onClick:function(){return oe(t)}},"Eliminar"))}}]}),[]);var re=function(){var e;w((e={name:"",description:"",amount:"",id_flow_cash_account:"",id_flow_cash_center_cost:"",date_execution:"",is_recurrent:!1},Object(g.a)(e,"date_execution",""),Object(g.a)(e,"document_1",""),Object(g.a)(e,"document_2",""),e)),U(null),Q(null)},oe=function(t){Object(k.confirmAlert)({customUI:function(a){var n=a.onClose;return r.a.createElement("div",{className:"custom-ui-edit"},r.a.createElement("h1",null,"\xbfEsta seguro?"),r.a.createElement("p",{className:"font-alert"},"\xbfDesea realmente borrar este registro?"),r.a.createElement("button",{className:"button-alert",onClick:function(){!function(t){b.a.delete(d.a+"flow_cash_earning/"+t).then((function(t){m.b.success("Registro Eliminado"),ie(),e.fetchData()})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))}(t),n()}},"Si, Aceptar"),r.a.createElement("button",{className:"button-alert",onClick:n},"No"))}})},le=function(){M(!A)},se=function(e){b.a.get(d.a+"flow_cash_doc_download/"+e,{responseType:"blob"}).then((function(t){P.a.saveAs(t.data,e)})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))},ie=function(){b.a.get(d.a+"flow_cash_earning").then((function(e){E(e.data)})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))},ue=function(e){document.getElementById(e).click()},me=function(e){"adjunt1"===e.target.id?U(e.target.files):Q(e.target.files)},de=function(){ee(!$)},Ee=function(e){var t;w((t={name:e.name,description:e.description,amount:e.amount,id_flow_cash_account:e.id_flow_cash_account,id_flow_cash_center_cost:e.id_flow_cash_center_cost,date_execution:e.date_execution,is_recurrent:e.is_recurrent},Object(g.a)(t,"date_execution",e.date_execution?I(e.date_execution).format("YYYY-MM-DD"):""),Object(g.a)(t,"document_1",e.document_1),Object(g.a)(t,"document_2",e.document_2),Object(g.a)(t,"id",e.id),t)),le()},be=function(e){if("is_recurrent"===e.target.name){var t="true"===e.target.value;w(Object(f.a)(Object(f.a)({},N),{},Object(g.a)({},e.target.name,t)))}else w(Object(f.a)(Object(f.a)({},N),{},Object(g.a)({},e.target.name,e.target.value)))},ge=function(e){ce(e),de()};return r.a.createElement(o.a,null,r.a.createElement("br",null),r.a.createElement("br",null),A?r.a.createElement(h.a,{onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),!1===a.checkValidity())return t.stopPropagation(),void B(!0);var n=new FormData;Object.keys(N).forEach((function(e,t){n.append(e,N[e])})),G&&(n.append("delete_adjunt_1",!0),Object.keys(G).forEach((function(e,t){n.append("documents",G[e])}))),W&&(n.append("delete_adjunt_2",!0),Object.keys(W).forEach((function(e,t){n.append("documents",W[e])}))),N.id?b.a.put(d.a+"flow_cash_earning/"+N.id,n).then((function(t){m.b.success("Ingreso Modificado"),re(),le(),ie(),e.fetchData()})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")})):b.a.post(d.a+"flow_cash_earning",n).then((function(t){m.b.success("Ingreso Agregado"),re(),le(),ie(),e.fetchData()})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))},noValidate:!0,validated:F},r.a.createElement(l.a,null,r.a.createElement(O.a,Object.assign({},e.inputName,{handleChange:be,value:N.name})),r.a.createElement(O.a,Object.assign({},e.inputDescription,{handleChange:be,value:N.description})),r.a.createElement(O.a,Object.assign({},e.inputAmount,{handleChange:be,value:N.amount}))),r.a.createElement(l.a,null,r.a.createElement(O.a,Object.assign({},e.inputAccount,{handleChange:be,value:N.id_flow_cash_account}),r.a.createElement("option",{value:""},"--Seleccione--"),e.accounts.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.account_name)}))),r.a.createElement(O.a,Object.assign({},e.inputCoste,{handleChange:be,value:N.id_flow_cash_center_cost}),r.a.createElement("option",{value:""},"--Seleccione--"),e.centerCostes.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})))),r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:12,md:12,lg:12},r.a.createElement(z.a,null,r.a.createElement(H.a,null,r.a.createElement(z.a.Toggle,{as:H.a.Header,eventKey:"0",style:{backgroundColor:"black",color:"lightblue"}},"Avanzado, hacer click para desplegar campos"),r.a.createElement(z.a.Collapse,{eventKey:"0"},r.a.createElement(H.a.Body,null,r.a.createElement(l.a,null,r.a.createElement(O.a,Object.assign({},e.inputDateExecution,{handleChange:be,value:N.date_execution})),r.a.createElement(s.a,{sm:6,md:6,lg:6},r.a.createElement("label",{for:""},"Es recurrente?"),r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:6,md:6,lg:6},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",onChange:be,name:"is_recurrent",value:!1,checked:!N.is_recurrent}),"\xa0\xa0No")),r.a.createElement(s.a,{sm:6,md:6,lg:6},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",onChange:be,name:"is_recurrent",value:!0,checked:!!N.is_recurrent}),"\xa0\xa0Si"))))),r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:4,md:4,lg:4},r.a.createElement("br",null),r.a.createElement(v.a,{size:"sm",variant:"info",block:!0,onClick:function(){return ue("adjunt1")}},"Adjunto1"),r.a.createElement("input",{type:"file",id:"adjunt1",onChange:me,style:{display:"none"}}),N.document_1&&N.id?r.a.createElement(v.a,{size:"sm",variant:"link",onClick:function(){return se(N.document_1)}},"Descargar Adjunto1"):""),r.a.createElement(s.a,{sm:4,md:4,lg:4},r.a.createElement("br",null),r.a.createElement(v.a,{size:"sm",variant:"info",block:!0,onClick:function(){return ue("adjunt2")}},"Adjunto2"),r.a.createElement("input",{type:"file",id:"adjunt2",onChange:me,style:{display:"none"}}),N.document_1&&N.id?r.a.createElement(v.a,{size:"sm",variant:"link",onClick:function(){return se(N.document_2)}},"Descargar Adjunto2"):"")))))))),r.a.createElement(l.a,{className:"justify-content-center"},r.a.createElement(s.a,{sm:4,md:4,lg:4,xs:12},r.a.createElement("br",null),r.a.createElement(v.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Guardar Ingreso")),r.a.createElement(s.a,{sm:4,md:4,lg:4,xs:12},r.a.createElement("br",null),r.a.createElement(v.a,{size:"sm",type:"button",variant:"info",block:!0,onClick:le},"Volver a la Tabla")))):r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:12,md:12,lg:12},r.a.createElement(l.a,{className:"justify-content-center"},r.a.createElement(s.a,{sm:6,md:6,lg:6,xs:12},r.a.createElement(v.a,{size:"sm",variant:"secondary",block:!0,onClick:le},"Agregar Ingresos"))),r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:12,md:12,lg:12,xs:12},r.a.createElement(C.a,{data:u,columns:R}))))),r.a.createElement(j.a,{show:$,onHide:de,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(j.a.Header,{closeButton:!0,className:"header_dark"},r.a.createElement(j.a.Title,{id:"contained-modal-title-vcenter"},"Detalles del Egreso")),r.a.createElement(j.a.Body,null,r.a.createElement(l.a,{className:"justify-content-center"},r.a.createElement(s.a,{sm:8,md:8,lg:8,xs:8},Object.keys(ne).length>0?r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item text-center"},r.a.createElement("b",null,"Fecha de Ejecuci\xf3n:")," ",I(ne.date_execution).format("DD-MM-YYYY")," "),r.a.createElement("li",{className:"list-group-item text-center"},r.a.createElement("b",null,"\xbfEs recurrente?:")," ",ne.is_recurrent?"Si":"No"," "),ne.document_1?r.a.createElement("li",{className:"list-group-item text-center"},r.a.createElement("b",null,"Descargar Archivo Adjunto1:"),r.a.createElement(v.a,{size:"sm",variant:"link",onClick:function(){return se(ne.document_1)}},"Descargar ",r.a.createElement(q.e,null)," ")):"",ne.document_2?r.a.createElement("li",{className:"list-group-item text-center"},r.a.createElement("b",null,"Descargar Archivo Adjunto2:"),r.a.createElement(v.a,{size:"sm",variant:"link",onClick:function(){return se(ne.document_2)}},"Descargar ",r.a.createElement(q.e,null)," ")):""):""))),r.a.createElement(j.a.Footer,null,r.a.createElement(v.a,{size:"sm",onClick:de},"Cerrar"))))};T.defaultProps={inputName:{type:"text",required:!0,name:"name",label:"Nombre",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputDescription:{type:"textarea",required:!0,name:"description",label:"Descripci\xf3n",rows:"2",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputAmount:{type:"number",required:!0,name:"amount",label:"Monto",step:"any",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputAccount:{type:"select",required:!0,name:"id_flow_cash_account",label:"Cuenta",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]},inputCoste:{type:"select",required:!0,name:"id_flow_cash_center_cost",label:"Centro de Costo",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]},inputDateExecution:{type:"date",required:!1,name:"date_execution",label:"Fecha de Ejecuci\xf3n",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]}};var Y=T,F=[],B=function(e){var t,a=Object(c.useState)([]),i=Object(n.a)(a,2),u=i[0],E=i[1],y=Object(c.useState)((t={name:"",description:"",amount:"",id_flow_cash_account:"",id_flow_cash_center_cost:"",date_execution:"",is_recurrent:!1},Object(g.a)(t,"date_execution",""),Object(g.a)(t,"document_1",""),Object(g.a)(t,"document_2",""),t)),x=Object(n.a)(y,2),N=x[0],w=x[1],D=Object(c.useState)(!1),S=Object(n.a)(D,2),A=S[0],M=S[1],R=Object(c.useState)(null),T=Object(n.a)(R,2),Y=T[0],B=T[1],V=Object(c.useState)(null),K=Object(n.a)(V,2),G=K[0],U=K[1],J=Object(c.useState)(!1),L=Object(n.a)(J,2),W=L[0],Q=L[1],X=Object(c.useState)(!1),Z=Object(n.a)(X,2),$=Z[0],ee=Z[1],te=Object(c.useState)({}),ae=Object(n.a)(te,2),ne=ae[0],ce=ae[1];Object(c.useEffect)((function(){return ie(),function(){F=[]}}),[]),Object(c.useMemo)((function(){F=[{Header:"Nombre",accessor:"name"},{Header:"Descripci\xf3n",accessor:"description"},{Header:"Monto",accessor:"amount",Cell:function(e){return e.cell.row.original.amount}},{Header:"Cuenta",accessor:function(e){return[e.account.account_name]}},{Header:"Centro de Costros",accessor:function(e){return[e.centerCoste.name]}},{Header:"Acciones",Cell:function(e){var t=e.cell.row.original.id;return r.a.createElement(p.a,{size:"sm",id:"drop"+t,title:"Seleccione",block:"true"},r.a.createElement(_.a.Item,{onClick:function(){return ge(e.cell.row.original)}},"Ver Detalle"),r.a.createElement(_.a.Item,{onClick:function(){return Ee(e.cell.row.original)}},"Modificar"),r.a.createElement(_.a.Item,{onClick:function(){return oe(t)}},"Eliminar"))}}]}),[]);var re=function(){var e;w((e={name:"",description:"",amount:"",id_flow_cash_account:"",id_flow_cash_center_cost:"",date_execution:"",is_recurrent:!1},Object(g.a)(e,"date_execution",""),Object(g.a)(e,"document_1",""),Object(g.a)(e,"document_2",""),e)),B(null),U(null)},oe=function(t){Object(k.confirmAlert)({customUI:function(a){var n=a.onClose;return r.a.createElement("div",{className:"custom-ui-edit"},r.a.createElement("h1",null,"\xbfEsta seguro?"),r.a.createElement("p",{className:"font-alert"},"\xbfDesea realmente borrar este registro?"),r.a.createElement("button",{className:"button-alert",onClick:function(){!function(t){b.a.delete(d.a+"flow_cash_expensive/"+t).then((function(t){m.b.success("Registro Eliminado"),ie(),e.fetchData()})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))}(t),n()}},"Si, Aceptar"),r.a.createElement("button",{className:"button-alert",onClick:n},"No"))}})},le=function(){M(!A)},se=function(e){b.a.get(d.a+"flow_cash_doc_download/"+e,{responseType:"blob"}).then((function(t){P.a.saveAs(t.data,e)})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))},ie=function(){b.a.get(d.a+"flow_cash_expensive").then((function(e){E(e.data)})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))},ue=function(e){document.getElementById(e).click()},me=function(e){"adjunt1"===e.target.id?B(e.target.files):U(e.target.files)},de=function(){ee(!$)},Ee=function(e){var t;w((t={name:e.name,description:e.description,amount:e.amount,id_flow_cash_account:e.id_flow_cash_account,id_flow_cash_center_cost:e.id_flow_cash_center_cost,date_execution:e.date_execution,is_recurrent:e.is_recurrent},Object(g.a)(t,"date_execution",e.date_execution?I(e.date_execution).format("YYYY-MM-DD"):""),Object(g.a)(t,"document_1",e.document_1),Object(g.a)(t,"document_2",e.document_2),Object(g.a)(t,"id",e.id),t)),le()},be=function(e){if("is_recurrent"===e.target.name){var t="true"===e.target.value;w(Object(f.a)(Object(f.a)({},N),{},Object(g.a)({},e.target.name,t)))}else w(Object(f.a)(Object(f.a)({},N),{},Object(g.a)({},e.target.name,e.target.value)))},ge=function(e){ce(e),de()};return r.a.createElement(o.a,null,r.a.createElement("br",null),r.a.createElement("br",null),A?r.a.createElement(h.a,{onSubmit:function(t){var a=t.currentTarget;if(t.preventDefault(),!1===a.checkValidity())return t.stopPropagation(),void Q(!0);var n=new FormData;Object.keys(N).forEach((function(e,t){n.append(e,N[e])})),Y&&(n.append("delete_adjunt_1",!0),Object.keys(Y).forEach((function(e,t){n.append("documents",Y[e])}))),G&&(n.append("delete_adjunt_2",!0),Object.keys(G).forEach((function(e,t){n.append("documents",G[e])}))),N.id?b.a.put(d.a+"flow_cash_expensive/"+N.id,n).then((function(t){m.b.success("Egreso Modificado"),re(),le(),ie(),e.fetchData()})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")})):b.a.post(d.a+"flow_cash_expensive",n).then((function(t){m.b.success("Egreso Agregado"),re(),le(),ie(),e.fetchData()})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))},noValidate:!0,validated:W},r.a.createElement(l.a,null,r.a.createElement(O.a,Object.assign({},e.inputName,{handleChange:be,value:N.name})),r.a.createElement(O.a,Object.assign({},e.inputDescription,{handleChange:be,value:N.description})),r.a.createElement(O.a,Object.assign({},e.inputAmount,{handleChange:be,value:N.amount}))),r.a.createElement(l.a,null,r.a.createElement(O.a,Object.assign({},e.inputAccount,{handleChange:be,value:N.id_flow_cash_account}),r.a.createElement("option",{value:""},"--Seleccione--"),e.accounts.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.account_name)}))),r.a.createElement(O.a,Object.assign({},e.inputCoste,{handleChange:be,value:N.id_flow_cash_center_cost}),r.a.createElement("option",{value:""},"--Seleccione--"),e.centerCostes.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},e.name)})))),r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:12,md:12,lg:12},r.a.createElement(z.a,null,r.a.createElement(H.a,null,r.a.createElement(z.a.Toggle,{as:H.a.Header,eventKey:"0",style:{backgroundColor:"black",color:"lightblue"}},"Avanzado, hacer click para desplegar campos"),r.a.createElement(z.a.Collapse,{eventKey:"0"},r.a.createElement(H.a.Body,null,r.a.createElement(l.a,null,r.a.createElement(O.a,Object.assign({},e.inputDateExecution,{handleChange:be,value:N.date_execution})),r.a.createElement(s.a,{sm:6,md:6,lg:6},r.a.createElement("label",{for:""},"Es recurrente?"),r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:6,md:6,lg:6},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",onChange:be,name:"is_recurrent",value:!1,checked:!N.is_recurrent}),"\xa0\xa0No")),r.a.createElement(s.a,{sm:6,md:6,lg:6},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",onChange:be,name:"is_recurrent",value:!0,checked:!!N.is_recurrent}),"\xa0\xa0Si"))))),r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:4,md:4,lg:4},r.a.createElement("br",null),r.a.createElement(v.a,{size:"sm",variant:"info",block:!0,onClick:function(){return ue("adjunt1")}},"Adjunto1"),r.a.createElement("input",{type:"file",id:"adjunt1",onChange:me,style:{display:"none"}}),N.document_1&&N.id?r.a.createElement(v.a,{size:"sm",variant:"link",onClick:function(){return se(N.document_1)}},"Descargar Adjunto1"):""),r.a.createElement(s.a,{sm:4,md:4,lg:4},r.a.createElement("br",null),r.a.createElement(v.a,{size:"sm",variant:"info",block:!0,onClick:function(){return ue("adjunt2")}},"Adjunto2"),r.a.createElement("input",{type:"file",id:"adjunt2",onChange:me,style:{display:"none"}}),N.document_1&&N.id?r.a.createElement(v.a,{size:"sm",variant:"link",onClick:function(){return se(N.document_2)}},"Descargar Adjunto2"):"")))))))),r.a.createElement(l.a,{className:"justify-content-center"},r.a.createElement(s.a,{sm:4,md:4,lg:4,xs:12},r.a.createElement("br",null),r.a.createElement(v.a,{size:"sm",type:"submit",variant:"primary",block:!0},"Guardar Egreso")),r.a.createElement(s.a,{sm:4,md:4,lg:4,xs:12},r.a.createElement("br",null),r.a.createElement(v.a,{size:"sm",type:"button",variant:"info",block:!0,onClick:le},"Volver a la Tabla")))):r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:12,md:12,lg:12},r.a.createElement(l.a,{className:"justify-content-center"},r.a.createElement(s.a,{sm:6,md:6,lg:6,xs:12},r.a.createElement(v.a,{size:"sm",variant:"secondary",block:!0,onClick:le},"Agregar Egreso"))),r.a.createElement(l.a,null,r.a.createElement(s.a,{sm:12,md:12,lg:12,xs:12},r.a.createElement(C.a,{data:u,columns:F}))))),r.a.createElement(j.a,{show:$,onHide:de,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(j.a.Header,{closeButton:!0,className:"header_dark"},r.a.createElement(j.a.Title,{id:"contained-modal-title-vcenter"},"Detalles del Egreso")),r.a.createElement(j.a.Body,null,r.a.createElement(l.a,{className:"justify-content-center"},r.a.createElement(s.a,{sm:8,md:8,lg:8,xs:8},Object.keys(ne).length>0?r.a.createElement("ul",{className:"list-group"},r.a.createElement("li",{className:"list-group-item text-center"},r.a.createElement("b",null,"Fecha de Ejecuci\xf3n:")," ",I(ne.date_execution).format("DD-MM-YYYY")," "),r.a.createElement("li",{className:"list-group-item text-center"},r.a.createElement("b",null,"\xbfEs recurrente?:")," ",ne.is_recurrent?"Si":"No"," "),ne.document_1?r.a.createElement("li",{className:"list-group-item text-center"},r.a.createElement("b",null,"Descargar Archivo Adjunto1:"),r.a.createElement(v.a,{size:"sm",variant:"link",onClick:function(){return se(ne.document_1)}},"Descargar ",r.a.createElement(q.e,null)," ")):"",ne.document_2?r.a.createElement("li",{className:"list-group-item text-center"},r.a.createElement("b",null,"Descargar Archivo Adjunto2:"),r.a.createElement(v.a,{size:"sm",variant:"link",onClick:function(){return se(ne.document_2)}},"Descargar ",r.a.createElement(q.e,null)," ")):""):""))),r.a.createElement(j.a.Footer,null,r.a.createElement(v.a,{size:"sm",onClick:de},"Cerrar"))))};B.defaultProps={inputName:{type:"text",required:!0,name:"name",label:"Nombre",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputDescription:{type:"textarea",required:!0,name:"description",label:"Descripci\xf3n",rows:"2",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputAmount:{type:"number",required:!0,name:"amount",label:"Monto",step:"any",cols:"col-sm-4 col-md-4 col-lg-4 col-xs-4",messageErrors:["Requerido*"]},inputAccount:{type:"select",required:!0,name:"id_flow_cash_account",label:"Cuenta",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]},inputCoste:{type:"select",required:!0,name:"id_flow_cash_center_cost",label:"Centro de Costo",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]},inputDateExecution:{type:"date",required:!1,name:"date_execution",label:"Fecha de Ejecuci\xf3n",cols:"col-sm-6 col-md-6 col-lg-6 col-xs-6",messageErrors:["Requerido*"]}};var V=B;t.default=function(e){var t=Object(c.useState)([]),a=Object(n.a)(t,2),E=a[0],g=a[1],f=Object(c.useState)([]),p=Object(n.a)(f,2),_=p[0],h=p[1];Object(c.useEffect)((function(){v()}),[]);var v=function(){var e=[b.a.get(d.a+"flow_cash_account"),b.a.get(d.a+"flow_cash_center_coste")];Promise.all(e).then((function(e){h(e[0].data),g(e[1].data)})).catch((function(e){e.response?m.b.error(e.response.data.message):m.b.error("Error, contacte con soporte")}))};return r.a.createElement(o.a,null,r.a.createElement(l.a,{className:"containerDiv"},r.a.createElement(s.a,{sm:12,md:12,lg:12,xs:12},r.a.createElement(i.a,{defaultActiveKey:"center_coste",id:"uncontrolled-tab-example"},r.a.createElement(u.a,{eventKey:"center_coste",title:"Centro de Costos"},r.a.createElement(A,{centerCostes:E,fetchData:v})),r.a.createElement(u.a,{eventKey:"accounts",title:"Cuentas"},r.a.createElement(w,{accounts:_,fetchData:v})),r.a.createElement(u.a,{eventKey:"earning",title:"Ingresos"},r.a.createElement(Y,{accounts:_,centerCostes:E,fetchData:v})),r.a.createElement(u.a,{eventKey:"expenses",title:"Egresos"},r.a.createElement(V,{accounts:_,centerCostes:E,fetchData:v}))))))}}}]);
//# sourceMappingURL=23.efb1f61b.chunk.js.map